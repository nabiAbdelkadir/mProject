!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=69)}([function(t,e,n){"use strict";var r=(n(70),n(71));n.d(e,"d",function(){return r.a}),n.d(e,"p",function(){return r.b}),n.d(e,"q",function(){return r.c}),n.d(e,"r",function(){return r.d});var i=n(75);n.d(e,"o",function(){return i.a});var o=n(60);n.d(e,"m",function(){return o.a});var a=n(142);n.d(e,"k",function(){return a.a});var s=n(143);n.d(e,"c",function(){return s.a});var u=n(144);n.d(e,"f",function(){return u.a});var l=n(145);n.d(e,"j",function(){return l.a});var c=n(146);n.d(e,"l",function(){return c.a});var h=n(147);n.d(e,"a",function(){return h.a});var f=n(148);n.d(e,"h",function(){return f.a});var d=n(149);n.d(e,"i",function(){return d.a});var p=n(150);n.d(e,"e",function(){return p.a});var v=n(151);n.d(e,"g",function(){return v.a});var y=n(152);n.d(e,"b",function(){return y.a});var g=n(153);n.d(e,"n",function(){return g.a})},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var r;!function(i,o){void 0!==(r=function(){return o(i,i.document)}.call(e,n,e,t))&&(t.exports=r)}("undefined"!=typeof window?window:this,function(t,e){function n(t,e,n,r){return n+r.replace(x.regex.dots," .")}function r(t){for(var e=t.slice(0),n=e.length;n--;)Array.isArray(e[n])&&(e[n]=r(e[n]));return e}function i(t,e){return t instanceof e}function o(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)}function a(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function s(t){return t.charAt(0).toUpperCase()+t.slice(1)}function u(t){return 4==t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}function l(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function c(t,e,n){if(null==e||null==n){var r=t.bbox();null==e?e=r.width/r.height*n:null==n&&(n=r.height/r.width*e)}return{width:e,height:n}}function h(t,e,n){return{x:e*t.a+n*t.c+0,y:e*t.b+n*t.d+0}}function f(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}function d(t){return t instanceof x.Matrix||(t=new x.Matrix(t)),t}function p(t,e){t.cx=null==t.cx?e.bbox().cx:t.cx,t.cy=null==t.cy?e.bbox().cy:t.cy}function v(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e][0],null!=t[e][1]&&(r+=t[e][1],null!=t[e][2]&&(r+=" ",r+=t[e][2],null!=t[e][3]&&(r+=" ",r+=t[e][3],r+=" ",r+=t[e][4],null!=t[e][5]&&(r+=" ",r+=t[e][5],r+=" ",r+=t[e][6],null!=t[e][7]&&(r+=" ",r+=t[e][7])))));return r+" "}function y(e){for(var n=e.childNodes.length-1;n>=0;n--)e.childNodes[n]instanceof t.SVGElement&&y(e.childNodes[n]);return x.adopt(e).id(x.eid(e.nodeName))}function g(t){return null==t.x&&(t.x=0,t.y=0,t.width=0,t.height=0),t.w=t.width,t.h=t.height,t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}function m(t){var e=t.toString().match(x.regex.reference);if(e)return e[1]}var x=this.SVG=function(t){if(x.supported)return t=new x.Doc(t),x.parser.draw||x.prepare(),t};if(x.ns="http://www.w3.org/2000/svg",x.xmlns="http://www.w3.org/2000/xmlns/",x.xlink="http://www.w3.org/1999/xlink",x.svgjs="http://svgjs.com/svgjs",x.supported=function(){return!!e.createElementNS&&!!e.createElementNS(x.ns,"svg").createSVGRect}(),!x.supported)return!1;x.did=1e3,x.eid=function(t){return"Svgjs"+s(t)+x.did++},x.create=function(t){var n=e.createElementNS(this.ns,t);return n.setAttribute("id",this.eid(t)),n},x.extend=function(){var t,e,n,r;for(t=[].slice.call(arguments),e=t.pop(),r=t.length-1;r>=0;r--)if(t[r])for(n in e)t[r].prototype[n]=e[n];x.Set&&x.Set.inherit&&x.Set.inherit()},x.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,x.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&x.extend(e,t.extend),t.construct&&x.extend(t.parent||x.Container,t.construct),e},x.adopt=function(e){if(!e)return null;if(e.instance)return e.instance;var n;return n="svg"==e.nodeName?e.parentNode instanceof t.SVGElement?new x.Nested:new x.Doc:"linearGradient"==e.nodeName?new x.Gradient("linear"):"radialGradient"==e.nodeName?new x.Gradient("radial"):x[s(e.nodeName)]?new(x[s(e.nodeName)]):new x.Element(e),n.type=e.nodeName,n.node=e,e.instance=n,n instanceof x.Doc&&n.namespace().defs(),n.setData(JSON.parse(e.getAttribute("svgjs:data"))||{}),n},x.prepare=function(){var t=e.getElementsByTagName("body")[0],n=(t?new x.Doc(t):x.adopt(e.documentElement).nested()).size(2,0);x.parser={body:t||e.documentElement,draw:n.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:n.polyline().node,path:n.path().node,native:x.create("svg")}},x.parser={native:x.create("svg")},e.addEventListener("DOMContentLoaded",function(){x.parser.draw||x.prepare()},!1),x.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},x.utils={map:function(t,e){var n,r=t.length,i=[];for(n=0;n<r;n++)i.push(e(t[n]));return i},filter:function(t,e){var n,r=t.length,i=[];for(n=0;n<r;n++)e(t[n])&&i.push(t[n]);return i},radians:function(t){return t%360*Math.PI/180},degrees:function(t){return 180*t/Math.PI%360},filterSVGElements:function(e){return this.filter(e,function(e){return e instanceof t.SVGElement})}},x.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},x.Color=function(t){var e;this.r=0,this.g=0,this.b=0,t&&("string"==typeof t?x.regex.isRgb.test(t)?(e=x.regex.rgb.exec(t.replace(x.regex.whitespace,"")),this.r=parseInt(e[1]),this.g=parseInt(e[2]),this.b=parseInt(e[3])):x.regex.isHex.test(t)&&(e=x.regex.hex.exec(u(t)),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16)):"object"==typeof t&&(this.r=t.r,this.g=t.g,this.b=t.b))},x.extend(x.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+l(this.r)+l(this.g)+l(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new x.Color(t),this},at:function(t){return this.destination?(t=t<0?0:t>1?1:t,new x.Color({r:~~(this.r+(this.destination.r-this.r)*t),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)})):this}}),x.Color.test=function(t){return t+="",x.regex.isHex.test(t)||x.regex.isRgb.test(t)},x.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},x.Color.isColor=function(t){return x.Color.isRgb(t)||x.Color.test(t)},x.Array=function(t,e){t=(t||[]).valueOf(),0==t.length&&e&&(t=e.valueOf()),this.value=this.parse(t)},x.extend(x.Array,{morph:function(t){if(this.destination=this.parse(t),this.value.length!=this.destination.length){for(var e=this.value[this.value.length-1],n=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(n);for(;this.value.length<this.destination.length;)this.value.push(e)}return this},settle:function(){for(var t=0,e=this.value.length,n=[];t<e;t++)-1==n.indexOf(this.value[t])&&n.push(this.value[t]);return this.value=n},at:function(t){if(!this.destination)return this;for(var e=0,n=this.value.length,r=[];e<n;e++)r.push(this.value[e]+(this.destination[e]-this.value[e])*t);return new x.Array(r)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)},split:function(t){return t.trim().split(x.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var t=new this.constructor;return t.value=r(this.value),t}}),x.PointArray=function(t,e){x.Array.call(this,t,e||[[0,0]])},x.PointArray.prototype=new x.Array,x.PointArray.prototype.constructor=x.PointArray,x.extend(x.PointArray,{toString:function(){for(var t=0,e=this.value.length,n=[];t<e;t++)n.push(this.value[t].join(","));return n.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(t){if(!this.destination)return this;for(var e=0,n=this.value.length,r=[];e<n;e++)r.push([this.value[e][0]+(this.destination[e][0]-this.value[e][0])*t,this.value[e][1]+(this.destination[e][1]-this.value[e][1])*t]);return new x.PointArray(r)},parse:function(t){var e=[];if(t=t.valueOf(),Array.isArray(t)){if(Array.isArray(t[0]))return t}else t=t.trim().split(x.regex.delimiter).map(parseFloat);t.length%2!=0&&t.pop();for(var n=0,r=t.length;n<r;n+=2)e.push([t[n],t[n+1]]);return e},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var r=this.value.length-1;r>=0;r--)this.value[r]=[this.value[r][0]+t,this.value[r][1]+e];return this},size:function(t,e){var n,r=this.bbox();for(n=this.value.length-1;n>=0;n--)r.width&&(this.value[n][0]=(this.value[n][0]-r.x)*t/r.width+r.x),r.height&&(this.value[n][1]=(this.value[n][1]-r.y)*e/r.height+r.y);return this},bbox:function(){return x.parser.poly.setAttribute("points",this.toString()),x.parser.poly.getBBox()}});for(var b={M:function(t,e,n){return e.x=n.x=t[0],e.y=n.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,n){return e.x=n.x,e.y=n.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},w="mlhvqtcsaz".split(""),_=0,M=w.length;_<M;++_)b[w[_]]=function(t){return function(e,n,r){if("H"==t)e[0]=e[0]+n.x;else if("V"==t)e[0]=e[0]+n.y;else if("A"==t)e[5]=e[5]+n.x,e[6]=e[6]+n.y;else for(var i=0,o=e.length;i<o;++i)e[i]=e[i]+(i%2?n.y:n.x);return b[t](e,n,r)}}(w[_].toUpperCase());x.PathArray=function(t,e){x.Array.call(this,t,e||[["M",0,0]])},x.PathArray.prototype=new x.Array,x.PathArray.prototype.constructor=x.PathArray,x.extend(x.PathArray,{toString:function(){return v(this.value)},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var r,i=this.value.length-1;i>=0;i--)r=this.value[i][0],"M"==r||"L"==r||"T"==r?(this.value[i][1]+=t,this.value[i][2]+=e):"H"==r?this.value[i][1]+=t:"V"==r?this.value[i][1]+=e:"C"==r||"S"==r||"Q"==r?(this.value[i][1]+=t,this.value[i][2]+=e,this.value[i][3]+=t,this.value[i][4]+=e,"C"==r&&(this.value[i][5]+=t,this.value[i][6]+=e)):"A"==r&&(this.value[i][6]+=t,this.value[i][7]+=e);return this},size:function(t,e){var n,r,i=this.bbox();for(n=this.value.length-1;n>=0;n--)r=this.value[n][0],"M"==r||"L"==r||"T"==r?(this.value[n][1]=(this.value[n][1]-i.x)*t/i.width+i.x,this.value[n][2]=(this.value[n][2]-i.y)*e/i.height+i.y):"H"==r?this.value[n][1]=(this.value[n][1]-i.x)*t/i.width+i.x:"V"==r?this.value[n][1]=(this.value[n][1]-i.y)*e/i.height+i.y:"C"==r||"S"==r||"Q"==r?(this.value[n][1]=(this.value[n][1]-i.x)*t/i.width+i.x,this.value[n][2]=(this.value[n][2]-i.y)*e/i.height+i.y,this.value[n][3]=(this.value[n][3]-i.x)*t/i.width+i.x,this.value[n][4]=(this.value[n][4]-i.y)*e/i.height+i.y,"C"==r&&(this.value[n][5]=(this.value[n][5]-i.x)*t/i.width+i.x,this.value[n][6]=(this.value[n][6]-i.y)*e/i.height+i.y)):"A"==r&&(this.value[n][1]=this.value[n][1]*t/i.width,this.value[n][2]=this.value[n][2]*e/i.height,this.value[n][6]=(this.value[n][6]-i.x)*t/i.width+i.x,this.value[n][7]=(this.value[n][7]-i.y)*e/i.height+i.y);return this},equalCommands:function(t){var e,n,r;for(t=new x.PathArray(t),r=this.value.length===t.value.length,e=0,n=this.value.length;r&&e<n;e++)r=this.value[e][0]===t.value[e][0];return r},morph:function(t){return t=new x.PathArray(t),this.equalCommands(t)?this.destination=t:this.destination=null,this},at:function(t){if(!this.destination)return this;var e,n,r,i,o=this.value,a=this.destination.value,s=[],u=new x.PathArray;for(e=0,n=o.length;e<n;e++){for(s[e]=[o[e][0]],r=1,i=o[e].length;r<i;r++)s[e][r]=o[e][r]+(a[e][r]-o[e][r])*t;"A"===s[e][0]&&(s[e][4]=+(0!=s[e][4]),s[e][5]=+(0!=s[e][5]))}return u.value=s,u},parse:function(t){if(t instanceof x.PathArray)return t.valueOf();var e,r,i={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};t="string"==typeof t?t.replace(x.regex.numbersWithDots,n).replace(x.regex.pathLetters," $& ").replace(x.regex.hyphen,"$1 -").trim().split(x.regex.delimiter):t.reduce(function(t,e){return[].concat.call(t,e)},[]);var r=[],o=new x.Point,a=new x.Point,s=0,u=t.length;do{x.regex.isPathLetter.test(t[s])?(e=t[s],++s):"M"==e?e="L":"m"==e&&(e="l"),r.push(b[e].call(null,t.slice(s,s+=i[e.toUpperCase()]).map(parseFloat),o,a))}while(u>s);return r},bbox:function(){return x.parser.path.setAttribute("d",this.toString()),x.parser.path.getBBox()}}),x.Number=x.invent({create:function(t,e){this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-3.4e38:3.4e38:"string"==typeof t?(e=t.match(x.regex.numberAndUnit))&&(this.value=parseFloat(e[1]),"%"==e[5]?this.value/=100:"s"==e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof x.Number&&(this.value=t.valueOf(),this.unit=t.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(t){return t=new x.Number(t),new x.Number(this+t,this.unit||t.unit)},minus:function(t){return t=new x.Number(t),new x.Number(this-t,this.unit||t.unit)},times:function(t){return t=new x.Number(t),new x.Number(this*t,this.unit||t.unit)},divide:function(t){return t=new x.Number(t),new x.Number(this/t,this.unit||t.unit)},to:function(t){var e=new x.Number(this);return"string"==typeof t&&(e.unit=t),e},morph:function(t){return this.destination=new x.Number(t),t.relative&&(this.destination.value+=this.value),this},at:function(t){return this.destination?new x.Number(this.destination).minus(this).times(t).plus(this):this}}}),x.Element=x.invent({create:function(t){this._stroke=x.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=t)&&(this.type=t.nodeName,this.node.instance=this,this._stroke=t.getAttribute("stroke")||this._stroke)},extend:{x:function(t){return this.attr("x",t)},y:function(t){return this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var n=c(this,t,e);return this.width(new x.Number(n.width)).height(new x.Number(n.height))},clone:function(t,e){this.writeDataToDom();var n=y(this.node.cloneNode(!0));return t?t.add(n):this.after(n),n},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},id:function(t){return this.attr("id",t)},inside:function(t,e){var n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(x.regex.delimiter)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter(function(e){return e!=t}).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},reference:function(t){return x.get(this.attr(t))},parent:function(e){var n=this;if(!n.node.parentNode)return null;if(n=x.adopt(n.node.parentNode),!e)return n;for(;n&&n.node instanceof t.SVGElement;){if("string"==typeof e?n.matches(e):n instanceof e)return n;if("#document"==n.node.parentNode.nodeName)return null;n=x.adopt(n.node.parentNode)}},doc:function(){return this instanceof x.Doc?this:this.parent(x.Doc)},parents:function(t){var e=[],n=this;do{if(!(n=n.parent(t))||!n.node)break;e.push(n)}while(n.parent);return e},matches:function(t){return o(this.node,t)},native:function(){return this.node},svg:function(t){var n=e.createElement("svg");if(!(t&&this instanceof x.Parent))return n.appendChild(t=e.createElement("svg")),this.writeDataToDom(),t.appendChild(this.node.cloneNode(!0)),n.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");n.innerHTML="<svg>"+t.replace(/\n/,"").replace(/<(\w+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var r=0,i=n.firstChild.childNodes.length;r<i;r++)this.node.appendChild(n.firstChild.firstChild);return this},writeDataToDom:function(){if(this.each||this.lines){(this.each?this:this.lines()).each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(t){return this.dom=t,this},is:function(t){return i(this,t)}}}),x.easing={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)}},x.morph=function(t){return function(e,n){return new x.MorphObj(e,n).at(t)}},x.Situation=x.invent({create:function(t){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new x.Number(t.duration).valueOf(),this.delay=new x.Number(t.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=t.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),x.FX=x.invent({create:function(t){this._target=t,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(t,e,n){"object"==typeof t&&(e=t.ease,n=t.delay,t=t.duration);var r=new x.Situation({duration:t||1e3,delay:n||0,ease:x.easing[e||"-"]||e});return this.queue(r),this},delay:function(t){var e=new x.Situation({duration:t,delay:0,ease:x.easing["-"]});return this.queue(e)},target:function(t){return t&&t instanceof x.Element?(this._target=t,this):this._target},timeToAbsPos:function(t){return(t-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(t){return this.situation.duration/this._speed*t+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=t.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){t.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(t){return("function"==typeof t||t instanceof x.Situation)&&this.situations.push(t),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof x.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var t,e,n,r=this.situation;if(r.init)return this;for(t in r.animations)for(n=this.target()[t](),Array.isArray(n)||(n=[n]),Array.isArray(r.animations[t])||(r.animations[t]=[r.animations[t]]),e=n.length;e--;)r.animations[t][e]instanceof x.Number&&(n[e]=new x.Number(n[e])),r.animations[t][e]=n[e].morph(r.animations[t][e]);for(t in r.attrs)r.attrs[t]=new x.MorphObj(this.target().attr(t),r.attrs[t]);for(t in r.styles)r.styles[t]=new x.MorphObj(this.target().style(t),r.styles[t]);return r.initialTransformation=this.target().matrixify(),r.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(t,e){var n=this.active;return this.active=!1,e&&this.clearQueue(),t&&this.situation&&(!n&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var t=this.situation;this.stop(),this.situation=t,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return!0===this.situation.loops&&(this.situation.loops=this.situation.loop+1),"number"==typeof this.situation.loops?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(t,e){var n=this.situation.duration/this._speed;return this.absPos=t,e||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*n,this.situation.finish=this.situation.start+n,this.step(!0)},speed:function(t){return 0===t?this.pause():t?(this._speed=t,this.at(this.absPos,!0)):this._speed},loop:function(t,e){var n=this.last();return n.loops=null==t||t,n.loop=0,e&&(n.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(t){var e=this.last();return e.reversed=void 0===t?!e.reversed:t,this},progress:function(t){return t?this.situation.ease(this.pos):this.pos},after:function(t){var e=this.last(),n=function n(r){r.detail.situation==e&&(t.call(this,e),this.off("finished.fx",n))};return this.target().on("finished.fx",n),this._callStart()},during:function(t){var e=this.last(),n=function(n){n.detail.situation==e&&t.call(this,n.detail.pos,x.morph(n.detail.pos),n.detail.eased,e)};return this.target().off("during.fx",n).on("during.fx",n),this.after(function(){this.off("during.fx",n)}),this._callStart()},afterAll:function(t){var e=function e(n){t.call(this),this.off("allfinished.fx",e)};return this.target().off("allfinished.fx",e).on("allfinished.fx",e),this._callStart()},duringAll:function(t){var e=function(e){t.call(this,e.detail.pos,x.morph(e.detail.pos),e.detail.eased,e.detail.situation)};return this.target().off("during.fx",e).on("during.fx",e),this.afterAll(function(){this.off("during.fx",e)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(t,e,n){return this.last()[n||"animations"][t]=e,this._callStart()},step:function(t){if(t||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops){var e,n,r;e=Math.max(this.absPos,0),n=Math.floor(e),!0===this.situation.loops||n<this.situation.loops?(this.pos=e-n,r=this.situation.loop,this.situation.loop=n):(this.absPos=this.situation.loops,this.pos=1,r=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-r)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var i=this.situation.ease(this.pos);for(var o in this.situation.once)o>this.lastPos&&o<=i&&(this.situation.once[o].call(this.target(),this.pos,i),delete this.situation.once[o]);return this.active&&this.target().fire("during",{pos:this.pos,eased:i,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=i,this):this},eachAt:function(){var t,e,n,r=this,i=this.target(),o=this.situation;for(t in o.animations)n=[].concat(o.animations[t]).map(function(t){return"string"!=typeof t&&t.at?t.at(o.ease(r.pos),r.pos):t}),i[t].apply(i,n);for(t in o.attrs)n=[t].concat(o.attrs[t]).map(function(t){return"string"!=typeof t&&t.at?t.at(o.ease(r.pos),r.pos):t}),i.attr.apply(i,n);for(t in o.styles)n=[t].concat(o.styles[t]).map(function(t){return"string"!=typeof t&&t.at?t.at(o.ease(r.pos),r.pos):t}),i.style.apply(i,n);if(o.transforms.length){for(n=o.initialTransformation,t=0,e=o.transforms.length;t<e;t++){var a=o.transforms[t];a instanceof x.Matrix?n=a.relative?n.multiply((new x.Matrix).morph(a).at(o.ease(this.pos))):n.morph(a).at(o.ease(this.pos)):(a.relative||a.undo(n.extract()),n=n.multiply(a.at(o.ease(this.pos))))}i.matrix(n)}return this},once:function(t,e,n){var r=this.last();return n||(t=r.ease(t)),r.once[t]=e,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:x.Element,construct:{animate:function(t,e,n){return(this.fx||(this.fx=new x.FX(this))).animate(t,e,n)},delay:function(t){return(this.fx||(this.fx=new x.FX(this))).delay(t)},stop:function(t,e){return this.fx&&this.fx.stop(t,e),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(t){if(this.fx){if(null==t)return this.fx.speed();this.fx.speed(t)}return this}}}),x.MorphObj=x.invent({create:function(t,e){return x.Color.isColor(e)?new x.Color(t).morph(e):x.regex.delimiter.test(t)?new x.Array(t).morph(e):x.regex.numberAndUnit.test(e)?new x.Number(t).morph(e):(this.value=t,void(this.destination=e))},extend:{at:function(t,e){return e<1?this.value:this.destination},valueOf:function(){return this.value}}}),x.extend(x.FX,{attr:function(t,e,n){if("object"==typeof t)for(var r in t)this.attr(r,t[r]);else this.add(t,e,"attrs");return this},style:function(t,e){if("object"==typeof t)for(var n in t)this.style(n,t[n]);else this.add(t,e,"styles");return this},x:function(t,e){if(this.target()instanceof x.G)return this.transform({x:t},e),this;var n=new x.Number(t);return n.relative=e,this.add("x",n)},y:function(t,e){if(this.target()instanceof x.G)return this.transform({y:t},e),this;var n=new x.Number(t);return n.relative=e,this.add("y",n)},cx:function(t){return this.add("cx",new x.Number(t))},cy:function(t){return this.add("cy",new x.Number(t))},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},size:function(t,e){if(this.target()instanceof x.Text)this.attr("font-size",t);else{var n;t&&e||(n=this.target().bbox()),t||(t=n.width/n.height*e),e||(e=n.height/n.width*t),this.add("width",new x.Number(t)).add("height",new x.Number(e))}return this},width:function(t){return this.add("width",new x.Number(t))},height:function(t){return this.add("height",new x.Number(t))},plot:function(t,e,n,r){return 4==arguments.length?this.plot([t,e,n,r]):this.add("plot",new(this.target().morphArray)(t))},leading:function(t){return this.target().leading?this.add("leading",new x.Number(t)):this},viewbox:function(t,e,n,r){return this.target()instanceof x.Container&&this.add("viewbox",new x.ViewBox(t,e,n,r)),this},update:function(t){if(this.target()instanceof x.Stop){if("number"==typeof t||t instanceof x.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset)}return this}}),x.Box=x.invent({create:function(t,e,n,r){if(!("object"!=typeof t||t instanceof x.Element))return x.Box.call(this,null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height);4==arguments.length&&(this.x=t,this.y=e,this.width=n,this.height=r),g(this)},extend:{merge:function(t){var e=new this.constructor;return e.x=Math.min(this.x,t.x),e.y=Math.min(this.y,t.y),e.width=Math.max(this.x+this.width,t.x+t.width)-e.x,e.height=Math.max(this.y+this.height,t.y+t.height)-e.y,g(e)},transform:function(t){var e,n=1/0,r=-1/0,i=1/0,o=-1/0;return[new x.Point(this.x,this.y),new x.Point(this.x2,this.y),new x.Point(this.x,this.y2),new x.Point(this.x2,this.y2)].forEach(function(e){e=e.transform(t),n=Math.min(n,e.x),r=Math.max(r,e.x),i=Math.min(i,e.y),o=Math.max(o,e.y)}),e=new this.constructor,e.x=n,e.width=r-n,e.y=i,e.height=o-i,g(e),e}}}),x.BBox=x.invent({create:function(t){if(x.Box.apply(this,[].slice.call(arguments)),t instanceof x.Element){var n;try{if(e.documentElement.contains){if(!e.documentElement.contains(t.node))throw new Exception("Element not in the dom")}else{for(var r=t.node;r.parentNode;)r=r.parentNode;if(r!=e)throw new Exception("Element not in the dom")}n=t.node.getBBox()}catch(e){if(t instanceof x.Shape){var i=t.clone(x.parser.draw.instance).show();n=i.node.getBBox(),i.remove()}else n={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}x.Box.call(this,n)}},inherit:x.Box,parent:x.Element,construct:{bbox:function(){return new x.BBox(this)}}}),x.BBox.prototype.constructor=x.BBox,x.extend(x.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),x.RBox=x.invent({create:function(t){x.Box.apply(this,[].slice.call(arguments)),t instanceof x.Element&&x.Box.call(this,t.node.getBoundingClientRect())},inherit:x.Box,parent:x.Element,extend:{addOffset:function(){return this.x+=t.pageXOffset,this.y+=t.pageYOffset,this}},construct:{rbox:function(t){return t?new x.RBox(this).transform(t.screenCTM().inverse()):new x.RBox(this).addOffset()}}}),x.RBox.prototype.constructor=x.RBox,x.Matrix=x.invent({create:function(t){var e,n=f([1,0,0,1,0,0]);for(t=t instanceof x.Element?t.matrixify():"string"==typeof t?f(t.split(x.regex.delimiter).map(parseFloat)):6==arguments.length?f([].slice.call(arguments)):Array.isArray(t)?f(t):"object"==typeof t?t:n,e=k.length-1;e>=0;--e)this[k[e]]=null!=t[k[e]]?t[k[e]]:n[k[e]]},extend:{extract:function(){var t=h(this,0,1),e=h(this,1,0),n=180/Math.PI*Math.atan2(t.y,t.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(n*Math.PI/180)+this.f*Math.sin(n*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(n*Math.PI/180)+this.e*Math.sin(-n*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-n,skewY:180/Math.PI*Math.atan2(e.y,e.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:n,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new x.Matrix(this)}},clone:function(){return new x.Matrix(this)},morph:function(t){return this.destination=new x.Matrix(t),this},at:function(t){return this.destination?new x.Matrix({a:this.a+(this.destination.a-this.a)*t,b:this.b+(this.destination.b-this.b)*t,c:this.c+(this.destination.c-this.c)*t,d:this.d+(this.destination.d-this.d)*t,e:this.e+(this.destination.e-this.e)*t,f:this.f+(this.destination.f-this.f)*t}):this},multiply:function(t){return new x.Matrix(this.native().multiply(d(t).native()))},inverse:function(){return new x.Matrix(this.native().inverse())},translate:function(t,e){return new x.Matrix(this.native().translate(t||0,e||0))},scale:function(t,e,n,r){return 1==arguments.length?e=t:3==arguments.length&&(r=n,n=e,e=t),this.around(n,r,new x.Matrix(t,0,0,e,0,0))},rotate:function(t,e,n){return t=x.utils.radians(t),this.around(e,n,new x.Matrix(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0))},flip:function(t,e){return"x"==t?this.scale(-1,1,e,0):"y"==t?this.scale(1,-1,0,e):this.scale(-1,-1,t,null!=e?e:t)},skew:function(t,e,n,r){return 1==arguments.length?e=t:3==arguments.length&&(r=n,n=e,e=t),t=x.utils.radians(t),e=x.utils.radians(e),this.around(n,r,new x.Matrix(1,Math.tan(e),Math.tan(t),1,0,0))},skewX:function(t,e,n){return this.skew(t,0,e,n)},skewY:function(t,e,n){return this.skew(0,t,e,n)},around:function(t,e,n){return this.multiply(new x.Matrix(1,0,0,1,t||0,e||0)).multiply(n).multiply(new x.Matrix(1,0,0,1,-t||0,-e||0))},native:function(){for(var t=x.parser.native.createSVGMatrix(),e=k.length-1;e>=0;e--)t[k[e]]=this[k[e]];return t},toString:function(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}},parent:x.Element,construct:{ctm:function(){return new x.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof x.Nested){var t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new x.Matrix(e)}return new x.Matrix(this.node.getScreenCTM())}}}),x.Point=x.invent({create:function(t,e){var n,r={x:0,y:0};n=Array.isArray(t)?{x:t[0],y:t[1]}:"object"==typeof t?{x:t.x,y:t.y}:null!=t?{x:t,y:null!=e?e:t}:r,this.x=n.x,this.y=n.y},extend:{clone:function(){return new x.Point(this)},morph:function(t,e){return this.destination=new x.Point(t,e),this},at:function(t){return this.destination?new x.Point({x:this.x+(this.destination.x-this.x)*t,y:this.y+(this.destination.y-this.y)*t}):this},native:function(){var t=x.parser.native.createSVGPoint();return t.x=this.x,t.y=this.y,t},transform:function(t){return new x.Point(this.native().matrixTransform(t.native()))}}}),x.extend(x.Element,{point:function(t,e){return new x.Point(t,e).transform(this.screenCTM().inverse())}}),x.extend(x.Element,{attr:function(t,e,n){if(null==t){for(t={},e=this.node.attributes,n=e.length-1;n>=0;n--)t[e[n].nodeName]=x.regex.isNumber.test(e[n].nodeValue)?parseFloat(e[n].nodeValue):e[n].nodeValue;return t}if("object"==typeof t)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return e=this.node.getAttribute(t),null==e?x.defaults.attrs[t]:x.regex.isNumber.test(e)?parseFloat(e):e;"stroke-width"==t?this.attr("stroke",parseFloat(e)>0?this._stroke:null):"stroke"==t&&(this._stroke=e),"fill"!=t&&"stroke"!=t||(x.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof x.Image&&(e=this.doc().defs().pattern(0,0,function(){this.add(e)}))),"number"==typeof e?e=new x.Number(e):x.Color.isColor(e)?e=new x.Color(e):Array.isArray(e)&&(e=new x.Array(e)),"leading"==t?this.leading&&this.leading(e):"string"==typeof n?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this}}),x.extend(x.Element,{transform:function(t,e){var n,r,i=this;if("object"!=typeof t)return n=new x.Matrix(i).extract(),"string"==typeof t?n[t]:n;if(n=new x.Matrix(i),e=!!e||!!t.relative,null!=t.a)n=e?n.multiply(new x.Matrix(t)):new x.Matrix(t);else if(null!=t.rotation)p(t,i),n=e?n.rotate(t.rotation,t.cx,t.cy):n.rotate(t.rotation-n.extract().rotation,t.cx,t.cy);else if(null!=t.scale||null!=t.scaleX||null!=t.scaleY){if(p(t,i),t.scaleX=null!=t.scale?t.scale:null!=t.scaleX?t.scaleX:1,t.scaleY=null!=t.scale?t.scale:null!=t.scaleY?t.scaleY:1,!e){var o=n.extract();t.scaleX=1*t.scaleX/o.scaleX,t.scaleY=1*t.scaleY/o.scaleY}n=n.scale(t.scaleX,t.scaleY,t.cx,t.cy)}else if(null!=t.skew||null!=t.skewX||null!=t.skewY){if(p(t,i),t.skewX=null!=t.skew?t.skew:null!=t.skewX?t.skewX:0,t.skewY=null!=t.skew?t.skew:null!=t.skewY?t.skewY:0,!e){var o=n.extract();n=n.multiply((new x.Matrix).skew(o.skewX,o.skewY,t.cx,t.cy).inverse())}n=n.skew(t.skewX,t.skewY,t.cx,t.cy)}else t.flip?("x"==t.flip||"y"==t.flip?t.offset=null==t.offset?i.bbox()["c"+t.flip]:t.offset:null==t.offset?(r=i.bbox(),t.flip=r.cx,t.offset=r.cy):t.flip=t.offset,n=(new x.Matrix).flip(t.flip,t.offset)):null==t.x&&null==t.y||(e?n=n.translate(t.x,t.y):(null!=t.x&&(n.e=t.x),null!=t.y&&(n.f=t.y)));return this.attr("transform",n)}}),x.extend(x.FX,{transform:function(t,e){var n,r,i=this.target();return"object"!=typeof t?(n=new x.Matrix(i).extract(),"string"==typeof t?n[t]:n):(e=!!e||!!t.relative,null!=t.a?n=new x.Matrix(t):null!=t.rotation?(p(t,i),n=new x.Rotate(t.rotation,t.cx,t.cy)):null!=t.scale||null!=t.scaleX||null!=t.scaleY?(p(t,i),t.scaleX=null!=t.scale?t.scale:null!=t.scaleX?t.scaleX:1,t.scaleY=null!=t.scale?t.scale:null!=t.scaleY?t.scaleY:1,n=new x.Scale(t.scaleX,t.scaleY,t.cx,t.cy)):null!=t.skewX||null!=t.skewY?(p(t,i),t.skewX=null!=t.skewX?t.skewX:0,t.skewY=null!=t.skewY?t.skewY:0,n=new x.Skew(t.skewX,t.skewY,t.cx,t.cy)):t.flip?("x"==t.flip||"y"==t.flip?t.offset=null==t.offset?i.bbox()["c"+t.flip]:t.offset:null==t.offset?(r=i.bbox(),t.flip=r.cx,t.offset=r.cy):t.flip=t.offset,n=(new x.Matrix).flip(t.flip,t.offset)):null==t.x&&null==t.y||(n=new x.Translate(t.x,t.y)),n?(n.relative=e,this.last().transforms.push(n),this._callStart()):this)}}),x.extend(x.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(x.regex.transforms).slice(0,-1).map(function(t){var e=t.trim().split("(");return[e[0],e[1].split(x.regex.delimiter).map(function(t){return parseFloat(t)})]}).reduce(function(t,e){return"matrix"==e[0]?t.multiply(f(e[1])):t[e[0]].apply(t,e[1])},new x.Matrix)},toParent:function(t){if(this==t)return this;var e=this.screenCTM(),n=t.screenCTM().inverse();return this.addTo(t).untransform().transform(n.multiply(e)),this},toDoc:function(){return this.toParent(this.doc())}}),x.Transformation=x.invent({create:function(t,e){if(arguments.length>1&&"boolean"!=typeof e)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(t))for(var n=0,r=this.arguments.length;n<r;++n)this[this.arguments[n]]=t[n];else if("object"==typeof t)for(var n=0,r=this.arguments.length;n<r;++n)this[this.arguments[n]]=t[this.arguments[n]];this.inversed=!1,!0===e&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(t){for(var e=[],n=0,r=this.arguments.length;n<r;++n)e.push(this[this.arguments[n]]);var i=this._undo||new x.Matrix;return i=(new x.Matrix).morph(x.Matrix.prototype[this.method].apply(i,e)).at(t),this.inversed?i.inverse():i},undo:function(t){for(var e=0,n=this.arguments.length;e<n;++e)t[this.arguments[e]]=void 0===this[this.arguments[e]]?0:t[this.arguments[e]];return t.cx=this.cx,t.cy=this.cy,this._undo=new(x[s(this.method)])(t,!0).at(1),this}}}),x.Translate=x.invent({parent:x.Matrix,inherit:x.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),x.Rotate=x.invent({parent:x.Matrix,inherit:x.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(t){var e=(new x.Matrix).rotate((new x.Number).morph(this.rotation-(this._undo?this._undo.rotation:0)).at(t),this.cx,this.cy);return this.inversed?e.inverse():e},undo:function(t){return this._undo=t,this}}}),x.Scale=x.invent({parent:x.Matrix,inherit:x.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),x.Skew=x.invent({parent:x.Matrix,inherit:x.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),x.extend(x.Element,{style:function(t,e){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"==typeof t)for(e in t)this.style(e,t[e]);else{if(!x.regex.isCss.test(t))return this.node.style[a(t)];for(t=t.split(/\s*;\s*/).filter(function(t){return!!t}).map(function(t){return t.split(/\s*:\s*/)});e=t.pop();)this.style(e[0],e[1])}else this.node.style[a(t)]=null===e||x.regex.isBlank.test(e)?"":e;return this}}),x.Parent=x.invent({create:function(t){this.constructor.call(this,t)},inherit:x.Element,extend:{children:function(){return x.utils.map(x.utils.filterSVGElements(this.node.childNodes),function(t){return x.adopt(t)})},add:function(t,e){return null==e?this.node.appendChild(t.node):t.node!=this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this},put:function(t,e){return this.add(t,e),t},has:function(t){return this.index(t)>=0},index:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)},get:function(t){return x.adopt(this.node.childNodes[t])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(t,e){var n,r,i=this.children();for(n=0,r=i.length;n<r;n++)i[n]instanceof x.Element&&t.apply(i[n],[n,i]),e&&i[n]instanceof x.Container&&i[n].each(t,e);return this},removeElement:function(t){return this.node.removeChild(t.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),x.extend(x.Parent,{ungroup:function(t,e){return 0===e||this instanceof x.Defs||this.node==x.parser.draw?this:(t=t||(this instanceof x.Doc?this:this.parent(x.Parent)),e=e||1/0,this.each(function(){return this instanceof x.Defs?this:this instanceof x.Parent?this.ungroup(t,e-1):this.toParent(t)}),this.node.firstChild||this.remove(),this)},flatten:function(t,e){return this.ungroup(t,e)}}),x.Container=x.invent({create:function(t){this.constructor.call(this,t)},inherit:x.Parent}),x.ViewBox=x.invent({create:function(t){var e,n,r,i,o,a,s,u=[0,0,0,0],l=1,c=1,h=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(t instanceof x.Element){for(a=t,s=t,o=(t.attr("viewBox")||"").match(h),t.bbox,r=new x.Number(t.width()),i=new x.Number(t.height());"%"==r.unit;)l*=r.value,r=new x.Number(a instanceof x.Doc?a.parent().offsetWidth:a.parent().width()),a=a.parent();for(;"%"==i.unit;)c*=i.value,i=new x.Number(s instanceof x.Doc?s.parent().offsetHeight:s.parent().height()),s=s.parent();this.x=0,this.y=0,this.width=r*l,this.height=i*c,this.zoom=1,o&&(e=parseFloat(o[0]),n=parseFloat(o[1]),r=parseFloat(o[2]),i=parseFloat(o[3]),this.zoom=this.width/this.height>r/i?this.height/i:this.width/r,this.x=e,this.y=n,this.width=r,this.height=i)}else t="string"==typeof t?t.match(h).map(function(t){return parseFloat(t)}):Array.isArray(t)?t:"object"==typeof t?[t.x,t.y,t.width,t.height]:4==arguments.length?[].slice.call(arguments):u,this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(t,e,n,r){return this.destination=new x.ViewBox(t,e,n,r),this},at:function(t){return this.destination?new x.ViewBox([this.x+(this.destination.x-this.x)*t,this.y+(this.destination.y-this.y)*t,this.width+(this.destination.width-this.width)*t,this.height+(this.destination.height-this.height)*t]):this}},parent:x.Container,construct:{viewbox:function(t,e,n,r){return 0==arguments.length?new x.ViewBox(this):this.attr("viewBox",new x.ViewBox(t,e,n,r))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(t){x.Element.prototype[t]=function(e){return x.on(this.node,t,e),this}}),x.listeners=[],x.handlerMap=[],x.listenerId=0,x.on=function(t,e,n,r,i){var o=n.bind(r||t.instance||t),a=(x.handlerMap.indexOf(t)+1||x.handlerMap.push(t))-1,s=e.split(".")[0],u=e.split(".")[1]||"*";x.listeners[a]=x.listeners[a]||{},x.listeners[a][s]=x.listeners[a][s]||{},x.listeners[a][s][u]=x.listeners[a][s][u]||{},n._svgjsListenerId||(n._svgjsListenerId=++x.listenerId),x.listeners[a][s][u][n._svgjsListenerId]=o,t.addEventListener(s,o,i||!1)},x.off=function(t,e,n){var r=x.handlerMap.indexOf(t),i=e&&e.split(".")[0],o=e&&e.split(".")[1],a="";if(-1!=r)if(n){if("function"==typeof n&&(n=n._svgjsListenerId),!n)return;x.listeners[r][i]&&x.listeners[r][i][o||"*"]&&(t.removeEventListener(i,x.listeners[r][i][o||"*"][n],!1),delete x.listeners[r][i][o||"*"][n])}else if(o&&i){if(x.listeners[r][i]&&x.listeners[r][i][o]){for(n in x.listeners[r][i][o])x.off(t,[i,o].join("."),n);delete x.listeners[r][i][o]}}else if(o)for(e in x.listeners[r])for(a in x.listeners[r][e])o===a&&x.off(t,[e,o].join("."));else if(i){if(x.listeners[r][i]){for(a in x.listeners[r][i])x.off(t,[i,a].join("."));delete x.listeners[r][i]}}else{for(e in x.listeners[r])x.off(t,e);delete x.listeners[r],delete x.handlerMap[r]}},x.extend(x.Element,{on:function(t,e,n,r){return x.on(this.node,t,e,n,r),this},off:function(t,e){return x.off(this.node,t,e),this},fire:function(e,n){return e instanceof t.Event?this.node.dispatchEvent(e):this.node.dispatchEvent(e=new t.CustomEvent(e,{detail:n,cancelable:!0})),this._event=e,this},event:function(){return this._event}}),x.Defs=x.invent({create:"defs",inherit:x.Container}),x.G=x.invent({create:"g",inherit:x.Container,extend:{x:function(t){return null==t?this.transform("x"):this.transform({x:t-this.x()},!0)},y:function(t){return null==t?this.transform("y"):this.transform({y:t-this.y()},!0)},cx:function(t){return null==t?this.gbox().cx:this.x(t-this.gbox().width/2)},cy:function(t){return null==t?this.gbox().cy:this.y(t-this.gbox().height/2)},gbox:function(){var t=this.bbox(),e=this.transform();return t.x+=e.x,t.x2+=e.x,t.cx+=e.x,t.y+=e.y,t.y2+=e.y,t.cy+=e.y,t}},construct:{group:function(){return this.put(new x.G)}}}),x.extend(x.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var t=this.position()+1,e=this.parent();return e.removeElement(this).add(this,t),e instanceof x.Doc&&e.node.appendChild(e.defs().node),this},backward:function(){var t=this.position();return t>0&&this.parent().removeElement(this).add(this,t-1),this},front:function(){var t=this.parent();return t.node.appendChild(this.node),t instanceof x.Doc&&t.node.appendChild(t.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(t){t.remove();var e=this.position();return this.parent().add(t,e),this},after:function(t){t.remove();var e=this.position();return this.parent().add(t,e+1),this}}),x.Mask=x.invent({create:function(){this.constructor.call(this,x.create("mask")),this.targets=[]},inherit:x.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unmask();return this.targets=[],this.parent().removeElement(this),this}},construct:{mask:function(){return this.defs().put(new x.Mask)}}}),x.extend(x.Element,{maskWith:function(t){return this.masker=t instanceof x.Mask?t:this.parent().mask().add(t),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),x.ClipPath=x.invent({create:function(){this.constructor.call(this,x.create("clipPath")),this.targets=[]},inherit:x.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new x.ClipPath)}}}),x.extend(x.Element,{clipWith:function(t){return this.clipper=t instanceof x.ClipPath?t:this.parent().clip().add(t),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),x.Gradient=x.invent({create:function(t){this.constructor.call(this,x.create(t+"Gradient")),this.type=t},inherit:x.Container,extend:{at:function(t,e,n){return this.put(new x.Stop).update(t,e,n)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(t,e,n){return"transform"==t&&(t="gradientTransform"),x.Container.prototype.attr.call(this,t,e,n)}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),x.extend(x.Gradient,x.FX,{from:function(t,e){return"radial"==(this._target||this).type?this.attr({fx:new x.Number(t),fy:new x.Number(e)}):this.attr({x1:new x.Number(t),y1:new x.Number(e)})},to:function(t,e){return"radial"==(this._target||this).type?this.attr({cx:new x.Number(t),cy:new x.Number(e)}):this.attr({x2:new x.Number(t),y2:new x.Number(e)})}}),x.extend(x.Defs,{gradient:function(t,e){return this.put(new x.Gradient(t)).update(e)}}),x.Stop=x.invent({create:"stop",inherit:x.Element,extend:{update:function(t){return("number"==typeof t||t instanceof x.Number)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new x.Number(t.offset)),this}}}),x.Pattern=x.invent({create:"pattern",inherit:x.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()},attr:function(t,e,n){return"transform"==t&&(t="patternTransform"),x.Container.prototype.attr.call(this,t,e,n)}},construct:{pattern:function(t,e,n){return this.defs().pattern(t,e,n)}}}),x.extend(x.Defs,{pattern:function(t,e,n){return this.put(new x.Pattern).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),x.Doc=x.invent({create:function(t){t&&(t="string"==typeof t?e.getElementById(t):t,"svg"==t.nodeName?this.constructor.call(this,t):(this.constructor.call(this,x.create("svg")),t.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:x.Container,extend:{namespace:function(){return this.attr({xmlns:x.ns,version:"1.1"}).attr("xmlns:xlink",x.xlink,x.xmlns).attr("xmlns:svgjs",x.svgjs,x.xmlns)},defs:function(){if(!this._defs){var t;(t=this.node.getElementsByTagName("defs")[0])?this._defs=x.adopt(t):this._defs=new x.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return"#document"==this.node.parentNode.nodeName?null:this.node.parentNode},spof:function(){var t=this.node.getScreenCTM();return t&&this.style("left",-t.e%1+"px").style("top",-t.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,x.parser.draw.parentNode||this.node.appendChild(x.parser.draw),this}}}),x.Shape=x.invent({create:function(t){this.constructor.call(this,t)},inherit:x.Element}),x.Bare=x.invent({create:function(t,e){if(this.constructor.call(this,x.create(t)),e)for(var n in e.prototype)"function"==typeof e.prototype[n]&&(this[n]=e.prototype[n])},inherit:x.Element,extend:{words:function(t){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(e.createTextNode(t)),this}}}),x.extend(x.Parent,{element:function(t,e){return this.put(new x.Bare(t,e))}}),x.Symbol=x.invent({create:"symbol",inherit:x.Container,construct:{symbol:function(){return this.put(new x.Symbol)}}}),x.Use=x.invent({create:"use",inherit:x.Shape,extend:{element:function(t,e){return this.attr("href",(e||"")+"#"+t,x.xlink)}},construct:{use:function(t,e){return this.put(new x.Use).element(t,e)}}}),x.Rect=x.invent({create:"rect",inherit:x.Shape,construct:{rect:function(t,e){return this.put(new x.Rect).size(t,e)}}}),x.Circle=x.invent({create:"circle",inherit:x.Shape,construct:{circle:function(t){return this.put(new x.Circle).rx(new x.Number(t).divide(2)).move(0,0)}}}),x.extend(x.Circle,x.FX,{rx:function(t){return this.attr("r",t)},ry:function(t){return this.rx(t)}}),x.Ellipse=x.invent({create:"ellipse",inherit:x.Shape,construct:{ellipse:function(t,e){return this.put(new x.Ellipse).size(t,e).move(0,0)}}}),x.extend(x.Ellipse,x.Rect,x.FX,{rx:function(t){return this.attr("rx",t)},ry:function(t){return this.attr("ry",t)}}),x.extend(x.Circle,x.Ellipse,{x:function(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())},y:function(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",t)},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",t)},width:function(t){return null==t?2*this.rx():this.rx(new x.Number(t).divide(2))},height:function(t){return null==t?2*this.ry():this.ry(new x.Number(t).divide(2))},size:function(t,e){var n=c(this,t,e);return this.rx(new x.Number(n.width).divide(2)).ry(new x.Number(n.height).divide(2))}}),x.Line=x.invent({create:"line",inherit:x.Shape,extend:{array:function(){return new x.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(t,e,n,r){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:n,y2:r}:new x.PointArray(t).toLine(),this.attr(t))},move:function(t,e){return this.attr(this.array().move(t,e).toLine())},size:function(t,e){var n=c(this,t,e);return this.attr(this.array().size(n.width,n.height).toLine())}},construct:{line:function(t,e,n,r){return x.Line.prototype.plot.apply(this.put(new x.Line),null!=t?[t,e,n,r]:[0,0,0,0])}}}),x.Polyline=x.invent({create:"polyline",inherit:x.Shape,construct:{polyline:function(t){return this.put(new x.Polyline).plot(t||new x.PointArray)}}}),x.Polygon=x.invent({create:"polygon",inherit:x.Shape,construct:{polygon:function(t){return this.put(new x.Polygon).plot(t||new x.PointArray)}}}),x.extend(x.Polyline,x.Polygon,{array:function(){return this._array||(this._array=new x.PointArray(this.attr("points")))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new x.PointArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var n=c(this,t,e);return this.attr("points",this.array().size(n.width,n.height))}}),x.extend(x.Line,x.Polyline,x.Polygon,{morphArray:x.PointArray,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}}),x.Path=x.invent({create:"path",inherit:x.Shape,extend:{morphArray:x.PathArray,array:function(){return this._array||(this._array=new x.PathArray(this.attr("d")))},plot:function(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new x.PathArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("d",this.array().move(t,e))},x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},size:function(t,e){var n=c(this,t,e);return this.attr("d",this.array().size(n.width,n.height))},width:function(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)},height:function(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}},construct:{path:function(t){return this.put(new x.Path).plot(t||new x.PathArray)}}}),x.Image=x.invent({create:"image",inherit:x.Shape,extend:{load:function(e){if(!e)return this;var n=this,r=new t.Image;return x.on(r,"load",function(){x.off(r);var t=n.parent(x.Pattern);null!==t&&(0==n.width()&&0==n.height()&&n.size(r.width,r.height),t&&0==t.width()&&0==t.height()&&t.size(n.width(),n.height()),"function"==typeof n._loaded&&n._loaded.call(n,{width:r.width,height:r.height,ratio:r.width/r.height,url:e}))}),x.on(r,"error",function(t){x.off(r),"function"==typeof n._error&&n._error.call(n,t)}),this.attr("href",r.src=this.src=e,x.xlink)},loaded:function(t){return this._loaded=t,this},error:function(t){return this._error=t,this}},construct:{image:function(t,e,n){return this.put(new x.Image).load(t).size(e||0,n||e||0)}}}),x.Text=x.invent({create:function(){this.constructor.call(this,x.create("text")),this.dom.leading=new x.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",x.defaults.attrs["font-family"])},inherit:x.Shape,extend:{x:function(t){return null==t?this.attr("x"):this.attr("x",t)},y:function(t){var e=this.attr("y"),n="number"==typeof e?e-this.bbox().y:0;return null==t?"number"==typeof e?e-n:e:this.attr("y","number"==typeof t?t+n:t)},cx:function(t){return null==t?this.bbox().cx:this.x(t-this.bbox().width/2)},cy:function(t){return null==t?this.bbox().cy:this.y(t-this.bbox().height/2)},text:function(t){if(void 0===t){for(var t="",e=this.node.childNodes,n=0,r=e.length;n<r;++n)0!=n&&3!=e[n].nodeType&&1==x.adopt(e[n]).dom.newLined&&(t+="\n"),t+=e[n].textContent;return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{t=t.split("\n");for(var n=0,i=t.length;n<i;n++)this.tspan(t[n]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this.dom.leading:(this.dom.leading=new x.Number(t),this.rebuild())},lines:function(){var t=(this.textPath&&this.textPath()||this).node,e=x.utils.map(x.utils.filterSVGElements(t.childNodes),function(t){return x.adopt(t)});return new x.Set(e)},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,n=0,r=this.dom.leading*new x.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(e.textPath()||this.attr("x",e.attr("x")),"\n"==this.text()?n+=r:(this.attr("dy",r+n),n=0))}),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this},setData:function(t){return this.dom=t,this.dom.leading=new x.Number(t.leading||1.3),this}},construct:{text:function(t){return this.put(new x.Text).text(t)},plain:function(t){return this.put(new x.Text).plain(t)}}}),x.Tspan=x.invent({create:"tspan",inherit:x.Shape,extend:{text:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.parent(x.Text);return this.dom.newLined=!0,this.dy(t.dom.leading*t.attr("font-size")).attr("x",t.x())}}}),x.extend(x.Text,x.Tspan,{plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(e.createTextNode(t)),this},tspan:function(t){var e=(this.textPath&&this.textPath()||this).node,n=new x.Tspan;return!1===this._build&&this.clear(),e.appendChild(n.node),n.text(t)},clear:function(){for(var t=(this.textPath&&this.textPath()||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),x.TextPath=x.invent({create:"textPath",inherit:x.Parent,parent:x.Text,construct:{morphArray:x.PathArray,path:function(t){for(var e=new x.TextPath,n=this.doc().defs().path(t);this.node.hasChildNodes();)e.node.appendChild(this.node.firstChild);return this.node.appendChild(e.node),e.attr("href","#"+n,x.xlink),this},array:function(){var t=this.track();return t?t.array():null},plot:function(t){var e=this.track(),n=null;return e&&(n=e.plot(t)),null==t?n:this},track:function(){var t=this.textPath();if(t)return t.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return x.adopt(this.node.firstChild)}}}),x.Nested=x.invent({create:function(){this.constructor.call(this,x.create("svg")),this.style("overflow","visible")},inherit:x.Container,construct:{nested:function(){return this.put(new x.Nested)}}}),x.A=x.invent({create:"a",inherit:x.Container,extend:{to:function(t){return this.attr("href",t,x.xlink)},show:function(t){return this.attr("show",t,x.xlink)},target:function(t){return this.attr("target",t)}},construct:{link:function(t){return this.put(new x.A).to(t)}}}),x.extend(x.Element,{linkTo:function(t){var e=new x.A;return"function"==typeof t?t.call(e,e):e.to(t),this.parent().put(e).put(this)}}),x.Marker=x.invent({create:"marker",inherit:x.Container,extend:{width:function(t){return this.attr("markerWidth",t)},height:function(t){return this.attr("markerHeight",t)},ref:function(t,e){return this.attr("refX",t).attr("refY",e)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(t,e,n){return this.defs().marker(t,e,n)}}}),x.extend(x.Defs,{marker:function(t,e,n){return this.put(new x.Marker).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(n)}}),x.extend(x.Line,x.Polyline,x.Polygon,x.Path,{marker:function(t,e,n,r){var i=["marker"];return"all"!=t&&i.push(t),i=i.join("-"),t=arguments[1]instanceof x.Marker?arguments[1]:this.doc().marker(e,n,r),this.attr(i,t)}});var P={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};["fill","stroke"].forEach(function(t){var e,n={};n[t]=function(n){if(void 0===n)return this;if("string"==typeof n||x.Color.isRgb(n)||n&&"function"==typeof n.fill)this.attr(t,n);else for(e=P[t].length-1;e>=0;e--)null!=n[P[t][e]]&&this.attr(P.prefix(t,P[t][e]),n[P[t][e]]);return this},x.extend(x.Element,x.FX,n)}),x.extend(x.Element,x.FX,{rotate:function(t,e,n){return this.transform({rotation:t,cx:e,cy:n})},skew:function(t,e,n,r){return 1==arguments.length||3==arguments.length?this.transform({skew:t,cx:e,cy:n}):this.transform({skewX:t,skewY:e,cx:n,cy:r})},scale:function(t,e,n,r){return 1==arguments.length||3==arguments.length?this.transform({scale:t,cx:e,cy:n}):this.transform({scaleX:t,scaleY:e,cx:n,cy:r})},translate:function(t,e){return this.transform({x:t,y:e})},flip:function(t,e){return e="number"==typeof t?t:e,this.transform({flip:t||"both",offset:e})},matrix:function(t){return this.attr("transform",new x.Matrix(6==arguments.length?[].slice.call(arguments):t))},opacity:function(t){return this.attr("opacity",t)},dx:function(t){return this.x(new x.Number(t).plus(this instanceof x.FX?0:this.x()),!0)},dy:function(t){return this.y(new x.Number(t).plus(this instanceof x.FX?0:this.y()),!0)},dmove:function(t,e){return this.dx(t).dy(e)}}),x.extend(x.Rect,x.Ellipse,x.Circle,x.Gradient,x.FX,{radius:function(t,e){var n=(this._target||this).type;return"radial"==n||"circle"==n?this.attr("r",new x.Number(t)):this.rx(t).ry(null==e?t:e)}}),x.extend(x.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),x.extend(x.Parent,x.Text,x.Tspan,x.FX,{font:function(t,e){if("object"==typeof t)for(e in t)this.font(e,t[e]);return"leading"==t?this.leading(e):"anchor"==t?this.attr("text-anchor",e):"size"==t||"family"==t||"weight"==t||"stretch"==t||"variant"==t||"style"==t?this.attr("font-"+t,e):this.attr(t,e)}}),x.Set=x.invent({create:function(t){Array.isArray(t)?this.members=t:this.clear()},extend:{add:function(){var t,e,n=[].slice.call(arguments);for(t=0,e=n.length;t<e;t++)this.members.push(n[t]);return this},remove:function(t){var e=this.index(t);return e>-1&&this.members.splice(e,1),this},each:function(t){for(var e=0,n=this.members.length;e<n;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(t){return this.index(t)>=0},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(0==this.members.length)return new x.RBox;var t=this.members[0].rbox(this.members[0].doc());return this.each(function(){t=t.merge(this.rbox(this.doc()))}),t}},construct:{set:function(t){return new x.Set(t)}}}),x.FX.Set=x.invent({create:function(t){this.set=t}}),x.Set.inherit=function(){var t,e=[];for(var t in x.Shape.prototype)"function"==typeof x.Shape.prototype[t]&&"function"!=typeof x.Set.prototype[t]&&e.push(t);e.forEach(function(t){x.Set.prototype[t]=function(){for(var e=0,n=this.members.length;e<n;e++)this.members[e]&&"function"==typeof this.members[e][t]&&this.members[e][t].apply(this.members[e],arguments);return"animate"==t?this.fx||(this.fx=new x.FX.Set(this)):this}}),e=[];for(var t in x.FX.prototype)"function"==typeof x.FX.prototype[t]&&"function"!=typeof x.FX.Set.prototype[t]&&e.push(t);e.forEach(function(t){x.FX.Set.prototype[t]=function(){for(var e=0,n=this.set.members.length;e<n;e++)this.set.members[e].fx[t].apply(this.set.members[e].fx,arguments);return this}})},x.extend(x.Element,{data:function(t,e,n){if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===n||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),x.extend(x.Element,{remember:function(t,e){if("object"==typeof arguments[0])for(var e in t)this.remember(e,t[e]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),x.get=function(t){var n=e.getElementById(m(t)||t);return x.adopt(n)},x.select=function(t,n){return new x.Set(x.utils.map((n||e).querySelectorAll(t),function(t){return x.adopt(t)}))},x.extend(x.Parent,{select:function(t){return x.select(t,this.node)}});var k="abcdef".split("");if("function"!=typeof t.CustomEvent){var T=function(t,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var r=e.createEvent("CustomEvent");return r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),r};T.prototype=t.Event.prototype,t.CustomEvent=T}return function(e){for(var n=0,r=["moz","webkit"],i=0;i<r.length&&!t.requestAnimationFrame;++i)e.requestAnimationFrame=e[r[i]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[r[i]+"CancelAnimationFrame"]||e[r[i]+"CancelRequestAnimationFrame"];e.requestAnimationFrame=e.requestAnimationFrame||function(t){var r=(new Date).getTime(),i=Math.max(0,16-(r-n)),o=e.setTimeout(function(){t(r+i)},i);return n=r+i,o},e.cancelAnimationFrame=e.cancelAnimationFrame||e.clearTimeout}(t),x})},function(t,e,n){"use strict";e.__esModule=!0;var r=n(47),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={default:n(76),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(36),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,i.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(101),o=r(i),a=n(105),s=r(a),u=n(36),l=r(u);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,l.default)(e)));t.prototype=(0,s.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(3),a=n.n(o),s=n(8),u=(n(0),n(2)),l=(n.n(u),n(9)),c=n(21),h=n.n(c),f=function(){function t(){i()(this,t)}return a()(t,null,[{key:"length",value:function(t){return Math.sqrt(t.map(function(t){return t*t}).reduce(function(t,e){return t+e}))}},{key:"toRadian",value:function(t){return t*Math.PI/180}},{key:"toDegree",value:function(t){return 180*t/Math.PI}},{key:"findSlope",value:function(t,e,n,r){return(r-e)/(n-t)}},{key:"findMiddlePoint",value:function(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}},{key:"findMiddlePointFrom",value:function(t){for(var e=l.a.getLines(t),n={x:0,y:0},r=0,i=0;i<e.length;i++){var o=e[i].array().value[0],a=e[i].array().value[1];n.x+=o[0]+a[0],n.y+=o[1]+a[1],r+=2}return n.x=n.x/r,n.y=n.y/r,n}},{key:"pointDistanceToLine",value:function(t,e,n,r,i,o){var a=t-n,s=e-r,u=i-n,l=o-r,c=a*u+s*l,h=u*u+l*l,f=-1;0!=h&&(f=c/h);var d=void 0,p=void 0;f<0?(d=n,p=r):f>1?(d=i,p=o):(d=n+f*u,p=r+f*l);var v=t-d,y=e-p;return Math.sqrt(v*v+y*y)}},{key:"findDeltaPointfromDistance",value:function(t,e){var n={x:0,y:0},r=t/Math.sqrt(1+e*e),i=e*r;return n.x=r,n.y=i,n}},{key:"findDeltaPointfromDistance2",value:function(e,n,r,i){var o={x:0,y:0},a=t.toPositif(n),s=t.toPositif(r);return o.x=e*s/30,o.y=e*a/30,o}},{key:"findAngleTwoVector",value:function(t,e){var n=s.vec2.dot(t,e)/(s.vec2.length(t)*s.vec2.length(e));return Math.acos(n)}},{key:"toPositif",value:function(t){return t<0&&(t*=-1),t}},{key:"findPointFromDistance",value:function(e,n){var r={x:0,y:0},i=t.length(e),o=[e.x/i,e.y/i];return r.x=n*o[0],r.y=n*o[1],r}},{key:"distanceTwoPoint",value:function(t,e){var n=Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2);return n=Math.sqrt(n)}},{key:"findIntersectionPoint",value:function(t,e,n,r){var i=e.y-t.y,o=t.x-e.x,a=i*t.x+o*t.y,s=r.y-n.y,u=n.x-r.x,l=s*n.x+u*n.y,c=i*u-s*o;if(0==c)return{x:0,y:0};var h=(u*a-o*l)/c,f=(i*l-s*a)/c;return h=parseFloat(h.toFixed(2)),f=parseFloat(f.toFixed(2)),{x:h,y:f}}},{key:"findIntersectionPointByLine",value:function(e,n){var r=e.array(),i=n.array();return t.findIntersectionPoint(l.a.toArrayToPosition(r.value[0]),l.a.toArrayToPosition(r.value[1]),l.a.toArrayToPosition(i.value[0]),l.a.toArrayToPosition(i.value[1]))}},{key:"hasTwoLineCommonPoint",value:function(t,e){var n=t.array(),r=e.array(),i=l.a.toArrayToPosition(n.value[0]),o=l.a.toArrayToPosition(n.value[1]),a=l.a.toArrayToPosition(r.value[0]),s=l.a.toArrayToPosition(r.value[1]);return h.a.isEqual(i,a)||h.a.isEqual(i,s)||h.a.isEqual(o,a)||h.a.isEqual(o,s)}},{key:"hasBetweenTwoLine",value:function(t,e){var n=e.array(),r=l.a.toArrayToPosition(n.value[0]),i=l.a.toArrayToPosition(n.value[1]),o=Math.max(r.x,i.x),a=Math.min(r.x,i.x),s=Math.max(r.y,i.y),u=Math.min(r.y,i.y),c=l.a.toPositif(t.x-a),h=l.a.toPositif(t.y-u),f=l.a.toPositif(t.x-o),d=l.a.toPositif(t.y-s);return(t.x>=a||c<=.9)&&(t.x<=o||f<=.9)&&(t.y>=u||h<=.9)&&(t.y<=s||d<=.9)}},{key:"hasBetweenPositions",value:function(t,e,n,r){var i=Math.max(e.x,n.x,r.x),o=Math.min(e.x,n.x,r.x),a=Math.max(e.y,n.y,r.y),s=Math.min(e.y,n.y,r.y);return t.x>=o&&t.x<=i&&t.y>=s&&t.y<=a}},{key:"findInstersectionPointXandY",value:function(t){var e=t.array().value[0],n=t.array().value[1],r=(n[1]-e[1])/(n[0]-e[0]),i=r*(0-e[0])+e[1];return{x:(-e[1]+r*e[0])/r,y:i}}},{key:"findPerpendicularPointBySlopeAndPoints",value:function(e,n,r,i){var o=t.findSlope(r.x,r.y,i.x,i.y),a=-1/o,s=-1*o/a,u=s+1,l=(o*-e.x-n.x*s*a+e.y+n.y*s)/u;return{x:(l-n.y+n.x*a)/a,y:l}}},{key:"findPointByAngle",value:function(e,n,r){return r=t.toRadian(r),{x:(e.x-n.x)*Math.cos(-r)-(e.y-n.y)*Math.sin(-r)+n.x,y:(e.x-n.x)*Math.sin(-r)+(e.y-n.y)*Math.cos(-r)+n.y}}},{key:"findCenterPointByAngle",value:function(e,n,r){r=t.toRadian(-r);var i=-n.x*Math.sin(r)+e.y*Math.sin(r)*Math.sin(r)-n.y*Math.cos(r)+e.y*Math.cos(r)*Math.cos(r);return{x:(-n.x*Math.sin(r)+e.x*Math.cos(r)*Math.sin(r)-e.y*Math.sin(r)*Math.sin(r)+i*Math.sin(r)*Math.sin(r))/Math.sin(r)*Math.sin(r),y:i}}},{key:"findEquationY",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},n=t.array().value[0],r=t.array().value[1],i=r[0]-n[0];return 0==i?0:(r[1]-n[1])/i*(e.x-n[0])+n[1]}},{key:"findEquationX",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},n=t.array().value[0],r=t.array().value[1],i=r[0]-n[0];if(0==i)return 0;var o=(r[1]-n[1])/i;return(e.y-n[1]+o*n[0])/o}}]),t}();e.a=f},function(t,e,n){"use strict";(function(t){var e=n(47),r=n.n(e),i=n(36),o=n.n(i);!function(e,r){if("object"===("undefined"==typeof exports?"undefined":o()(exports))&&"object"===o()(t))t.exports=r();else if("function"==typeof define&&n(119))define([],r);else{var i=r();for(var a in i)("object"===("undefined"==typeof exports?"undefined":o()(exports))?exports:e)[a]=i[a]}}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||r()(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,n){function r(t){e.ARRAY_TYPE=s=t}function i(t){return t*u}function o(t,e){return Math.abs(t-e)<=a*Math.max(1,Math.abs(t),Math.abs(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=r,e.toRadian=i,e.equals=o;var a=e.EPSILON=1e-6,s=e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,u=(e.RANDOM=Math.random,Math.PI/180)},function(t,e,n){function r(){var t=new j.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function o(t){var e=new j.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function s(t,e,n,r,i,o,a,s,u){var l=new j.ARRAY_TYPE(9);return l[0]=t,l[1]=e,l[2]=n,l[3]=r,l[4]=i,l[5]=o,l[6]=a,l[7]=s,l[8]=u,l}function u(t,e,n,r,i,o,a,s,u,l){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t}function l(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function c(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function h(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=c*a-s*l,f=-c*o+s*u,d=l*o-a*u,p=n*h+r*f+i*d;return p?(p=1/p,t[0]=h*p,t[1]=(-c*r+i*l)*p,t[2]=(s*r-i*a)*p,t[3]=f*p,t[4]=(c*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=d*p,t[7]=(-l*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null}function f(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8];return t[0]=a*c-s*l,t[1]=i*l-r*c,t[2]=r*s-i*a,t[3]=s*u-o*c,t[4]=n*c-i*u,t[5]=i*o-n*s,t[6]=o*l-a*u,t[7]=r*u-n*l,t[8]=n*a-r*o,t}function d(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8];return e*(l*o-a*u)+n*(-l*i+a*s)+r*(u*i-o*s)}function p(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=n[0],d=n[1],p=n[2],v=n[3],y=n[4],g=n[5],m=n[6],x=n[7],b=n[8];return t[0]=f*r+d*a+p*l,t[1]=f*i+d*s+p*c,t[2]=f*o+d*u+p*h,t[3]=v*r+y*a+g*l,t[4]=v*i+y*s+g*c,t[5]=v*o+y*u+g*h,t[6]=m*r+x*a+b*l,t[7]=m*i+x*s+b*c,t[8]=m*o+x*u+b*h,t}function v(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*r+d*a+l,t[7]=f*i+d*s+c,t[8]=f*o+d*u+h,t}function y(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*a,t[1]=d*i+f*s,t[2]=d*o+f*u,t[3]=d*a-f*r,t[4]=d*s-f*i,t[5]=d*u-f*o,t[6]=l,t[7]=c,t[8]=h,t}function g(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function m(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function x(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function b(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function w(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function _(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,h=r*s,f=i*a,d=i*s,p=i*u,v=o*a,y=o*s,g=o*u;return t[0]=1-h-p,t[3]=c-g,t[6]=f+y,t[1]=c+g,t[4]=1-l-p,t[7]=d-v,t[2]=f-y,t[5]=d+v,t[8]=1-l-h,t}function M(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],v=e[13],y=e[14],g=e[15],m=n*s-r*a,x=n*u-i*a,b=n*l-o*a,w=r*u-i*s,_=r*l-o*s,M=i*l-o*u,P=c*v-h*p,k=c*y-f*p,T=c*g-d*p,S=h*y-f*v,A=h*g-d*v,L=f*g-d*y,E=m*L-x*A+b*S+w*T-_*k+M*P;return E?(E=1/E,t[0]=(s*L-u*A+l*S)*E,t[1]=(u*T-a*L-l*k)*E,t[2]=(a*A-s*T+l*P)*E,t[3]=(i*A-r*L-o*S)*E,t[4]=(n*L-i*T+o*k)*E,t[5]=(r*T-n*A-o*P)*E,t[6]=(v*M-y*_+g*w)*E,t[7]=(y*b-p*M-g*x)*E,t[8]=(p*_-v*b+g*m)*E,t):null}function P(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function k(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function T(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function S(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function A(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function L(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function E(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function C(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function N(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],h=e[0],f=e[1],d=e[2],p=e[3],v=e[4],y=e[5],g=e[6],m=e[7],x=e[8];return Math.abs(n-h)<=j.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(r-f)<=j.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-d)<=j.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=j.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-v)<=j.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(s-y)<=j.EPSILON*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(u-g)<=j.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(l-m)<=j.EPSILON*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(c-x)<=j.EPSILON*Math.max(1,Math.abs(c),Math.abs(x))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=r,e.fromMat4=i,e.clone=o,e.copy=a,e.fromValues=s,e.set=u,e.identity=l,e.transpose=c,e.invert=h,e.adjoint=f,e.determinant=d,e.multiply=p,e.translate=v,e.rotate=y,e.scale=g,e.fromTranslation=m,e.fromRotation=x,e.fromScaling=b,e.fromMat2d=w,e.fromQuat=_,e.normalFromMat4=M,e.projection=P,e.str=k,e.frob=T,e.add=S,e.subtract=A,e.multiplyScalar=L,e.multiplyScalarAndAdd=E,e.exactEquals=C,e.equals=N;var O=n(0),j=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(O);e.mul=p,e.sub=A},function(t,e,n){function r(){var t=new Y.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t}function i(t){var e=new Y.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function o(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function a(t,e,n){var r=new Y.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function u(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function l(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function c(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function h(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function f(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function v(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function y(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function g(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function m(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function x(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function b(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function w(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function _(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function M(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function P(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function k(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function T(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function S(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t}function A(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function L(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,l=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*l+i[0]*c,t[1]=e[1]*s+n[1]*u+r[1]*l+i[1]*c,t[2]=e[2]*s+n[2]*u+r[2]*l+i[2]*c,t}function E(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,l=s*a,c=3*o*s,h=3*u*a,f=u*o;return t[0]=e[0]*l+n[0]*c+r[0]*h+i[0]*f,t[1]=e[1]*l+n[1]*c+r[1]*h+i[1]*f,t[2]=e[2]*l+n[2]*c+r[2]*h+i[2]*f,t}function C(t,e){e=e||1;var n=2*Y.RANDOM()*Math.PI,r=2*Y.RANDOM()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function N(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function O(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function j(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*i,h=l*i+u*r-a*o,f=l*o+a*i-s*r,d=-a*r-s*i-u*o;return t[0]=c*l+d*-a+h*-u-f*-s,t[1]=h*l+d*-s+f*-a-c*-u,t[2]=f*l+d*-u+c*-s-h*-a,t}function D(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function R(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function q(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function I(t,e){var n=a(t[0],t[1],t[2]),r=a(e[0],e[1],e[2]);k(n,n),k(r,r);var i=T(n,r);return i>1?0:i<-1?Math.PI:Math.acos(i)}function F(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function B(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function H(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(n-o)<=Y.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=Y.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=Y.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=r,e.clone=i,e.length=o,e.fromValues=a,e.copy=s,e.set=u,e.add=l,e.subtract=c,e.multiply=h,e.divide=f,e.ceil=d,e.floor=p,e.min=v,e.max=y,e.round=g,e.scale=m,e.scaleAndAdd=x,e.distance=b,e.squaredDistance=w,e.squaredLength=_,e.negate=M,e.inverse=P,e.normalize=k,e.dot=T,e.cross=S,e.lerp=A,e.hermite=L,e.bezier=E,e.random=C,e.transformMat4=N,e.transformMat3=O,e.transformQuat=j,e.rotateX=D,e.rotateY=R,e.rotateZ=q,e.angle=I,e.str=F,e.exactEquals=B,e.equals=H;var z=n(0),Y=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(z);e.sub=c,e.mul=h,e.div=f,e.dist=b,e.sqrDist=w,e.len=o,e.sqrLen=_,e.forEach=function(){var t=r();return function(e,n,r,i,o,a){var s=void 0,u=void 0;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}()},function(t,e,n){function r(){var t=new D.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function i(t){var e=new D.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function o(t,e,n,r){var i=new D.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function s(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function u(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function l(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function c(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function h(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function f(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function d(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function p(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function v(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function y(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function g(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function m(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function x(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+o*o)}function b(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o}function w(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}function _(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function M(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function P(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function k(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t}function T(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function S(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t}function A(t,e){return e=e||1,t[0]=D.RANDOM(),t[1]=D.RANDOM(),t[2]=D.RANDOM(),t[3]=D.RANDOM(),k(t,t),g(t,t,e),t}function L(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}function E(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*i,h=l*i+u*r-a*o,f=l*o+a*i-s*r,d=-a*r-s*i-u*o;return t[0]=c*l+d*-a+h*-u-f*-s,t[1]=h*l+d*-s+f*-a-c*-u,t[2]=f*l+d*-u+c*-s-h*-a,t[3]=e[3],t}function C(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function N(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function O(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],u=e[2],l=e[3];return Math.abs(n-a)<=D.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=D.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=D.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-l)<=D.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=r,e.clone=i,e.fromValues=o,e.copy=a,e.set=s,e.add=u,e.subtract=l,e.multiply=c,e.divide=h,e.ceil=f,e.floor=d,e.min=p,e.max=v,e.round=y,e.scale=g,e.scaleAndAdd=m,e.distance=x,e.squaredDistance=b,e.length=w,e.squaredLength=_,e.negate=M,e.inverse=P,e.normalize=k,e.dot=T,e.lerp=S,e.random=A,e.transformMat4=L,e.transformQuat=E,e.str=C,e.exactEquals=N,e.equals=O;var j=n(0),D=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(j);e.sub=l,e.mul=c,e.div=h,e.dist=x,e.sqrDist=b,e.len=w,e.sqrLen=_,e.forEach=function(){var t=r();return function(e,n,r,i,o,a){var s=void 0,u=void 0;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}()},function(t,e,n){function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.vec4=e.vec3=e.vec2=e.quat=e.mat4=e.mat3=e.mat2d=e.mat2=e.glMatrix=void 0;var i=n(0),o=r(i),a=n(5),s=r(a),u=n(6),l=r(u),c=n(1),h=r(c),f=n(7),d=r(f),p=n(8),v=r(p),y=n(9),g=r(y),m=n(2),x=r(m),b=n(3),w=r(b);e.glMatrix=o,e.mat2=s,e.mat2d=l,e.mat3=h,e.mat4=d,e.quat=v,e.vec2=g,e.vec3=x,e.vec4=w},function(t,e,n){function r(){var t=new A.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function i(t){var e=new A.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function s(t,e,n,r){var i=new A.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function u(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function l(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function c(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*o-i*r;return a?(a=1/a,t[0]=o*a,t[1]=-r*a,t[2]=-i*a,t[3]=n*a,t):null}function h(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function f(t){return t[0]*t[3]-t[2]*t[1]}function d(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*s+o*u,t[1]=i*s+a*u,t[2]=r*l+o*c,t[3]=i*l+a*c,t}function p(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*-s+o*u,t[3]=i*-s+a*u,t}function v(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=o*u,t[3]=a*u,t}function y(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function g(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function m(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function x(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function b(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function w(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function _(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function M(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function P(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],u=e[2],l=e[3];return Math.abs(n-a)<=A.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=A.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=A.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-l)<=A.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))}function k(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function T(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=r,e.clone=i,e.copy=o,e.identity=a,e.fromValues=s,e.set=u,e.transpose=l,e.invert=c,e.adjoint=h,e.determinant=f,e.multiply=d,e.rotate=p,e.scale=v,e.fromRotation=y,e.fromScaling=g,e.str=m,e.frob=x,e.LDU=b,e.add=w,e.subtract=_,e.exactEquals=M,e.equals=P,e.multiplyScalar=k,e.multiplyScalarAndAdd=T;var S=n(0),A=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(S);e.mul=d,e.sub=_},function(t,e,n){function r(){var t=new S.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function i(t){var e=new S.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function s(t,e,n,r,i,o){var a=new S.ARRAY_TYPE(6);return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a[4]=i,a[5]=o,a}function u(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t}function l(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=n*o-r*i;return u?(u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-o*a)*u,t[5]=(r*a-n*s)*u,t):null}function c(t){return t[0]*t[3]-t[1]*t[2]}function h(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1],h=n[2],f=n[3],d=n[4],p=n[5];return t[0]=r*l+o*c,t[1]=i*l+a*c,t[2]=r*h+o*f,t[3]=i*h+a*f,t[4]=r*d+o*p+s,t[5]=i*d+a*p+u,t}function f(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*l,t[1]=i*c+a*l,t[2]=r*-l+o*c,t[3]=i*-l+a*c,t[4]=s,t[5]=u,t}function d(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r*l,t[1]=i*l,t[2]=o*c,t[3]=a*c,t[4]=s,t[5]=u,t}function p(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=r*l+o*c+s,t[5]=i*l+a*c+u,t}function v(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function y(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function g(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function m(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function x(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function b(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function w(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function _(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function M(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function P(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function k(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=e[0],l=e[1],c=e[2],h=e[3],f=e[4],d=e[5];return Math.abs(n-u)<=S.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-l)<=S.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-c)<=S.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(o-h)<=S.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(a-f)<=S.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(s-d)<=S.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=r,e.clone=i,e.copy=o,e.identity=a,e.fromValues=s,e.set=u,e.invert=l,e.determinant=c,e.multiply=h,e.rotate=f,e.scale=d,e.translate=p,e.fromRotation=v,e.fromScaling=y,e.fromTranslation=g,e.str=m,e.frob=x,e.add=b,e.subtract=w,e.multiplyScalar=_,e.multiplyScalarAndAdd=M,e.exactEquals=P,e.equals=k;var T=n(0),S=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(T);e.mul=h,e.sub=w},function(t,e,n){function r(){var t=new G.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function i(t){var e=new G.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function a(t,e,n,r,i,o,a,s,u,l,c,h,f,d,p,v){var y=new G.ARRAY_TYPE(16);return y[0]=t,y[1]=e,y[2]=n,y[3]=r,y[4]=i,y[5]=o,y[6]=a,y[7]=s,y[8]=u,y[9]=l,y[10]=c,y[11]=h,y[12]=f,y[13]=d,y[14]=p,y[15]=v,y}function s(t,e,n,r,i,o,a,s,u,l,c,h,f,d,p,v,y){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t[9]=c,t[10]=h,t[11]=f,t[12]=d,t[13]=p,t[14]=v,t[15]=y,t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function l(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function c(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],v=e[13],y=e[14],g=e[15],m=n*s-r*a,x=n*u-i*a,b=n*l-o*a,w=r*u-i*s,_=r*l-o*s,M=i*l-o*u,P=c*v-h*p,k=c*y-f*p,T=c*g-d*p,S=h*y-f*v,A=h*g-d*v,L=f*g-d*y,E=m*L-x*A+b*S+w*T-_*k+M*P;return E?(E=1/E,t[0]=(s*L-u*A+l*S)*E,t[1]=(i*A-r*L-o*S)*E,t[2]=(v*M-y*_+g*w)*E,t[3]=(f*_-h*M-d*w)*E,t[4]=(u*T-a*L-l*k)*E,t[5]=(n*L-i*T+o*k)*E,t[6]=(y*b-p*M-g*x)*E,t[7]=(c*M-f*b+d*x)*E,t[8]=(a*A-s*T+l*P)*E,t[9]=(r*T-n*A-o*P)*E,t[10]=(p*_-v*b+g*m)*E,t[11]=(h*b-c*_-d*m)*E,t[12]=(s*k-a*S-u*P)*E,t[13]=(n*S-r*k+i*P)*E,t[14]=(v*x-p*w-y*m)*E,t[15]=(c*w-h*x+f*m)*E,t):null}function h(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],v=e[13],y=e[14],g=e[15];return t[0]=s*(f*g-d*y)-h*(u*g-l*y)+v*(u*d-l*f),t[1]=-(r*(f*g-d*y)-h*(i*g-o*y)+v*(i*d-o*f)),t[2]=r*(u*g-l*y)-s*(i*g-o*y)+v*(i*l-o*u),t[3]=-(r*(u*d-l*f)-s*(i*d-o*f)+h*(i*l-o*u)),t[4]=-(a*(f*g-d*y)-c*(u*g-l*y)+p*(u*d-l*f)),t[5]=n*(f*g-d*y)-c*(i*g-o*y)+p*(i*d-o*f),t[6]=-(n*(u*g-l*y)-a*(i*g-o*y)+p*(i*l-o*u)),t[7]=n*(u*d-l*f)-a*(i*d-o*f)+c*(i*l-o*u),t[8]=a*(h*g-d*v)-c*(s*g-l*v)+p*(s*d-l*h),t[9]=-(n*(h*g-d*v)-c*(r*g-o*v)+p*(r*d-o*h)),t[10]=n*(s*g-l*v)-a*(r*g-o*v)+p*(r*l-o*s),t[11]=-(n*(s*d-l*h)-a*(r*d-o*h)+c*(r*l-o*s)),t[12]=-(a*(h*y-f*v)-c*(s*y-u*v)+p*(s*f-u*h)),t[13]=n*(h*y-f*v)-c*(r*y-i*v)+p*(r*f-i*h),t[14]=-(n*(s*y-u*v)-a*(r*y-i*v)+p*(r*u-i*s)),t[15]=n*(s*f-u*h)-a*(r*f-i*h)+c*(r*u-i*s),t}function f(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],h=t[10],f=t[11],d=t[12],p=t[13],v=t[14],y=t[15];return(e*a-n*o)*(h*y-f*v)-(e*s-r*o)*(c*y-f*p)+(e*u-i*o)*(c*v-h*p)+(n*s-r*a)*(l*y-f*d)-(n*u-i*a)*(l*v-h*d)+(r*u-i*s)*(l*p-c*d)}function d(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],d=e[10],p=e[11],v=e[12],y=e[13],g=e[14],m=e[15],x=n[0],b=n[1],w=n[2],_=n[3];return t[0]=x*r+b*s+w*h+_*v,t[1]=x*i+b*u+w*f+_*y,t[2]=x*o+b*l+w*d+_*g,t[3]=x*a+b*c+w*p+_*m,x=n[4],b=n[5],w=n[6],_=n[7],t[4]=x*r+b*s+w*h+_*v,t[5]=x*i+b*u+w*f+_*y,t[6]=x*o+b*l+w*d+_*g,t[7]=x*a+b*c+w*p+_*m,x=n[8],b=n[9],w=n[10],_=n[11],t[8]=x*r+b*s+w*h+_*v,t[9]=x*i+b*u+w*f+_*y,t[10]=x*o+b*l+w*d+_*g,t[11]=x*a+b*c+w*p+_*m,x=n[12],b=n[13],w=n[14],_=n[15],t[12]=x*r+b*s+w*h+_*v,t[13]=x*i+b*u+w*f+_*y,t[14]=x*o+b*l+w*d+_*g,t[15]=x*a+b*c+w*p+_*m,t}function p(t,e,n){var r=n[0],i=n[1],o=n[2],a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,h=void 0,f=void 0,d=void 0,p=void 0,v=void 0,y=void 0,g=void 0;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*o+e[12],t[13]=e[1]*r+e[5]*i+e[9]*o+e[13],t[14]=e[2]*r+e[6]*i+e[10]*o+e[14],t[15]=e[3]*r+e[7]*i+e[11]*o+e[15]):(a=e[0],s=e[1],u=e[2],l=e[3],c=e[4],h=e[5],f=e[6],d=e[7],p=e[8],v=e[9],y=e[10],g=e[11],t[0]=a,t[1]=s,t[2]=u,t[3]=l,t[4]=c,t[5]=h,t[6]=f,t[7]=d,t[8]=p,t[9]=v,t[10]=y,t[11]=g,t[12]=a*r+c*i+p*o+e[12],t[13]=s*r+h*i+v*o+e[13],t[14]=u*r+f*i+y*o+e[14],t[15]=l*r+d*i+g*o+e[15]),t}function v(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function y(t,e,n,r){var i=r[0],o=r[1],a=r[2],s=Math.sqrt(i*i+o*o+a*a),u=void 0,l=void 0,c=void 0,h=void 0,f=void 0,d=void 0,p=void 0,v=void 0,y=void 0,g=void 0,m=void 0,x=void 0,b=void 0,w=void 0,_=void 0,M=void 0,P=void 0,k=void 0,T=void 0,S=void 0,A=void 0,L=void 0,E=void 0,C=void 0;return Math.abs(s)<G.EPSILON?null:(s=1/s,i*=s,o*=s,a*=s,u=Math.sin(n),l=Math.cos(n),c=1-l,h=e[0],f=e[1],d=e[2],p=e[3],v=e[4],y=e[5],g=e[6],m=e[7],x=e[8],b=e[9],w=e[10],_=e[11],M=i*i*c+l,P=o*i*c+a*u,k=a*i*c-o*u,T=i*o*c-a*u,S=o*o*c+l,A=a*o*c+i*u,L=i*a*c+o*u,E=o*a*c-i*u,C=a*a*c+l,t[0]=h*M+v*P+x*k,t[1]=f*M+y*P+b*k,t[2]=d*M+g*P+w*k,t[3]=p*M+m*P+_*k,t[4]=h*T+v*S+x*A,t[5]=f*T+y*S+b*A,t[6]=d*T+g*S+w*A,t[7]=p*T+m*S+_*A,t[8]=h*L+v*E+x*C,t[9]=f*L+y*E+b*C,t[10]=d*L+g*E+w*C,t[11]=p*L+m*E+_*C,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function g(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+h*r,t[7]=u*i+f*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=h*i-s*r,t[11]=f*i-u*r,t}function m(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-l*r,t[1]=a*i-c*r,t[2]=s*i-h*r,t[3]=u*i-f*r,t[8]=o*r+l*i,t[9]=a*r+c*i,t[10]=s*r+h*i,t[11]=u*r+f*i,t}function x(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],h=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+h*r,t[3]=u*i+f*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=h*i-s*r,t[7]=f*i-u*r,t}function b(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function w(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _(t,e,n){var r=n[0],i=n[1],o=n[2],a=Math.sqrt(r*r+i*i+o*o),s=void 0,u=void 0,l=void 0;return Math.abs(a)<G.EPSILON?null:(a=1/a,r*=a,i*=a,o*=a,s=Math.sin(e),u=Math.cos(e),l=1-u,t[0]=r*r*l+u,t[1]=i*r*l+o*s,t[2]=o*r*l-i*s,t[3]=0,t[4]=r*i*l-o*s,t[5]=i*i*l+u,t[6]=o*i*l+r*s,t[7]=0,t[8]=r*o*l+i*s,t[9]=i*o*l-r*s,t[10]=o*o*l+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function M(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function P(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function k(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function T(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,u=i+i,l=o+o,c=r*s,h=r*u,f=r*l,d=i*u,p=i*l,v=o*l,y=a*s,g=a*u,m=a*l;return t[0]=1-(d+v),t[1]=h+m,t[2]=f-g,t[3]=0,t[4]=h-m,t[5]=1-(c+v),t[6]=p+y,t[7]=0,t[8]=f+g,t[9]=p-y,t[10]=1-(c+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function S(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function A(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],u=e[8],l=e[9],c=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(o*o+a*a+s*s),t[2]=Math.sqrt(u*u+l*l+c*c),t}function L(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function E(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],u=i+i,l=o+o,c=a+a,h=i*u,f=i*l,d=i*c,p=o*l,v=o*c,y=a*c,g=s*u,m=s*l,x=s*c,b=r[0],w=r[1],_=r[2];return t[0]=(1-(p+y))*b,t[1]=(f+x)*b,t[2]=(d-m)*b,t[3]=0,t[4]=(f-x)*w,t[5]=(1-(h+y))*w,t[6]=(v+g)*w,t[7]=0,t[8]=(d+m)*_,t[9]=(v-g)*_,t[10]=(1-(h+p))*_,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function C(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],u=e[3],l=o+o,c=a+a,h=s+s,f=o*l,d=o*c,p=o*h,v=a*c,y=a*h,g=s*h,m=u*l,x=u*c,b=u*h,w=r[0],_=r[1],M=r[2],P=i[0],k=i[1],T=i[2];return t[0]=(1-(v+g))*w,t[1]=(d+b)*w,t[2]=(p-x)*w,t[3]=0,t[4]=(d-b)*_,t[5]=(1-(f+g))*_,t[6]=(y+m)*_,t[7]=0,t[8]=(p+x)*M,t[9]=(y-m)*M,t[10]=(1-(f+v))*M,t[11]=0,t[12]=n[0]+P-(t[0]*P+t[4]*k+t[8]*T),t[13]=n[1]+k-(t[1]*P+t[5]*k+t[9]*T),t[14]=n[2]+T-(t[2]*P+t[6]*k+t[10]*T),t[15]=1,t}function N(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,h=r*s,f=i*a,d=i*s,p=i*u,v=o*a,y=o*s,g=o*u;return t[0]=1-h-p,t[1]=c+g,t[2]=f-y,t[3]=0,t[4]=c-g,t[5]=1-l-p,t[6]=d+v,t[7]=0,t[8]=f+y,t[9]=d-v,t[10]=1-l-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function O(t,e,n,r,i,o,a){var s=1/(n-e),u=1/(i-r),l=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(a+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*l,t[15]=0,t}function j(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t}function D(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),l=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(i-o)*l*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function R(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*l,t[15]=1,t}function q(t,e,n,r){var i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,h=void 0,f=void 0,d=void 0,p=e[0],v=e[1],y=e[2],g=r[0],m=r[1],x=r[2],b=n[0],w=n[1],_=n[2];return Math.abs(p-b)<G.EPSILON&&Math.abs(v-w)<G.EPSILON&&Math.abs(y-_)<G.EPSILON?mat4.identity(t):(c=p-b,h=v-w,f=y-_,d=1/Math.sqrt(c*c+h*h+f*f),c*=d,h*=d,f*=d,i=m*f-x*h,o=x*c-g*f,a=g*h-m*c,d=Math.sqrt(i*i+o*o+a*a),d?(d=1/d,i*=d,o*=d,a*=d):(i=0,o=0,a=0),s=h*a-f*o,u=f*i-c*a,l=c*o-h*i,d=Math.sqrt(s*s+u*u+l*l),d?(d=1/d,s*=d,u*=d,l*=d):(s=0,u=0,l=0),t[0]=i,t[1]=s,t[2]=c,t[3]=0,t[4]=o,t[5]=u,t[6]=h,t[7]=0,t[8]=a,t[9]=l,t[10]=f,t[11]=0,t[12]=-(i*p+o*v+a*y),t[13]=-(s*p+u*v+l*y),t[14]=-(c*p+h*v+f*y),t[15]=1,t)}function I(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=r[0],u=r[1],l=r[2],c=i-n[0],h=o-n[1],f=a-n[2],d=c*c+h*h+f*f;d>0&&(d=1/Math.sqrt(d),c*=d,h*=d,f*=d);var p=u*f-l*h,v=l*c-s*f,y=s*h-u*c;return t[0]=p,t[1]=v,t[2]=y,t[3]=0,t[4]=h*y-f*v,t[5]=f*p-c*y,t[6]=c*v-h*p,t[7]=0,t[8]=c,t[9]=h,t[10]=f,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function F(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function B(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function H(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function z(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function Y(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function V(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function X(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function W(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],h=t[9],f=t[10],d=t[11],p=t[12],v=t[13],y=t[14],g=t[15],m=e[0],x=e[1],b=e[2],w=e[3],_=e[4],M=e[5],P=e[6],k=e[7],T=e[8],S=e[9],A=e[10],L=e[11],E=e[12],C=e[13],N=e[14],O=e[15];return Math.abs(n-m)<=G.EPSILON*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(r-x)<=G.EPSILON*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(i-b)<=G.EPSILON*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(o-w)<=G.EPSILON*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-_)<=G.EPSILON*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(s-M)<=G.EPSILON*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(u-P)<=G.EPSILON*Math.max(1,Math.abs(u),Math.abs(P))&&Math.abs(l-k)<=G.EPSILON*Math.max(1,Math.abs(l),Math.abs(k))&&Math.abs(c-T)<=G.EPSILON*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(h-S)<=G.EPSILON*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(f-A)<=G.EPSILON*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(d-L)<=G.EPSILON*Math.max(1,Math.abs(d),Math.abs(L))&&Math.abs(p-E)<=G.EPSILON*Math.max(1,Math.abs(p),Math.abs(E))&&Math.abs(v-C)<=G.EPSILON*Math.max(1,Math.abs(v),Math.abs(C))&&Math.abs(y-N)<=G.EPSILON*Math.max(1,Math.abs(y),Math.abs(N))&&Math.abs(g-O)<=G.EPSILON*Math.max(1,Math.abs(g),Math.abs(O))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=r,e.clone=i,e.copy=o,e.fromValues=a,e.set=s,e.identity=u,e.transpose=l,e.invert=c,e.adjoint=h,e.determinant=f,e.multiply=d,e.translate=p,e.scale=v,e.rotate=y,e.rotateX=g,e.rotateY=m,e.rotateZ=x,e.fromTranslation=b,e.fromScaling=w,e.fromRotation=_,e.fromXRotation=M,e.fromYRotation=P,e.fromZRotation=k,e.fromRotationTranslation=T,e.getTranslation=S,e.getScaling=A,e.getRotation=L,e.fromRotationTranslationScale=E,e.fromRotationTranslationScaleOrigin=C,e.fromQuat=N,e.frustum=O,e.perspective=j,e.perspectiveFromFieldOfView=D,e.ortho=R,e.lookAt=q,e.targetTo=I,e.str=F,e.frob=B,e.add=H,e.subtract=z,e.multiplyScalar=Y,e.multiplyScalarAndAdd=V,e.exactEquals=X,e.equals=W;var $=n(0),G=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}($);e.mul=d,e.sub=z},function(t,e,n){function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new b.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function o(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function a(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function s(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function u(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*c+a*s+i*l-o*u,t[1]=i*c+a*u+o*s-r*l,t[2]=o*c+a*l+r*u-i*s,t[3]=a*c-r*s-i*u-o*l,t}function l(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=o*u-i*s,t[3]=a*u-r*s,t}function c(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-o*s,t[1]=i*u+a*s,t[2]=o*u+r*s,t[3]=a*u-i*s,t}function h(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t}function f(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function d(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],u=n[0],l=n[1],c=n[2],h=n[3],f=void 0,d=void 0,p=void 0,v=void 0,y=void 0;return d=i*u+o*l+a*c+s*h,d<0&&(d=-d,u=-u,l=-l,c=-c,h=-h),1-d>1e-6?(f=Math.acos(d),p=Math.sin(f),v=Math.sin((1-r)*f)/p,y=Math.sin(r*f)/p):(v=1-r,y=r),t[0]=v*i+y*u,t[1]=v*o+y*l,t[2]=v*a+y*c,t[3]=v*s+y*h,t}function p(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t}function v(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function y(t,e){var n=e[0]+e[4]+e[8],r=void 0;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*r,r=.5/r,t[3]=(e[3*o+a]-e[3*a+o])*r,t[o]=(e[3*o+i]+e[3*i+o])*r,t[a]=(e[3*a+i]+e[3*i+a])*r}return t}function g(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),a=Math.cos(e),s=Math.sin(n),u=Math.cos(n),l=Math.sin(r),c=Math.cos(r);return t[0]=o*u*c-a*s*l,t[1]=a*s*c+o*u*l,t[2]=a*u*l-o*s*c,t[3]=a*u*c+o*s*l,t}function m(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}Object.defineProperty(e,"__esModule",{value:!0}),e.setAxes=e.sqlerp=e.rotationTo=e.equals=e.exactEquals=e.normalize=e.sqrLen=e.squaredLength=e.len=e.length=e.lerp=e.dot=e.scale=e.mul=e.add=e.set=e.copy=e.fromValues=e.clone=void 0,e.create=i,e.identity=o,e.setAxisAngle=a,e.getAxisAngle=s,e.multiply=u,e.rotateX=l,e.rotateY=c,e.rotateZ=h,e.calculateW=f,e.slerp=d,e.invert=p,e.conjugate=v,e.fromMat3=y,e.fromEuler=g,e.str=m;var x=n(0),b=r(x),w=n(1),_=r(w),M=n(2),P=r(M),k=n(3),T=r(k),S=(e.clone=T.clone,e.fromValues=T.fromValues,e.copy=T.copy,e.set=T.set,e.add=T.add,e.mul=u,e.scale=T.scale,e.dot=T.dot,e.lerp=T.lerp,e.length=T.length),A=(e.len=S,e.squaredLength=T.squaredLength),L=(e.sqrLen=A,e.normalize=T.normalize);e.exactEquals=T.exactEquals,e.equals=T.equals,e.rotationTo=function(){var t=P.create(),e=P.fromValues(1,0,0),n=P.fromValues(0,1,0);return function(r,i,o){var s=P.dot(i,o);return s<-.999999?(P.cross(t,e,i),P.len(t)<1e-6&&P.cross(t,n,i),P.normalize(t,t),a(r,t,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(P.cross(t,i,o),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+s,L(r,r))}}(),e.sqlerp=function(){var t=i(),e=i();return function(n,r,i,o,a,s){return d(t,r,a,s),d(e,i,o,s),d(n,t,e,2*s*(1-s)),n}}(),e.setAxes=function(){var t=_.create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],L(e,y(e,t))}}()},function(t,e,n){function r(){var t=new I.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t}function i(t){var e=new I.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function o(t,e){var n=new I.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n}function a(t,e){return t[0]=e[0],t[1]=e[1],t}function s(t,e,n){return t[0]=e,t[1]=n,t}function u(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function l(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function c(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function h(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function f(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function d(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function p(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function v(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function y(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function g(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function m(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function x(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function b(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function w(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function _(t){var e=t[0],n=t[1];return e*e+n*n}function M(t,e){return t[0]=-e[0],t[1]=-e[1],t}function P(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function k(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t}function T(t,e){return t[0]*e[0]+t[1]*e[1]}function S(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function A(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function L(t,e){e=e||1;var n=2*I.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function E(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function C(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function N(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function O(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function j(t){return"vec2("+t[0]+", "+t[1]+")"}function D(t,e){return t[0]===e[0]&&t[1]===e[1]}function R(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return Math.abs(n-i)<=I.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=I.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=r,e.clone=i,e.fromValues=o,e.copy=a,e.set=s,e.add=u,e.subtract=l,e.multiply=c,e.divide=h,e.ceil=f,e.floor=d,e.min=p,e.max=v,e.round=y,e.scale=g,e.scaleAndAdd=m,e.distance=x,e.squaredDistance=b,e.length=w,e.squaredLength=_,e.negate=M,e.inverse=P,e.normalize=k,e.dot=T,e.cross=S,e.lerp=A,e.random=L,e.transformMat2=E,e.transformMat2d=C,e.transformMat3=N,e.transformMat4=O,e.str=j,e.exactEquals=D,e.equals=R;var q=n(0),I=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(q);e.len=w,e.sub=l,e.mul=c,e.div=h,e.dist=x,e.sqrDist=b,e.sqrLen=_,e.forEach=function(){var t=r();return function(e,n,r,i,o,a){var s=void 0,u=void 0;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}()}])})}).call(e,n(118)(t))},function(t,e,n){"use strict";var r=n(62),i=n.n(r),o=n(1),a=n.n(o),s=n(3),u=n.n(s),l=n(8),c=n(0),h=n(2),f=(n.n(h),n(21)),d=n.n(f),p=n(7),v=function(){function t(){a()(this,t)}return u()(t,null,[{key:"getLines",value:function(t){var e=[];switch(t.drawType){case c.p.line:e.push(t.line);break;case c.p.penTool:case c.p.regularPolygon:case c.p.parabol:case c.p.polygon:case c.p.penTool:case c.p.triangle:case c.p.isoscelestriangle:case c.p.rightTriangle:case c.p.equilateraltriangle:case c.p.rectangle:e=e.concat(t.lines)}return e}},{key:"getThirdPoint",value:function(t,e){for(var n=0,r=0;r<e.length;r++){n=0;for(var i=e[r],o=0;o<t.length;o++){var a=t[o];if((i[0]!=a[0]||i[1]!=a[1])&&2==++n)return i}}}},{key:"clone",value:function(t){return JSON.parse(i()(t))}},{key:"toFixed",value:function(t,e){x=parseFloat(x.toFixed(2))}},{key:"toPositif",value:function(t){return t<0&&(t*=-1),t}},{key:"toArrayToPosition",value:function(t){return d.a.object(["x","y"],t)}},{key:"fromPosToArray",value:function(t){return[t.x,t.y]}},{key:"whichArrayNotSame",value:function(t,e,n){var r=[n.x,n.y],i=0,o=0;return t.forEach(function(t,e){t!=r[e]&&i++}),e.forEach(function(t,e){t!=r[e]&&o++}),i===o?null:i>o?t:e}},{key:"isInnerAngle",value:function(t,e,n,r){var i=p.a.toDegree(p.a.findAngleTwoVector(t,n)),o=p.a.toDegree(p.a.findAngleTwoVector(e,n));return Math.floor(i+o)<=r}},{key:"findWhichRegion",value:function(t){var e=[600,0],n=[0,600],r=p.a.toDegree(p.a.findAngleTwoVector(t,e)),i=p.a.toDegree(p.a.findAngleTwoVector(t,n));return r<=90&&i>=90?1:r>90&&i>=90?2:r>90&&i<=90?3:4}},{key:"findWhichRegion2",value:function(t){return t<90&&t>=0?1:t<180&&t>=90?2:t>270&&t>=180?3:4}},{key:"findRealAngle",value:function(t){var e=[600,0],n=[0,600],r=p.a.toDegree(p.a.findAngleTwoVector(t,e)),i=p.a.toDegree(p.a.findAngleTwoVector(t,n));return r<=90&&i>=90?r:r>90&&i>=90?r:r>90&&i<=90?90-i+180:270+i}},{key:"projectionOfX",value:function(t){var e=[600,0],n=l.vec2.dot(t,e)/Math.pow(l.vec2.length(e),2);return[e[0]*n,e[1]*n]}},{key:"findStartAngle",value:function(e,n,r,i){var o=t.findRealAngle(n),a=t.findRealAngle(r),s=t.findWhichRegion2(o),u=t.findWhichRegion2(a);if(e){if(s==u)return Math.min(o,a);return t.toPositif(o-a)>=180?Math.max(o,a):Math.min(o,a)}return s==u?Math.max(o,a):t.toPositif(o-a)>=180?Math.min(o,a):Math.max(o,a)}},{key:"rotate",value:function(t,e,n){var r=e.x-n.x,i=e.y-n.y;return{x:r*Math.cos(t)-i*Math.sin(t)+n.x,y:r*Math.sin(t)+i*Math.cos(t)+n.y}}},{key:"normalise",value:function(t){var e=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2));return[t[0]/e,t[1]/e]}}]),t}();e.a=v},function(t,e){var n=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(35)("wks"),i=n(28),o=n(12).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(18),i=n(48),o=n(32),a=Object.defineProperty;e.f=n(15)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(12),i=n(10),o=n(31),a=n(17),s=function(t,e,n){var u,l,c,h=t&s.F,f=t&s.G,d=t&s.S,p=t&s.P,v=t&s.B,y=t&s.W,g=f?i:i[e]||(i[e]={}),m=g.prototype,x=f?r:d?r[e]:(r[e]||{}).prototype;f&&(n=e);for(u in n)(l=!h&&x&&void 0!==x[u])&&u in g||(c=l?x[u]:n[u],g[u]=f&&"function"!=typeof x[u]?n[u]:v&&l?o(c,r):y&&x[u]==c?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):p&&"function"==typeof c?o(Function.call,c):c,p&&((g.virtual||(g.virtual={}))[u]=c,t&s.R&&m&&!m[u]&&a(m,u,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){t.exports=!n(23)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(13),i=n(24);t.exports=n(15)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(19);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(83),i=n(33);t.exports=function(t){return r(i(t))}},function(t,e,n){(function(t,n){var r,i;!function(){var o="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this||{},a=o._,s=Array.prototype,u=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,c=s.push,h=s.slice,f=u.toString,d=u.hasOwnProperty,p=Array.isArray,v=Object.keys,y=Object.create,g=function(){},m=function(t){return t instanceof m?t:this instanceof m?void(this._wrapped=t):new m(t)};void 0===e||e.nodeType?o._=m:(void 0!==n&&!n.nodeType&&n.exports&&(e=n.exports=m),e._=m),m.VERSION="1.9.0";var x,b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return m.iteratee!==x?m.iteratee(t,e):null==t?m.identity:m.isFunction(t)?b(t,e,n):m.isObject(t)&&!m.isArray(t)?m.matcher(t):m.property(t)};m.iteratee=x=function(t,e){return w(t,e,1/0)};var _=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}},M=function(t){if(!m.isObject(t))return{};if(y)return y(t);g.prototype=t;var e=new g;return g.prototype=null,e},P=function(t){return function(e){return null==e?void 0:e[t]}},k=function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0},T=Math.pow(2,53)-1,S=P("length"),A=function(t){var e=S(t);return"number"==typeof e&&e>=0&&e<=T};m.each=m.forEach=function(t,e,n){e=b(e,n);var r,i;if(A(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=m.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},m.map=m.collect=function(t,e,n){e=w(e,n);for(var r=!A(t)&&m.keys(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o};var L=function(t){var e=function(e,n,r,i){var o=!A(e)&&m.keys(e),a=(o||e).length,s=t>0?0:a-1;for(i||(r=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var u=o?o[s]:s;r=n(r,e[u],u,e)}return r};return function(t,n,r,i){var o=arguments.length>=3;return e(t,b(n,i,4),r,o)}};m.reduce=m.foldl=m.inject=L(1),m.reduceRight=m.foldr=L(-1),m.find=m.detect=function(t,e,n){var r=A(t)?m.findIndex:m.findKey,i=r(t,e,n);if(void 0!==i&&-1!==i)return t[i]},m.filter=m.select=function(t,e,n){var r=[];return e=w(e,n),m.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},m.reject=function(t,e,n){return m.filter(t,m.negate(w(e)),n)},m.every=m.all=function(t,e,n){e=w(e,n);for(var r=!A(t)&&m.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0},m.some=m.any=function(t,e,n){e=w(e,n);for(var r=!A(t)&&m.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1},m.contains=m.includes=m.include=function(t,e,n,r){return A(t)||(t=m.values(t)),("number"!=typeof n||r)&&(n=0),m.indexOf(t,e,n)>=0},m.invoke=_(function(t,e,n){var r,i;return m.isFunction(e)?i=e:m.isArray(e)&&(r=e.slice(0,-1),e=e[e.length-1]),m.map(t,function(t){var o=i;if(!o){if(r&&r.length&&(t=k(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)})}),m.pluck=function(t,e){return m.map(t,m.property(e))},m.where=function(t,e){return m.filter(t,m.matcher(e))},m.findWhere=function(t,e){return m.find(t,m.matcher(e))},m.max=function(t,e,n){var r,i,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=A(t)?t:m.values(t);for(var s=0,u=t.length;s<u;s++)null!=(r=t[s])&&r>o&&(o=r)}else e=w(e,n),m.each(t,function(t,n,r){((i=e(t,n,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)});return o},m.min=function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=A(t)?t:m.values(t);for(var s=0,u=t.length;s<u;s++)null!=(r=t[s])&&r<o&&(o=r)}else e=w(e,n),m.each(t,function(t,n,r){((i=e(t,n,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)});return o},m.shuffle=function(t){return m.sample(t,1/0)},m.sample=function(t,e,n){if(null==e||n)return A(t)||(t=m.values(t)),t[m.random(t.length-1)];var r=A(t)?m.clone(t):m.values(t),i=S(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var s=m.random(a,o),u=r[a];r[a]=r[s],r[s]=u}return r.slice(0,e)},m.sortBy=function(t,e,n){var r=0;return e=w(e,n),m.pluck(m.map(t,function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var E=function(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=w(r,i),m.each(n,function(e,i){var a=r(e,i,n);t(o,e,a)}),o}};m.groupBy=E(function(t,e,n){m.has(t,n)?t[n].push(e):t[n]=[e]}),m.indexBy=E(function(t,e,n){t[n]=e}),m.countBy=E(function(t,e,n){m.has(t,n)?t[n]++:t[n]=1});var C=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(t){return t?m.isArray(t)?h.call(t):m.isString(t)?t.match(C):A(t)?m.map(t,m.identity):m.values(t):[]},m.size=function(t){return null==t?0:A(t)?t.length:m.keys(t).length},m.partition=E(function(t,e,n){t[n?0:1].push(e)},!0),m.first=m.head=m.take=function(t,e,n){if(!(null==t||t.length<1))return null==e||n?t[0]:m.initial(t,t.length-e)},m.initial=function(t,e,n){return h.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},m.last=function(t,e,n){if(!(null==t||t.length<1))return null==e||n?t[t.length-1]:m.rest(t,Math.max(0,t.length-e))},m.rest=m.tail=m.drop=function(t,e,n){return h.call(t,null==e||n?1:e)},m.compact=function(t){return m.filter(t,Boolean)};var N=function(t,e,n,r){r=r||[];for(var i=r.length,o=0,a=S(t);o<a;o++){var s=t[o];if(A(s)&&(m.isArray(s)||m.isArguments(s)))if(e)for(var u=0,l=s.length;u<l;)r[i++]=s[u++];else N(s,e,n,r),i=r.length;else n||(r[i++]=s)}return r};m.flatten=function(t,e){return N(t,e,!1)},m.without=_(function(t,e){return m.difference(t,e)}),m.uniq=m.unique=function(t,e,n,r){m.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=w(n,r));for(var i=[],o=[],a=0,s=S(t);a<s;a++){var u=t[a],l=n?n(u,a,t):u;e&&!n?(a&&o===l||i.push(u),o=l):n?m.contains(o,l)||(o.push(l),i.push(u)):m.contains(i,u)||i.push(u)}return i},m.union=_(function(t){return m.uniq(N(t,!0,!0))}),m.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=S(t);r<i;r++){var o=t[r];if(!m.contains(e,o)){var a;for(a=1;a<n&&m.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},m.difference=_(function(t,e){return e=N(e,!0,!0),m.filter(t,function(t){return!m.contains(e,t)})}),m.unzip=function(t){for(var e=t&&m.max(t,S).length||0,n=Array(e),r=0;r<e;r++)n[r]=m.pluck(t,r);return n},m.zip=_(m.unzip),m.object=function(t,e){for(var n={},r=0,i=S(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n};var O=function(t){return function(e,n,r){n=w(n,r);for(var i=S(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}};m.findIndex=O(1),m.findLastIndex=O(-1),m.sortedIndex=function(t,e,n,r){n=w(n,r,1);for(var i=n(e),o=0,a=S(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o};var j=function(t,e,n){return function(r,i,o){var a=0,s=S(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=e(h.call(r,a,s),m.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(r[o]===i)return o;return-1}};m.indexOf=j(1,m.findIndex,m.sortedIndex),m.lastIndexOf=j(-1,m.findLastIndex),m.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},m.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(h.call(t,r,r+=e));return n};var D=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=M(t.prototype),a=t.apply(o,i);return m.isObject(a)?a:o};m.bind=_(function(t,e,n){if(!m.isFunction(t))throw new TypeError("Bind must be called on a function");var r=_(function(i){return D(t,r,e,this,n.concat(i))});return r}),m.partial=_(function(t,e){var n=m.partial.placeholder,r=function(){for(var i=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[i++]:e[s];for(;i<arguments.length;)a.push(arguments[i++]);return D(t,r,this,this,a)};return r}),m.partial.placeholder=m,m.bindAll=_(function(t,e){e=N(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=m.bind(t[r],t)}}),m.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return m.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},m.delay=_(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),m.defer=m.partial(m.delay,m,1),m.throttle=function(t,e,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:m.now(),r=null,a=t.apply(i,o),r||(i=o=null)},l=function(){var l=m.now();s||!1!==n.leading||(s=l);var c=e-(l-s);return i=this,o=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),s=l,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l},m.debounce=function(t,e,n){var r,i,o=function(e,n){r=null,n&&(i=t.apply(e,n))},a=_(function(a){if(r&&clearTimeout(r),n){var s=!r;r=setTimeout(o,e),s&&(i=t.apply(this,a))}else r=m.delay(o,e,this,a);return i});return a.cancel=function(){clearTimeout(r),r=null},a},m.wrap=function(t,e){return m.partial(e,t)},m.negate=function(t){return function(){return!t.apply(this,arguments)}},m.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},m.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},m.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},m.once=m.partial(m.before,2),m.restArguments=_;var R=!{toString:null}.propertyIsEnumerable("toString"),q=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],I=function(t,e){var n=q.length,r=t.constructor,i=m.isFunction(r)&&r.prototype||u,o="constructor";for(m.has(t,o)&&!m.contains(e,o)&&e.push(o);n--;)(o=q[n])in t&&t[o]!==i[o]&&!m.contains(e,o)&&e.push(o)};m.keys=function(t){if(!m.isObject(t))return[];if(v)return v(t);var e=[];for(var n in t)m.has(t,n)&&e.push(n);return R&&I(t,e),e},m.allKeys=function(t){if(!m.isObject(t))return[];var e=[];for(var n in t)e.push(n);return R&&I(t,e),e},m.values=function(t){for(var e=m.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},m.mapObject=function(t,e,n){e=w(e,n);for(var r=m.keys(t),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=e(t[s],s,t)}return o},m.pairs=function(t){for(var e=m.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},m.invert=function(t){for(var e={},n=m.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},m.functions=m.methods=function(t){var e=[];for(var n in t)m.isFunction(t[n])&&e.push(n);return e.sort()};var F=function(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),s=a.length,u=0;u<s;u++){var l=a[u];e&&void 0!==n[l]||(n[l]=o[l])}return n}};m.extend=F(m.allKeys),m.extendOwn=m.assign=F(m.keys),m.findKey=function(t,e,n){e=w(e,n);for(var r,i=m.keys(t),o=0,a=i.length;o<a;o++)if(r=i[o],e(t[r],r,t))return r};var B=function(t,e,n){return e in n};m.pick=_(function(t,e){var n={},r=e[0];if(null==t)return n;m.isFunction(r)?(e.length>1&&(r=b(r,e[1])),e=m.allKeys(t)):(r=B,e=N(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=t[a];r(s,a,t)&&(n[a]=s)}return n}),m.omit=_(function(t,e){var n,r=e[0];return m.isFunction(r)?(r=m.negate(r),e.length>1&&(n=e[1])):(e=m.map(N(e,!1,!1),String),r=function(t,n){return!m.contains(e,n)}),m.pick(t,r,n)}),m.defaults=F(m.allKeys,!0),m.create=function(t,e){var n=M(t);return e&&m.extendOwn(n,e),n},m.clone=function(t){return m.isObject(t)?m.isArray(t)?t.slice():m.extend({},t):t},m.tap=function(t,e){return e(t),t},m.isMatch=function(t,e){var n=m.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0};var H,z;H=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!==t)return e!==e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&z(t,e,n,r)},z=function(t,e,n,r){t instanceof m&&(t=t._wrapped),e instanceof m&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return l.valueOf.call(t)===l.valueOf.call(e)}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(m.isFunction(a)&&a instanceof a&&m.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!H(t[u],e[u],n,r))return!1}else{var c,h=m.keys(t);if(u=h.length,m.keys(e).length!==u)return!1;for(;u--;)if(c=h[u],!m.has(e,c)||!H(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0},m.isEqual=function(t,e){return H(t,e)},m.isEmpty=function(t){return null==t||(A(t)&&(m.isArray(t)||m.isString(t)||m.isArguments(t))?0===t.length:0===m.keys(t).length)},m.isElement=function(t){return!(!t||1!==t.nodeType)},m.isArray=p||function(t){return"[object Array]"===f.call(t)},m.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){m["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),m.isArguments(arguments)||(m.isArguments=function(t){return m.has(t,"callee")});var Y=o.document&&o.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof Y&&(m.isFunction=function(t){return"function"==typeof t||!1}),m.isFinite=function(t){return!m.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},m.isNaN=function(t){return m.isNumber(t)&&isNaN(t)},m.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},m.isNull=function(t){return null===t},m.isUndefined=function(t){return void 0===t},m.has=function(t,e){if(!m.isArray(e))return null!=t&&d.call(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!d.call(t,i))return!1;t=t[i]}return!!n},m.noConflict=function(){return o._=a,this},m.identity=function(t){return t},m.constant=function(t){return function(){return t}},m.noop=function(){},m.property=function(t){return m.isArray(t)?function(e){return k(e,t)}:P(t)},m.propertyOf=function(t){return null==t?function(){}:function(e){return m.isArray(e)?k(t,e):t[e]}},m.matcher=m.matches=function(t){return t=m.extendOwn({},t),function(e){return m.isMatch(e,t)}},m.times=function(t,e,n){var r=Array(Math.max(0,t));e=b(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},m.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},m.now=Date.now||function(){return(new Date).getTime()};var V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},X=m.invert(V),W=function(t){var e=function(e){return t[e]},n="(?:"+m.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};m.escape=W(V),m.unescape=W(X),m.result=function(t,e,n){m.isArray(e)||(e=[e]);var r=e.length;if(!r)return m.isFunction(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=m.isFunction(o)?o.call(t):o}return t};var $=0;m.uniqueId=function(t){var e=++$+"";return t?t+e:e},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var G=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},J=/\\|'|\r|\n|\u2028|\u2029/g,Q=function(t){return"\\"+U[t]};m.template=function(t,e,n){!e&&n&&(e=n),e=m.defaults({},e,m.templateSettings);var r=RegExp([(e.escape||G).source,(e.interpolate||G).source,(e.evaluate||G).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,a,s){return o+=t.slice(i,s).replace(J,Q),i=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var a;try{a=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var s=function(t){return a.call(this,t,m)};return s.source="function("+(e.variable||"obj")+"){\n"+o+"}",s},m.chain=function(t){var e=m(t);return e._chain=!0,e};var K=function(t,e){return t._chain?m(e).chain():e};m.mixin=function(t){return m.each(m.functions(t),function(e){var n=m[e]=t[e];m.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),K(this,n.apply(m,t))}}),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];m.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],K(this,n)}}),m.each(["concat","join","slice"],function(t){var e=s[t];m.prototype[t]=function(){return K(this,e.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)},r=[],void 0!==(i=function(){return m}.apply(e,r))&&(n.exports=i)}()}).call(e,n(26),n(121)(t))},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(1),i=n.n(r),o=n(3),a=n.n(o),s=(n(0),function(){function t(){i()(this,t)}return a()(t,[{key:"getDrawable",value:function(t){var e=[];return t.forEach(function(t,n){if(void 0!=t&&t.hasOwnProperty("typename"))switch(t.typename){case"line":e.push(t.line);break;case"arc-defined-by-tree":case"polygon":case"penTool":case"triangle":case"rectangle":case"circle":e=e.concat(t.lines)}}),e}},{key:"setPosition",value:function(t,e){t.x=e.x,t.y=e.y}},{key:"roundPosition",value:function(t){t.x=20*Math.round(t.x/20),t.y=20*Math.round(t.y/20)}}]),t}())},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports={}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(33);t.exports=function(t){return Object(r(t))}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(55),i=n(41);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(1),i=n.n(r),o=n(3),a=n.n(o),s=n(2),u=(n.n(s),n(0)),l=(n(7),n(8),n(9),function(){function t(){i()(this,t)}return a()(t,null,[{key:"init",value:function(){t._circle&&t._circle.remove(),t._letter&&t._letter.remove(),t._letter=null,t._circle=null}},{key:"incrementNextLetter",value:function(){t._nextLetter+=1}},{key:"reset",value:function(){t.init(),t._nextLetter=0}},{key:"draw",value:function(e){t._circle&&t._circle.remove(),t._circle=u.d.doc.circle(5).center(e.x,e.y).stroke(u.d.getSelectedStroke()).fill(u.d.color)}},{key:"move",value:function(e){t._letter&&t._letter.remove(),t._letter=u.d.doc.text(t._LETTERS[t._nextLetter]).center(e.x,e.y)}},{key:"create",value:function(){var e=null;return t._letter&&t._nextLetter++,t._circle&&(e=new u.g(t._circle,t._letter)),e}},{key:"isDrawLetter",value:function(){return!!t._circle}}]),t}());l._circle=null,l._letter=null,l._nextLetter=0,l._LETTERS=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]},function(t,e,n){var r=n(74);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(19);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(35)("keys"),i=n(28);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(12),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(78),o=r(i),a=n(91),s=r(a),u="function"==typeof s.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===u(o.default)?function(t){return void 0===t?"undefined":u(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":void 0===t?"undefined":u(t)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=!0},function(t,e,n){var r=n(18),i=n(82),o=n(41),a=n(34)("IE_PROTO"),s=function(){},u=function(){var t,e=n(49)("iframe"),r=o.length;for(e.style.display="none",n(86).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(13).f,i=n(16),o=n(11)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){e.f=n(11)},function(t,e,n){var r=n(12),i=n(10),o=n(38),a=n(43),s=n(13).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r,i;/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,o){"use strict";function a(t,e,n){e=e||ct;var r,i=e.createElement("script");if(i.text=t,n)for(r in Pt)n[r]&&(i[r]=n[r]);e.head.appendChild(i).parentNode.removeChild(i)}function s(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?yt[gt.call(t)]||"object":typeof t}function u(t){var e=!!t&&"length"in t&&t.length,n=s(t);return!_t(t)&&!Mt(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function l(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function c(t,e,n){return _t(e)?kt.grep(t,function(t,r){return!!e.call(t,r,t)!==n}):e.nodeType?kt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?kt.grep(t,function(t){return vt.call(e,t)>-1!==n}):kt.filter(e,t,n)}function h(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function f(t){var e={};return kt.each(t.match(Rt)||[],function(t,n){e[n]=!0}),e}function d(t){return t}function p(t){throw t}function v(t,e,n,r){var i;try{t&&_t(i=t.promise)?i.call(t).done(e).fail(n):t&&_t(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}function y(){ct.removeEventListener("DOMContentLoaded",y),n.removeEventListener("load",y),kt.ready()}function g(t,e){return e.toUpperCase()}function m(t){return t.replace(Bt,"ms-").replace(Ht,g)}function x(){this.expando=kt.expando+x.uid++}function b(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Xt.test(t)?JSON.parse(t):t)}function w(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(Wt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=b(n)}catch(t){}Vt.set(t,e,n)}else n=void 0;return n}function _(t,e,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return kt.css(t,e,"")},u=s(),l=n&&n[3]||(kt.cssNumber[e]?"":"px"),c=(kt.cssNumber[e]||"px"!==l&&+u)&&Gt.exec(kt.css(t,e));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)kt.style(t,e,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,kt.style(t,e,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function M(t){var e,n=t.ownerDocument,r=t.nodeName,i=Kt[r];return i||(e=n.body.appendChild(n.createElement(r)),i=kt.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),Kt[r]=i,i)}function P(t,e){for(var n,r,i=[],o=0,a=t.length;o<a;o++)r=t[o],r.style&&(n=r.style.display,e?("none"===n&&(i[o]=Yt.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Jt(r)&&(i[o]=M(r))):"none"!==n&&(i[o]="none",Yt.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}function k(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&l(t,e)?kt.merge([t],n):n}function T(t,e){for(var n=0,r=t.length;n<r;n++)Yt.set(t[n],"globalEval",!e||Yt.get(e[n],"globalEval"))}function S(t,e,n,r,i){for(var o,a,u,l,c,h,f=e.createDocumentFragment(),d=[],p=0,v=t.length;p<v;p++)if((o=t[p])||0===o)if("object"===s(o))kt.merge(d,o.nodeType?[o]:o);else if(re.test(o)){for(a=a||f.appendChild(e.createElement("div")),u=(te.exec(o)||["",""])[1].toLowerCase(),l=ne[u]||ne._default,a.innerHTML=l[1]+kt.htmlPrefilter(o)+l[2],h=l[0];h--;)a=a.lastChild;kt.merge(d,a.childNodes),a=f.firstChild,a.textContent=""}else d.push(e.createTextNode(o));for(f.textContent="",p=0;o=d[p++];)if(r&&kt.inArray(o,r)>-1)i&&i.push(o);else if(c=kt.contains(o.ownerDocument,o),a=k(f.appendChild(o),"script"),c&&T(a),n)for(h=0;o=a[h++];)ee.test(o.type||"")&&n.push(o);return f}function A(){return!0}function L(){return!1}function E(){try{return ct.activeElement}catch(t){}}function C(t,e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=void 0);for(s in e)C(t,s,n,r,e[s],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=L;else if(!i)return t;return 1===o&&(a=i,i=function(t){return kt().off(t),a.apply(this,arguments)},i.guid=a.guid||(a.guid=kt.guid++)),t.each(function(){kt.event.add(this,e,i,r,n)})}function N(t,e){return l(t,"table")&&l(11!==e.nodeType?e:e.firstChild,"tr")?kt(t).children("tbody")[0]||t:t}function O(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function j(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function D(t,e){var n,r,i,o,a,s,u,l;if(1===e.nodeType){if(Yt.hasData(t)&&(o=Yt.access(t),a=Yt.set(e,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)kt.event.add(e,i,l[i][n])}Vt.hasData(t)&&(s=Vt.access(t),u=kt.extend({},s),Vt.set(e,u))}}function R(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Zt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function q(t,e,n,r){e=dt.apply([],e);var i,o,s,u,l,c,h=0,f=t.length,d=f-1,p=e[0],v=_t(p);if(v||f>1&&"string"==typeof p&&!wt.checkClone&&ce.test(p))return t.each(function(i){var o=t.eq(i);v&&(e[0]=p.call(this,i,o.html())),q(o,e,n,r)});if(f&&(i=S(e,t[0].ownerDocument,!1,t,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=kt.map(k(i,"script"),O),u=s.length;h<f;h++)l=i,h!==d&&(l=kt.clone(l,!0,!0),u&&kt.merge(s,k(l,"script"))),n.call(t[h],l,h);if(u)for(c=s[s.length-1].ownerDocument,kt.map(s,j),h=0;h<u;h++)l=s[h],ee.test(l.type||"")&&!Yt.access(l,"globalEval")&&kt.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?kt._evalUrl&&kt._evalUrl(l.src):a(l.textContent.replace(he,""),c,l))}return t}function I(t,e,n){for(var r,i=e?kt.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||kt.cleanData(k(r)),r.parentNode&&(n&&kt.contains(r.ownerDocument,r)&&T(k(r,"script")),r.parentNode.removeChild(r));return t}function F(t,e,n){var r,i,o,a,s=t.style;return n=n||de(t),n&&(a=n.getPropertyValue(e)||n[e],""!==a||kt.contains(t.ownerDocument,t)||(a=kt.style(t,e)),!wt.pixelBoxStyles()&&fe.test(a)&&pe.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function B(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function H(t){if(t in be)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=xe.length;n--;)if((t=xe[n]+e)in be)return t}function z(t){var e=kt.cssProps[t];return e||(e=kt.cssProps[t]=H(t)||t),e}function Y(t,e,n){var r=Gt.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function V(t,e,n,r,i,o){var a="width"===e?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=kt.css(t,n+Ut[a],!0,i)),r?("content"===n&&(u-=kt.css(t,"padding"+Ut[a],!0,i)),"margin"!==n&&(u-=kt.css(t,"border"+Ut[a]+"Width",!0,i))):(u+=kt.css(t,"padding"+Ut[a],!0,i),"padding"!==n?u+=kt.css(t,"border"+Ut[a]+"Width",!0,i):s+=kt.css(t,"border"+Ut[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-s-.5))),u}function X(t,e,n){var r=de(t),i=F(t,e,r),o="border-box"===kt.css(t,"boxSizing",!1,r),a=o;if(fe.test(i)){if(!n)return i;i="auto"}return a=a&&(wt.boxSizingReliable()||i===t.style[e]),("auto"===i||!parseFloat(i)&&"inline"===kt.css(t,"display",!1,r))&&(i=t["offset"+e[0].toUpperCase()+e.slice(1)],a=!0),(i=parseFloat(i)||0)+V(t,e,n||(o?"border":"content"),a,r,i)+"px"}function W(t,e,n,r,i){return new W.prototype.init(t,e,n,r,i)}function $(){_e&&(!1===ct.hidden&&n.requestAnimationFrame?n.requestAnimationFrame($):n.setTimeout($,kt.fx.interval),kt.fx.tick())}function G(){return n.setTimeout(function(){we=void 0}),we=Date.now()}function U(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)n=Ut[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function J(t,e,n){for(var r,i=(Z.tweeners[e]||[]).concat(Z.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function Q(t,e,n){var r,i,o,a,s,u,l,c,h="width"in e||"height"in e,f=this,d={},p=t.style,v=t.nodeType&&Jt(t),y=Yt.get(t,"fxshow");n.queue||(a=kt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,kt.queue(t,"fx").length||a.empty.fire()})}));for(r in e)if(i=e[r],Me.test(i)){if(delete e[r],o=o||"toggle"===i,i===(v?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;v=!0}d[r]=y&&y[r]||kt.style(t,r)}if((u=!kt.isEmptyObject(e))||!kt.isEmptyObject(d)){h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=y&&y.display,null==l&&(l=Yt.get(t,"display")),c=kt.css(t,"display"),"none"===c&&(l?c=l:(P([t],!0),l=t.style.display||l,c=kt.css(t,"display"),P([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===kt.css(t,"float")&&(u||(f.done(function(){p.display=l}),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(y?"hidden"in y&&(v=y.hidden):y=Yt.access(t,"fxshow",{display:l}),o&&(y.hidden=!v),v&&P([t],!0),f.done(function(){v||P([t]),Yt.remove(t,"fxshow");for(r in d)kt.style(t,r,d[r])})),u=J(v?y[r]:0,r,f),r in y||(y[r]=u.start,v&&(u.end=u.start,u.start=0))}}function K(t,e){var n,r,i,o,a;for(n in t)if(r=m(n),i=e[r],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=kt.cssHooks[r])&&"expand"in a){o=a.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function Z(t,e,n){var r,i,o=0,a=Z.prefilters.length,s=kt.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=we||G(),n=Math.max(0,l.startTime+l.duration-e),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(t,[l,o,n]),o<1&&u?n:(u||s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:kt.extend({},e),opts:kt.extend(!0,{specialEasing:{},easing:kt.easing._default},n),originalProperties:e,originalOptions:n,startTime:we||G(),duration:n.duration,tweens:[],createTween:function(e,n){var r=kt.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),c=l.props;for(K(c,l.opts.specialEasing);o<a;o++)if(r=Z.prefilters[o].call(l,t,c,l.opts))return _t(r.stop)&&(kt._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return kt.map(c,J,l),_t(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),kt.fx.timer(kt.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l}function tt(t){return(t.match(Rt)||[]).join(" ")}function et(t){return t.getAttribute&&t.getAttribute("class")||""}function nt(t){return Array.isArray(t)?t:"string"==typeof t?t.match(Rt)||[]:[]}function rt(t,e,n,r){var i;if(Array.isArray(e))kt.each(e,function(e,i){n||De.test(t)?r(t,i):rt(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==s(e))r(t,e);else for(i in e)rt(t+"["+i+"]",e[i],n,r)}function it(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(Rt)||[];if(_t(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function ot(t,e,n,r){function i(s){var u;return o[s]=!0,kt.each(t[s]||[],function(t,s){var l=s(e,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(e.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=t===$e;return i(e.dataTypes[0])||!o["*"]&&i("*")}function at(t,e){var n,r,i=kt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&kt.extend(!0,t,r),t}function st(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function ut(t,e,n,r){var i,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}var lt=[],ct=n.document,ht=Object.getPrototypeOf,ft=lt.slice,dt=lt.concat,pt=lt.push,vt=lt.indexOf,yt={},gt=yt.toString,mt=yt.hasOwnProperty,xt=mt.toString,bt=xt.call(Object),wt={},_t=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},Mt=function(t){return null!=t&&t===t.window},Pt={type:!0,src:!0,noModule:!0},kt=function(t,e){return new kt.fn.init(t,e)},Tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;kt.fn=kt.prototype={jquery:"3.3.1",constructor:kt,length:0,toArray:function(){return ft.call(this)},get:function(t){return null==t?ft.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=kt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return kt.each(this,t)},map:function(t){return this.pushStack(kt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ft.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:pt,sort:lt.sort,splice:lt.splice},kt.extend=kt.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||_t(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],r=t[e],a!==r&&(l&&r&&(kt.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&kt.isPlainObject(n)?n:{},a[e]=kt.extend(l,o,r)):void 0!==r&&(a[e]=r));return a},kt.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==gt.call(t))&&(!(e=ht(t))||"function"==typeof(n=mt.call(e,"constructor")&&e.constructor)&&xt.call(n)===bt)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){a(t)},each:function(t,e){var n,r=0;if(u(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(Tt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(u(Object(t))?kt.merge(n,"string"==typeof t?[t]:t):pt.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:vt.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,a=[];if(u(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return dt.apply([],a)},guid:1,support:wt}),"function"==typeof Symbol&&(kt.fn[Symbol.iterator]=lt[Symbol.iterator]),kt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){yt["[object "+e+"]"]=e.toLowerCase()});var St=/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){function e(t,e,n,r){var i,o,a,s,u,c,f,d=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&((e?e.ownerDocument||e:F)!==C&&E(e),e=e||C,O)){if(11!==p&&(u=vt.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&q(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return J.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&b.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(i)),n}if(b.qsa&&!V[t+" "]&&(!j||!j.test(t))){if(1!==p)d=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(xt,bt):e.setAttribute("id",s=I),c=P(t),o=c.length;o--;)c[o]="#"+s+" "+h(c[o]);f=c.join(","),d=yt.test(t)&&l(e.parentNode)||e}if(f)try{return J.apply(n,d.querySelectorAll(f)),n}catch(t){}finally{s===I&&e.removeAttribute("id")}}}return T(t.replace(ot,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>w.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[I]=!0,t}function i(t){var e=C.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&_t(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function u(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function l(t){return t&&void 0!==t.getElementsByTagName&&t}function c(){}function h(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function f(t,e,n){var r=e.dir,i=e.next,o=i||r,a=n&&"parentNode"===o,s=H++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,i);return!1}:function(e,n,u){var l,c,h,f=[B,s];if(u){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(h=e[I]||(e[I]={}),c=h[e.uniqueID]||(h[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((l=c[o])&&l[0]===B&&l[1]===s)return f[2]=l[2];if(c[o]=f,f[2]=t(e,n,u))return!0}return!1}}function d(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function p(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}function v(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),l&&e.push(s)));return a}function y(t,e,n,i,o,a){return i&&!i[I]&&(i=y(i)),o&&!o[I]&&(o=y(o,a)),r(function(r,a,s,u){var l,c,h,f=[],d=[],y=a.length,g=r||p(e||"*",s.nodeType?[s]:s,[]),m=!t||!r&&e?g:v(g,f,t,s,u),x=n?o||(r?t:y||i)?[]:a:m;if(n&&n(m,x,s,u),i)for(l=v(x,d),i(l,[],s,u),c=l.length;c--;)(h=l[c])&&(x[d[c]]=!(m[d[c]]=h));if(r){if(o||t){if(o){for(l=[],c=x.length;c--;)(h=x[c])&&l.push(m[c]=h);o(null,x=[],l,u)}for(c=x.length;c--;)(h=x[c])&&(l=o?K(r,h):f[c])>-1&&(r[l]=!(a[l]=h))}}else x=v(x===a?x.splice(y,x.length):x),o?o(null,a,x,u):J.apply(a,x)})}function g(t){for(var e,n,r,i=t.length,o=w.relative[t[0].type],a=o||w.relative[" "],s=o?1:0,u=f(function(t){return t===e},a,!0),l=f(function(t){return K(e,t)>-1},a,!0),c=[function(t,n,r){var i=!o&&(r||n!==S)||((e=n).nodeType?u(t,n,r):l(t,n,r));return e=null,i}];s<i;s++)if(n=w.relative[t[s].type])c=[f(d(c),n)];else{if(n=w.filter[t[s].type].apply(null,t[s].matches),n[I]){for(r=++s;r<i&&!w.relative[t[r].type];r++);return y(s>1&&d(c),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ot,"$1"),n,s<r&&g(t.slice(s,r)),r<i&&g(t=t.slice(r)),r<i&&h(t))}c.push(n)}return d(c)}function m(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,u,l){var c,h,f,d=0,p="0",y=r&&[],g=[],m=S,x=r||o&&w.find.TAG("*",l),b=B+=null==m?1:Math.random()||.1,_=x.length;for(l&&(S=a===C||a||l);p!==_&&null!=(c=x[p]);p++){if(o&&c){for(h=0,a||c.ownerDocument===C||(E(c),s=!O);f=t[h++];)if(f(c,a||C,s)){u.push(c);break}l&&(B=b)}i&&((c=!f&&c)&&d--,r&&y.push(c))}if(d+=p,i&&p!==d){for(h=0;f=n[h++];)f(y,g,a,s);if(r){if(d>0)for(;p--;)y[p]||g[p]||(g[p]=G.call(u));g=v(g)}J.apply(u,g),l&&!r&&g.length>0&&d+n.length>1&&e.uniqueSort(u)}return l&&(B=b,S=m),y};return i?r(a):a}var x,b,w,_,M,P,k,T,S,A,L,E,C,N,O,j,D,R,q,I="sizzle"+1*new Date,F=t.document,B=0,H=0,z=n(),Y=n(),V=n(),X=function(t,e){return t===e&&(L=!0),0},W={}.hasOwnProperty,$=[],G=$.pop,U=$.push,J=$.push,Q=$.slice,K=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",nt="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",rt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+nt+")*)|.*)\\)|)",it=new RegExp(tt+"+","g"),ot=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),at=new RegExp("^"+tt+"*,"+tt+"*"),st=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),ut=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),lt=new RegExp(rt),ct=new RegExp("^"+et+"$"),ht={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+nt),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,dt=/^h\d$/i,pt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,gt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),mt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,bt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},wt=function(){E()},_t=f(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{J.apply($=Q.call(F.childNodes),F.childNodes),$[F.childNodes.length].nodeType}catch(t){J={apply:$.length?function(t,e){U.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}b=e.support={},M=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},E=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:F;return r!==C&&9===r.nodeType&&r.documentElement?(C=r,N=C.documentElement,O=!M(C),F!==C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",wt,!1):n.attachEvent&&n.attachEvent("onunload",wt)),b.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=i(function(t){return t.appendChild(C.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=pt.test(C.getElementsByClassName),b.getById=i(function(t){return N.appendChild(t).id=I,!C.getElementsByName||!C.getElementsByName(I).length}),b.getById?(w.filter.ID=function(t){var e=t.replace(gt,mt);return function(t){return t.getAttribute("id")===e}},w.find.ID=function(t,e){if(void 0!==e.getElementById&&O){var n=e.getElementById(t);return n?[n]:[]}}):(w.filter.ID=function(t){var e=t.replace(gt,mt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},w.find.ID=function(t,e){if(void 0!==e.getElementById&&O){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),w.find.TAG=b.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):b.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=b.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&O)return e.getElementsByClassName(t)},D=[],j=[],(b.qsa=pt.test(C.querySelectorAll))&&(i(function(t){N.appendChild(t).innerHTML="<a id='"+I+"'></a><select id='"+I+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||j.push("\\["+tt+"*(?:value|"+Z+")"),t.querySelectorAll("[id~="+I+"-]").length||j.push("~="),t.querySelectorAll(":checked").length||j.push(":checked"),t.querySelectorAll("a#"+I+"+*").length||j.push(".#.+[+~]")}),i(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=C.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&j.push("name"+tt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&j.push(":enabled",":disabled"),N.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&j.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),j.push(",.*:")})),(b.matchesSelector=pt.test(R=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&i(function(t){b.disconnectedMatch=R.call(t,"*"),R.call(t,"[s!='']:x"),D.push("!=",rt)}),j=j.length&&new RegExp(j.join("|")),D=D.length&&new RegExp(D.join("|")),e=pt.test(N.compareDocumentPosition),q=e||pt.test(N.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},X=e?function(t,e){if(t===e)return L=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!b.sortDetached&&e.compareDocumentPosition(t)===n?t===C||t.ownerDocument===F&&q(F,t)?-1:e===C||e.ownerDocument===F&&q(F,e)?1:A?K(A,t)-K(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return L=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,s=[t],u=[e];if(!i||!o)return t===C?-1:e===C?1:i?-1:o?1:A?K(A,t)-K(A,e):0;if(i===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===F?-1:u[r]===F?1:0},C):C},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==C&&E(t),n=n.replace(ut,"='$1']"),b.matchesSelector&&O&&!V[n+" "]&&(!D||!D.test(n))&&(!j||!j.test(n)))try{var r=R.call(t,n);if(r||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return e(n,C,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==C&&E(t),q(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==C&&E(t);var n=w.attrHandle[e.toLowerCase()],r=n&&W.call(w.attrHandle,e.toLowerCase())?n(t,e,!O):void 0;return void 0!==r?r:b.attributes||!O?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.escape=function(t){return(t+"").replace(xt,bt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(L=!b.detectDuplicates,A=!b.sortStable&&t.slice(0),t.sort(X),L){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return A=null,t},_=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=_(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=_(e);return n},w=e.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(gt,mt),t[3]=(t[3]||t[4]||t[5]||"").replace(gt,mt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&lt.test(n)&&(e=P(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(gt,mt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(it," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,d,p,v=o!==a?"nextSibling":"previousSibling",y=e.parentNode,g=s&&e.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(y){if(o){for(;v;){for(f=e;f=f[v];)if(s?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;p=v="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?y.firstChild:y.lastChild],a&&m){for(f=y,h=f[I]||(f[I]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),l=c[t]||[],d=l[0]===B&&l[1],x=d&&l[2],f=d&&y.childNodes[d];f=++d&&f&&f[v]||(x=d=0)||p.pop();)if(1===f.nodeType&&++x&&f===e){c[t]=[B,d,x];break}}else if(m&&(f=e,h=f[I]||(f[I]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),l=c[t]||[],d=l[0]===B&&l[1],x=d),!1===x)for(;(f=++d&&f&&f[v]||(x=d=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==g:1!==f.nodeType)||!++x||(m&&(h=f[I]||(f[I]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),c[t]=[B,x]),f!==e)););return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(t,n){var i,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[I]?o(n):o.length>1?(i=[t,t,"",n],w.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),a=i.length;a--;)r=K(t,i[a]),t[r]=!(e[r]=i[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=k(t.replace(ot,"$1"));return i[I]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(gt,mt),function(e){return(e.textContent||e.innerText||_(e)).indexOf(t)>-1}}),lang:r(function(t){return ct.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(gt,mt).toLowerCase(),function(e){var n;do{if(n=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===N},focus:function(t){return t===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return dt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[n<0?n+e:n]}),even:u(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:u(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}},w.pseudos.nth=w.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(x);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,P=e.tokenize=function(t,n){var r,i,o,a,s,u,l,c=Y[t+" "];if(c)return n?0:c.slice(0);for(s=t,u=[],l=w.preFilter;s;){r&&!(i=at.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=st.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ot," ")}),s=s.slice(r.length));for(a in w.filter)!(i=ht[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):Y(t,u).slice(0)},k=e.compile=function(t,e){var n,r=[],i=[],o=V[t+" "];if(!o){for(e||(e=P(t)),n=e.length;n--;)o=g(e[n]),o[I]?r.push(o):i.push(o);o=V(t,m(i,r)),o.selector=t}return o},T=e.select=function(t,e,n,r){var i,o,a,s,u,c="function"==typeof t&&t,f=!r&&P(t=c.selector||t);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===e.nodeType&&O&&w.relative[o[1].type]){if(!(e=(w.find.ID(a.matches[0].replace(gt,mt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=ht.needsContext.test(t)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((u=w.find[s])&&(r=u(a.matches[0].replace(gt,mt),yt.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&h(o)))return J.apply(n,r),n;break}}return(c||k(t,f))(r,e,!O,n,!e||yt.test(t)&&l(e.parentNode)||e),n},b.sortStable=I.split("").sort(X).join("")===I,b.detectDuplicates=!!L,E(),b.sortDetached=i(function(t){return 1&t.compareDocumentPosition(C.createElement("fieldset"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(Z,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(n);kt.find=St,kt.expr=St.selectors,kt.expr[":"]=kt.expr.pseudos,kt.uniqueSort=kt.unique=St.uniqueSort,kt.text=St.getText,kt.isXMLDoc=St.isXML,kt.contains=St.contains,kt.escapeSelector=St.escape;var At=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&kt(t).is(n))break;r.push(t)}return r},Lt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Et=kt.expr.match.needsContext,Ct=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;kt.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?kt.find.matchesSelector(r,t)?[r]:[]:kt.find.matches(t,kt.grep(e,function(t){return 1===t.nodeType}))},kt.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(kt(t).filter(function(){for(e=0;e<r;e++)if(kt.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)kt.find(t,i[e],n);return r>1?kt.uniqueSort(n):n},filter:function(t){return this.pushStack(c(this,t||[],!1))},not:function(t){return this.pushStack(c(this,t||[],!0))},is:function(t){return!!c(this,"string"==typeof t&&Et.test(t)?kt(t):t||[],!1).length}});var Nt,Ot=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(kt.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||Nt,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Ot.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof kt?e[0]:e,kt.merge(this,kt.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:ct,!0)),Ct.test(r[1])&&kt.isPlainObject(e))for(r in e)_t(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return i=ct.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):_t(t)?void 0!==n.ready?n.ready(t):t(kt):kt.makeArray(t,this)}).prototype=kt.fn,Nt=kt(ct);var jt=/^(?:parents|prev(?:Until|All))/,Dt={children:!0,contents:!0,next:!0,prev:!0};kt.fn.extend({has:function(t){var e=kt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(kt.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],a="string"!=typeof t&&kt(t);if(!Et.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&kt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?kt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?vt.call(kt(t),this[0]):vt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(kt.uniqueSort(kt.merge(this.get(),kt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),kt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return At(t,"parentNode")},parentsUntil:function(t,e,n){return At(t,"parentNode",n)},next:function(t){return h(t,"nextSibling")},prev:function(t){return h(t,"previousSibling")},nextAll:function(t){return At(t,"nextSibling")},prevAll:function(t){return At(t,"previousSibling")},nextUntil:function(t,e,n){return At(t,"nextSibling",n)},prevUntil:function(t,e,n){return At(t,"previousSibling",n)},siblings:function(t){return Lt((t.parentNode||{}).firstChild,t)},children:function(t){return Lt(t.firstChild)},contents:function(t){return l(t,"iframe")?t.contentDocument:(l(t,"template")&&(t=t.content||t),kt.merge([],t.childNodes))}},function(t,e){kt.fn[t]=function(n,r){var i=kt.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=kt.filter(r,i)),this.length>1&&(Dt[t]||kt.uniqueSort(i),jt.test(t)&&i.reverse()),this.pushStack(i)}});var Rt=/[^\x20\t\r\n\f]+/g;kt.Callbacks=function(t){t="string"==typeof t?f(t):kt.extend({},t);var e,n,r,i,o=[],a=[],u=-1,l=function(){for(i=i||t.once,r=e=!0;a.length;u=-1)for(n=a.shift();++u<o.length;)!1===o[u].apply(n[0],n[1])&&t.stopOnFalse&&(u=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(u=o.length-1,a.push(n)),function e(n){kt.each(n,function(n,r){_t(r)?t.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==s(r)&&e(r)})}(arguments),n&&!e&&l()),this},remove:function(){return kt.each(arguments,function(t,e){for(var n;(n=kt.inArray(e,o,n))>-1;)o.splice(n,1),n<=u&&u--}),this},has:function(t){return t?kt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},kt.extend({Deferred:function(t){var e=[["notify","progress",kt.Callbacks("memory"),kt.Callbacks("memory"),2],["resolve","done",kt.Callbacks("once memory"),kt.Callbacks("once memory"),0,"resolved"],["reject","fail",kt.Callbacks("once memory"),kt.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return kt.Deferred(function(n){kt.each(e,function(e,r){var i=_t(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&_t(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(t,r,i){function o(t,e,r,i){return function(){var s=this,u=arguments,l=function(){var n,l;if(!(t<a)){if((n=r.apply(s,u))===e.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,_t(l)?i?l.call(n,o(a,e,d,i),o(a,e,p,i)):(a++,l.call(n,o(a,e,d,i),o(a,e,p,i),o(a,e,d,e.notifyWith))):(r!==d&&(s=void 0,u=[n]),(i||e.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(n){kt.Deferred.exceptionHook&&kt.Deferred.exceptionHook(n,c.stackTrace),t+1>=a&&(r!==p&&(s=void 0,u=[n]),e.rejectWith(s,u))}};t?c():(kt.Deferred.getStackHook&&(c.stackTrace=kt.Deferred.getStackHook()),n.setTimeout(c))}}var a=0;return kt.Deferred(function(n){e[0][3].add(o(0,n,_t(i)?i:d,n.notifyWith)),e[1][3].add(o(0,n,_t(t)?t:d)),e[2][3].add(o(0,n,_t(r)?r:p))}).promise()},promise:function(t){return null!=t?kt.extend(t,i):i}},o={};return kt.each(e,function(t,n){var a=n[2],s=n[5];i[n[1]]=a.add,s&&a.add(function(){r=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=ft.call(arguments),o=kt.Deferred(),a=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?ft.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(v(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||_t(i[n]&&i[n].then)))return o.then();for(;n--;)v(i[n],a(n),o.reject);return o.promise()}});var qt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;kt.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&qt.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},kt.readyException=function(t){n.setTimeout(function(){throw t})};var It=kt.Deferred();kt.fn.ready=function(t){return It.then(t).catch(function(t){kt.readyException(t)}),this},kt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--kt.readyWait:kt.isReady)||(kt.isReady=!0,!0!==t&&--kt.readyWait>0||It.resolveWith(ct,[kt]))}}),kt.ready.then=It.then,"complete"===ct.readyState||"loading"!==ct.readyState&&!ct.documentElement.doScroll?n.setTimeout(kt.ready):(ct.addEventListener("DOMContentLoaded",y),n.addEventListener("load",y));var Ft=function(t,e,n,r,i,o,a){var u=0,l=t.length,c=null==n;if("object"===s(n)){i=!0;for(u in n)Ft(t,e,u,n[u],!0,o,a)}else if(void 0!==r&&(i=!0,_t(r)||(a=!0),c&&(a?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(kt(t),n)})),e))for(;u<l;u++)e(t[u],n,a?r:r.call(t[u],u,e(t[u],n)));return i?t:c?e.call(t):l?e(t[0],n):o},Bt=/^-ms-/,Ht=/-([a-z])/g,zt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};x.uid=1,x.prototype={cache:function(t){var e=t[this.expando];return e||(e={},zt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[m(e)]=n;else for(r in e)i[m(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][m(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){Array.isArray(e)?e=e.map(m):(e=m(e),e=e in r?[e]:e.match(Rt)||[]),n=e.length;for(;n--;)delete r[e[n]]}(void 0===e||kt.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!kt.isEmptyObject(e)}};var Yt=new x,Vt=new x,Xt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Wt=/[A-Z]/g;kt.extend({hasData:function(t){return Vt.hasData(t)||Yt.hasData(t)},data:function(t,e,n){return Vt.access(t,e,n)},removeData:function(t,e){Vt.remove(t,e)},_data:function(t,e,n){return Yt.access(t,e,n)},_removeData:function(t,e){Yt.remove(t,e)}}),kt.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=Vt.get(o),1===o.nodeType&&!Yt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=m(r.slice(5)),w(o,r,i[r])));Yt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){Vt.set(this,t)}):Ft(this,function(e){var n;if(o&&void 0===e){if(void 0!==(n=Vt.get(o,t)))return n;if(void 0!==(n=w(o,t)))return n}else this.each(function(){Vt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Vt.remove(this,t)})}}),kt.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=Yt.get(t,e),n&&(!r||Array.isArray(n)?r=Yt.access(t,e,kt.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=kt.queue(t,e),r=n.length,i=n.shift(),o=kt._queueHooks(t,e),a=function(){kt.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Yt.get(t,n)||Yt.access(t,n,{empty:kt.Callbacks("once memory").add(function(){Yt.remove(t,[e+"queue",n])})})}}),kt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?kt.queue(this[0],t):void 0===e?this:this.each(function(){var n=kt.queue(this,t,e);kt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&kt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){kt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=kt.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=Yt.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var $t=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Gt=new RegExp("^(?:([+-])=|)("+$t+")([a-z%]*)$","i"),Ut=["Top","Right","Bottom","Left"],Jt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&kt.contains(t.ownerDocument,t)&&"none"===kt.css(t,"display")},Qt=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=a[o];return i},Kt={};kt.fn.extend({show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Jt(this)?kt(this).show():kt(this).hide()})}});var Zt=/^(?:checkbox|radio)$/i,te=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ee=/^$|^module$|\/(?:java|ecma)script/i,ne={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ne.optgroup=ne.option,ne.tbody=ne.tfoot=ne.colgroup=ne.caption=ne.thead,ne.th=ne.td;var re=/<|&#?\w+;/;!function(){var t=ct.createDocumentFragment(),e=t.appendChild(ct.createElement("div")),n=ct.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),wt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",wt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var ie=ct.documentElement,oe=/^key/,ae=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,se=/^([^.]*)(?:\.(.+)|)/;kt.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,h,f,d,p,v,y=Yt.get(t);if(y)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&kt.find.matchesSelector(ie,i),n.guid||(n.guid=kt.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(e){return void 0!==kt&&kt.event.triggered!==e.type?kt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Rt)||[""],l=e.length;l--;)s=se.exec(e[l])||[],d=v=s[1],p=(s[2]||"").split(".").sort(),d&&(h=kt.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,h=kt.event.special[d]||{},c=kt.extend({type:d,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&kt.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=u[d])||(f=u[d]=[],f.delegateCount=0,h.setup&&!1!==h.setup.call(t,r,p,a)||t.addEventListener&&t.addEventListener(d,a)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),kt.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,a,s,u,l,c,h,f,d,p,v,y=Yt.hasData(t)&&Yt.get(t);if(y&&(u=y.events)){for(e=(e||"").match(Rt)||[""],l=e.length;l--;)if(s=se.exec(e[l])||[],d=v=s[1],p=(s[2]||"").split(".").sort(),d){for(h=kt.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,f=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!i&&v!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));a&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,p,y.handle)||kt.removeEvent(t,d,y.handle),delete u[d])}else for(d in u)kt.event.remove(t,d+e[l],n,r,!0);kt.isEmptyObject(u)&&Yt.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,s=kt.event.fix(t),u=new Array(arguments.length),l=(Yt.get(this,"events")||{})[s.type]||[],c=kt.event.special[s.type]||{};for(u[0]=s,e=1;e<arguments.length;e++)u[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=kt.event.handlers.call(this,s,l),e=0;(i=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((kt.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,r,i,o,a,s=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)r=e[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?kt(i,this).index(l)>-1:kt.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<e.length&&s.push({elem:l,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(kt.Event.prototype,t,{enumerable:!0,configurable:!0,get:_t(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[kt.expando]?t:new kt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==E()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===E()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&l(this,"input"))return this.click(),!1},_default:function(t){return l(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},kt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},kt.Event=function(t,e){if(!(this instanceof kt.Event))return new kt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?A:L,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&kt.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[kt.expando]=!0},kt.Event.prototype={constructor:kt.Event,isDefaultPrevented:L,isPropagationStopped:L,isImmediatePropagationStopped:L,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=A,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=A,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=A,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},kt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&oe.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&ae.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},kt.event.addProp),kt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){kt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||kt.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),kt.fn.extend({on:function(t,e,n,r){return C(this,t,e,n,r)},one:function(t,e,n,r){return C(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,kt(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=L),this.each(function(){kt.event.remove(this,t,n,e)})}});var ue=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,le=/<script|<style|<link/i,ce=/checked\s*(?:[^=]|=\s*.checked.)/i,he=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;kt.extend({htmlPrefilter:function(t){return t.replace(ue,"<$1></$2>")},clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),u=kt.contains(t.ownerDocument,t);if(!(wt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||kt.isXMLDoc(t)))for(a=k(s),o=k(t),r=0,i=o.length;r<i;r++)R(o[r],a[r]);if(e)if(n)for(o=o||k(t),a=a||k(s),r=0,i=o.length;r<i;r++)D(o[r],a[r]);else D(t,s);return a=k(s,"script"),a.length>0&&T(a,!u&&k(t,"script")),s},cleanData:function(t){for(var e,n,r,i=kt.event.special,o=0;void 0!==(n=t[o]);o++)if(zt(n)){if(e=n[Yt.expando]){if(e.events)for(r in e.events)i[r]?kt.event.remove(n,r):kt.removeEvent(n,r,e.handle);n[Yt.expando]=void 0}n[Vt.expando]&&(n[Vt.expando]=void 0)}}}),kt.fn.extend({detach:function(t){return I(this,t,!0)},remove:function(t){return I(this,t)},text:function(t){return Ft(this,function(t){return void 0===t?kt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return q(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){N(this,t).appendChild(t)}})},prepend:function(){return q(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=N(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return q(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return q(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(kt.cleanData(k(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return kt.clone(this,t,e)})},html:function(t){return Ft(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!le.test(t)&&!ne[(te.exec(t)||["",""])[1].toLowerCase()]){t=kt.htmlPrefilter(t);try{for(;n<r;n++)e=this[n]||{},1===e.nodeType&&(kt.cleanData(k(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return q(this,arguments,function(e){var n=this.parentNode;kt.inArray(this,t)<0&&(kt.cleanData(k(this)),n&&n.replaceChild(e,this))},t)}}),kt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){kt.fn[t]=function(t){for(var n,r=[],i=kt(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),kt(i[a])[e](n),pt.apply(r,n.get());return this.pushStack(r)}});var fe=new RegExp("^("+$t+")(?!px)[a-z%]+$","i"),de=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},pe=new RegExp(Ut.join("|"),"i");!function(){function t(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(u).appendChild(l);var t=n.getComputedStyle(l);r="1%"!==t.top,s=12===e(t.marginLeft),l.style.right="60%",a=36===e(t.right),i=36===e(t.width),l.style.position="absolute",o=36===l.offsetWidth||"absolute",ie.removeChild(u),l=null}}function e(t){return Math.round(parseFloat(t))}var r,i,o,a,s,u=ct.createElement("div"),l=ct.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",wt.clearCloneStyle="content-box"===l.style.backgroundClip,kt.extend(wt,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),o}}))}();var ve=/^(none|table(?!-c[ea]).+)/,ye=/^--/,ge={position:"absolute",visibility:"hidden",display:"block"},me={letterSpacing:"0",fontWeight:"400"},xe=["Webkit","Moz","ms"],be=ct.createElement("div").style;kt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=F(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=m(e),u=ye.test(e),l=t.style;if(u||(e=z(s)),a=kt.cssHooks[e]||kt.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:l[e];o=typeof n,"string"===o&&(i=Gt.exec(n))&&i[1]&&(n=_(t,e,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(kt.cssNumber[s]?"":"px")),wt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(u?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,r){var i,o,a,s=m(e);return ye.test(e)||(e=z(s)),a=kt.cssHooks[e]||kt.cssHooks[s],a&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=F(t,e,r)),"normal"===i&&e in me&&(i=me[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),kt.each(["height","width"],function(t,e){kt.cssHooks[e]={get:function(t,n,r){if(n)return!ve.test(kt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?X(t,e,r):Qt(t,ge,function(){return X(t,e,r)})},set:function(t,n,r){var i,o=de(t),a="border-box"===kt.css(t,"boxSizing",!1,o),s=r&&V(t,e,r,a,o);return a&&wt.scrollboxSize()===o.position&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-V(t,e,"border",!1,o)-.5)),s&&(i=Gt.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=kt.css(t,e)),Y(t,n,s)}}}),kt.cssHooks.marginLeft=B(wt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(F(t,"marginLeft"))||t.getBoundingClientRect().left-Qt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),kt.each({margin:"",padding:"",border:"Width"},function(t,e){kt.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+Ut[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(kt.cssHooks[t+e].set=Y)}),kt.fn.extend({css:function(t,e){return Ft(this,function(t,e,n){var r,i,o={},a=0;if(Array.isArray(e)){for(r=de(t),i=e.length;a<i;a++)o[e[a]]=kt.css(t,e[a],!1,r);return o}return void 0!==n?kt.style(t,e,n):kt.css(t,e)},t,e,arguments.length>1)}}),kt.Tween=W,W.prototype={constructor:W,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||kt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(kt.cssNumber[n]?"":"px")},cur:function(){var t=W.propHooks[this.prop];return t&&t.get?t.get(this):W.propHooks._default.get(this)},run:function(t){var e,n=W.propHooks[this.prop];return this.options.duration?this.pos=e=kt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):W.propHooks._default.set(this),this}},W.prototype.init.prototype=W.prototype,W.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=kt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){kt.fx.step[t.prop]?kt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[kt.cssProps[t.prop]]&&!kt.cssHooks[t.prop]?t.elem[t.prop]=t.now:kt.style(t.elem,t.prop,t.now+t.unit)}}},W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},kt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},kt.fx=W.prototype.init,kt.fx.step={};var we,_e,Me=/^(?:toggle|show|hide)$/,Pe=/queueHooks$/;kt.Animation=kt.extend(Z,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return _(n.elem,t,Gt.exec(e),n),n}]},tweener:function(t,e){_t(t)?(e=t,t=["*"]):t=t.match(Rt);for(var n,r=0,i=t.length;r<i;r++)n=t[r],Z.tweeners[n]=Z.tweeners[n]||[],Z.tweeners[n].unshift(e)},prefilters:[Q],prefilter:function(t,e){e?Z.prefilters.unshift(t):Z.prefilters.push(t)}}),kt.speed=function(t,e,n){var r=t&&"object"==typeof t?kt.extend({},t):{complete:n||!n&&e||_t(t)&&t,duration:t,easing:n&&e||e&&!_t(e)&&e};return kt.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in kt.fx.speeds?r.duration=kt.fx.speeds[r.duration]:r.duration=kt.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){_t(r.old)&&r.old.call(this),r.queue&&kt.dequeue(this,r.queue)},r},kt.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Jt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=kt.isEmptyObject(t),o=kt.speed(e,n,r),a=function(){var e=Z(this,kt.extend({},t),o);(i||Yt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=kt.timers,a=Yt.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Pe.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||kt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Yt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=kt.timers,a=r?r.length:0;for(n.finish=!0,kt.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),kt.each(["toggle","show","hide"],function(t,e){var n=kt.fn[e];kt.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(U(e,!0),t,r,i)}}),kt.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){kt.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),kt.timers=[],kt.fx.tick=function(){var t,e=0,n=kt.timers;for(we=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||kt.fx.stop(),we=void 0},kt.fx.timer=function(t){kt.timers.push(t),kt.fx.start()},kt.fx.interval=13,kt.fx.start=function(){_e||(_e=!0,$())},kt.fx.stop=function(){_e=null},kt.fx.speeds={slow:600,fast:200,_default:400},kt.fn.delay=function(t,e){return t=kt.fx?kt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}})},function(){var t=ct.createElement("input"),e=ct.createElement("select"),n=e.appendChild(ct.createElement("option"));t.type="checkbox",wt.checkOn=""!==t.value,wt.optSelected=n.selected,t=ct.createElement("input"),t.value="t",t.type="radio",wt.radioValue="t"===t.value}();var ke,Te=kt.expr.attrHandle;kt.fn.extend({attr:function(t,e){return Ft(this,kt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){kt.removeAttr(this,t)})}}),kt.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?kt.prop(t,e,n):(1===o&&kt.isXMLDoc(t)||(i=kt.attrHooks[e.toLowerCase()]||(kt.expr.match.bool.test(e)?ke:void 0)),void 0!==n?null===n?void kt.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=kt.find.attr(t,e),null==r?void 0:r))},attrHooks:{type:{set:function(t,e){if(!wt.radioValue&&"radio"===e&&l(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(Rt);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),ke={set:function(t,e,n){return!1===e?kt.removeAttr(t,n):t.setAttribute(n,n),n}},kt.each(kt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Te[e]||kt.find.attr;Te[e]=function(t,e,r){var i,o,a=e.toLowerCase();return r||(o=Te[a],Te[a]=i,i=null!=n(t,e,r)?a:null,Te[a]=o),i}});var Se=/^(?:input|select|textarea|button)$/i,Ae=/^(?:a|area)$/i;kt.fn.extend({prop:function(t,e){return Ft(this,kt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[kt.propFix[t]||t]})}}),kt.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&kt.isXMLDoc(t)||(e=kt.propFix[e]||e,i=kt.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=kt.find.attr(t,"tabindex");return e?parseInt(e,10):Se.test(t.nodeName)||Ae.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),wt.optSelected||(kt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),kt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){kt.propFix[this.toLowerCase()]=this}),kt.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(_t(t))return this.each(function(e){kt(this).addClass(t.call(this,e,et(this)))});if(e=nt(t),e.length)for(;n=this[u++];)if(i=et(n),r=1===n.nodeType&&" "+tt(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=tt(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(_t(t))return this.each(function(e){kt(this).removeClass(t.call(this,e,et(this)))});if(!arguments.length)return this.attr("class","");if(e=nt(t),e.length)for(;n=this[u++];)if(i=et(n),r=1===n.nodeType&&" "+tt(i)+" "){for(a=0;o=e[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=tt(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,r="string"===n||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):_t(t)?this.each(function(n){kt(this).toggleClass(t.call(this,n,et(this),e),e)}):this.each(function(){var e,i,o,a;if(r)for(i=0,o=kt(this),a=nt(t);e=a[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||(e=et(this),e&&Yt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Yt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+tt(et(n))+" ").indexOf(e)>-1)return!0;return!1}});var Le=/\r/g;kt.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=_t(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,kt(this).val()):t,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=kt.map(i,function(t){return null==t?"":t+""})),(e=kt.valHooks[this.type]||kt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return(e=kt.valHooks[i.type]||kt.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Le,""):null==n?"":n)}}}),kt.extend({valHooks:{option:{get:function(t){var e=kt.find.attr(t,"value");return null!=e?e:tt(kt.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(n=i[r],(n.selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!l(n.parentNode,"optgroup"))){if(e=kt(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=kt.makeArray(e),a=i.length;a--;)r=i[a],(r.selected=kt.inArray(kt.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),kt.each(["radio","checkbox"],function(){kt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=kt.inArray(kt(t).val(),e)>-1}},wt.checkOn||(kt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),wt.focusin="onfocusin"in n;var Ee=/^(?:focusinfocus|focusoutblur)$/,Ce=function(t){t.stopPropagation()};kt.extend(kt.event,{trigger:function(t,e,r,i){var o,a,s,u,l,c,h,f,d=[r||ct],p=mt.call(t,"type")?t.type:t,v=mt.call(t,"namespace")?t.namespace.split("."):[];if(a=f=s=r=r||ct,3!==r.nodeType&&8!==r.nodeType&&!Ee.test(p+kt.event.triggered)&&(p.indexOf(".")>-1&&(v=p.split("."),p=v.shift(),v.sort()),l=p.indexOf(":")<0&&"on"+p,t=t[kt.expando]?t:new kt.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:kt.makeArray(e,[t]),h=kt.event.special[p]||{},i||!h.trigger||!1!==h.trigger.apply(r,e))){if(!i&&!h.noBubble&&!Mt(r)){for(u=h.delegateType||p,Ee.test(u+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(r.ownerDocument||ct)&&d.push(s.defaultView||s.parentWindow||n)}for(o=0;(a=d[o++])&&!t.isPropagationStopped();)f=a,t.type=o>1?u:h.bindType||p,c=(Yt.get(a,"events")||{})[t.type]&&Yt.get(a,"handle"),c&&c.apply(a,e),(c=l&&a[l])&&c.apply&&zt(a)&&(t.result=c.apply(a,e),!1===t.result&&t.preventDefault());return t.type=p,i||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),e)||!zt(r)||l&&_t(r[p])&&!Mt(r)&&(s=r[l],s&&(r[l]=null),kt.event.triggered=p,t.isPropagationStopped()&&f.addEventListener(p,Ce),r[p](),t.isPropagationStopped()&&f.removeEventListener(p,Ce),kt.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(t,e,n){var r=kt.extend(new kt.Event,n,{type:t,isSimulated:!0});kt.event.trigger(r,null,e)}}),kt.fn.extend({trigger:function(t,e){return this.each(function(){kt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return kt.event.trigger(t,e,n,!0)}}),wt.focusin||kt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){kt.event.simulate(e,t.target,kt.event.fix(t))};kt.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=Yt.access(r,e);i||r.addEventListener(t,n,!0),Yt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Yt.access(r,e)-1;i?Yt.access(r,e,i):(r.removeEventListener(t,n,!0),Yt.remove(r,e))}}});var Ne=n.location,Oe=Date.now(),je=/\?/;kt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||kt.error("Invalid XML: "+t),e};var De=/\[\]$/,Re=/\r?\n/g,qe=/^(?:submit|button|image|reset|file)$/i,Ie=/^(?:input|select|textarea|keygen)/i;kt.param=function(t,e){var n,r=[],i=function(t,e){var n=_t(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!kt.isPlainObject(t))kt.each(t,function(){i(this.name,this.value)});else for(n in t)rt(n,t[n],e,i);return r.join("&")},kt.fn.extend({serialize:function(){return kt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=kt.prop(this,"elements");return t?kt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!kt(this).is(":disabled")&&Ie.test(this.nodeName)&&!qe.test(t)&&(this.checked||!Zt.test(t))}).map(function(t,e){var n=kt(this).val();return null==n?null:Array.isArray(n)?kt.map(n,function(t){return{name:e.name,value:t.replace(Re,"\r\n")}}):{name:e.name,value:n.replace(Re,"\r\n")}}).get()}});var Fe=/%20/g,Be=/#.*$/,He=/([?&])_=[^&]*/,ze=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ye=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ve=/^(?:GET|HEAD)$/,Xe=/^\/\//,We={},$e={},Ge="*/".concat("*"),Ue=ct.createElement("a");Ue.href=Ne.href,kt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ne.href,type:"GET",isLocal:Ye.test(Ne.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ge,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":kt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?at(at(t,kt.ajaxSettings),e):at(kt.ajaxSettings,t)},ajaxPrefilter:it(We),ajaxTransport:it($e),ajax:function(t,e){function r(t,e,r,s){var l,f,d,b,w,_=e;c||(c=!0,u&&n.clearTimeout(u),i=void 0,a=s||"",M.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=st(p,M,r)),b=ut(p,b,M,l),l?(p.ifModified&&(w=M.getResponseHeader("Last-Modified"),w&&(kt.lastModified[o]=w),(w=M.getResponseHeader("etag"))&&(kt.etag[o]=w)),204===t||"HEAD"===p.type?_="nocontent":304===t?_="notmodified":(_=b.state,f=b.data,d=b.error,l=!d)):(d=_,!t&&_||(_="error",t<0&&(t=0))),M.status=t,M.statusText=(e||_)+"",l?g.resolveWith(v,[f,_,M]):g.rejectWith(v,[M,_,d]),M.statusCode(x),x=void 0,h&&y.trigger(l?"ajaxSuccess":"ajaxError",[M,p,l?f:d]),m.fireWith(v,[M,_]),h&&(y.trigger("ajaxComplete",[M,p]),--kt.active||kt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,o,a,s,u,l,c,h,f,d,p=kt.ajaxSetup({},e),v=p.context||p,y=p.context&&(v.nodeType||v.jquery)?kt(v):kt.event,g=kt.Deferred(),m=kt.Callbacks("once memory"),x=p.statusCode||{},b={},w={},_="canceled",M={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=ze.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)M.always(t[M.status]);else for(e in t)x[e]=[x[e],t[e]];return this},abort:function(t){var e=t||_;return i&&i.abort(e),r(0,e),this}};if(g.promise(M),p.url=((t||p.url||Ne.href)+"").replace(Xe,Ne.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Rt)||[""],null==p.crossDomain){l=ct.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Ue.protocol+"//"+Ue.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=kt.param(p.data,p.traditional)),ot(We,p,e,M),c)return M;h=kt.event&&p.global,h&&0==kt.active++&&kt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ve.test(p.type),o=p.url.replace(Be,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Fe,"+")):(d=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(je.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(He,"$1"),d=(je.test(o)?"&":"?")+"_="+Oe+++d),p.url=o+d),p.ifModified&&(kt.lastModified[o]&&M.setRequestHeader("If-Modified-Since",kt.lastModified[o]),kt.etag[o]&&M.setRequestHeader("If-None-Match",kt.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&M.setRequestHeader("Content-Type",p.contentType),M.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ge+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)M.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(v,M,p)||c))return M.abort();if(_="abort",m.add(p.complete),M.done(p.success),M.fail(p.error),i=ot($e,p,e,M)){if(M.readyState=1,h&&y.trigger("ajaxSend",[M,p]),c)return M;p.async&&p.timeout>0&&(u=n.setTimeout(function(){M.abort("timeout")},p.timeout));try{c=!1,i.send(b,r)}catch(t){if(c)throw t;r(-1,t)}}else r(-1,"No Transport");return M},getJSON:function(t,e,n){return kt.get(t,e,n,"json")},getScript:function(t,e){return kt.get(t,void 0,e,"script")}}),kt.each(["get","post"],function(t,e){kt[e]=function(t,n,r,i){return _t(n)&&(i=i||r,r=n,n=void 0),kt.ajax(kt.extend({url:t,type:e,dataType:i,data:n,success:r},kt.isPlainObject(t)&&t))}}),kt._evalUrl=function(t){return kt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},kt.fn.extend({wrapAll:function(t){var e;return this[0]&&(_t(t)&&(t=t.call(this[0])),e=kt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return _t(t)?this.each(function(e){kt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=kt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=_t(t);return this.each(function(n){kt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){kt(this).replaceWith(this.childNodes)}),this}}),kt.expr.pseudos.hidden=function(t){return!kt.expr.pseudos.visible(t)},kt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},kt.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Je={0:200,1223:204},Qe=kt.ajaxSettings.xhr();wt.cors=!!Qe&&"withCredentials"in Qe,wt.ajax=Qe=!!Qe,kt.ajaxTransport(function(t){var e,r;if(wt.cors||Qe&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);e=function(t){return function(){e&&(e=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Je[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),r=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&r()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),kt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),kt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return kt.globalEval(t),t}}}),kt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),kt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=kt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),ct.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Ke=[],Ze=/(=)\?(?=&|$)|\?\?/;kt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ke.pop()||kt.expando+"_"+Oe++;return this[t]=!0,t}}),kt.ajaxPrefilter("json jsonp",function(t,e,r){var i,o,a,s=!1!==t.jsonp&&(Ze.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ze.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=_t(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ze,"$1"+i):!1!==t.jsonp&&(t.url+=(je.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||kt.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always(function(){void 0===o?kt(n).removeProp(i):n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ke.push(i)),a&&_t(o)&&o(a[0]),a=o=void 0}),"script"}),wt.createHTMLDocument=function(){var t=ct.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),kt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var r,i,o;return e||(wt.createHTMLDocument?(e=ct.implementation.createHTMLDocument(""),r=e.createElement("base"),r.href=ct.location.href,e.head.appendChild(r)):e=ct),i=Ct.exec(t),o=!n&&[],i?[e.createElement(i[1])]:(i=S([t],e,o),o&&o.length&&kt(o).remove(),kt.merge([],i.childNodes))},kt.fn.load=function(t,e,n){var r,i,o,a=this,s=t.indexOf(" ");return s>-1&&(r=tt(t.slice(s)),t=t.slice(0,s)),_t(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&kt.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?kt("<div>").append(kt.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},kt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){kt.fn[e]=function(t){return this.on(e,t)}}),kt.expr.pseudos.animated=function(t){return kt.grep(kt.timers,function(e){return t===e.elem}).length},kt.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,l,c=kt.css(t,"position"),h=kt(t),f={};"static"===c&&(t.style.position="relative"),s=h.offset(),o=kt.css(t,"top"),u=kt.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=h.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),_t(e)&&(e=e.call(t,n,kt.extend({},s))),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+i),"using"in e?e.using.call(t,f):h.css(f)}},kt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){kt.offset.setOffset(this,t,e)});var e,n,r=this[0];if(r)return r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===kt.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===kt.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&(i=kt(t).offset(),i.top+=kt.css(t,"borderTopWidth",!0),i.left+=kt.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-kt.css(r,"marginTop",!0),left:e.left-i.left-kt.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===kt.css(t,"position");)t=t.offsetParent;return t||ie})}}),kt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;kt.fn[t]=function(r){return Ft(this,function(t,r,i){var o;if(Mt(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i},t,r,arguments.length)}}),kt.each(["top","left"],function(t,e){kt.cssHooks[e]=B(wt.pixelPosition,function(t,n){if(n)return n=F(t,e),fe.test(n)?kt(t).position()[e]+"px":n})}),kt.each({Height:"height",Width:"width"},function(t,e){kt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){kt.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return Ft(this,function(e,n,i){var o;return Mt(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?kt.css(e,n,s):kt.style(e,n,i,s)},e,a?i:void 0,a)}})}),kt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){kt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),kt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),kt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),kt.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),_t(t))return r=ft.call(arguments,2),i=function(){return t.apply(e||this,r.concat(ft.call(arguments)))},i.guid=t.guid=t.guid||kt.guid++,i},kt.holdReady=function(t){t?kt.readyWait++:kt.ready(!0)},kt.isArray=Array.isArray,kt.parseJSON=JSON.parse,kt.nodeName=l,kt.isFunction=_t,kt.isWindow=Mt,kt.camelCase=m,kt.type=s,kt.now=Date.now,kt.isNumeric=function(t){var e=kt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},r=[],void 0!==(i=function(){return kt}.apply(e,r))&&(t.exports=i);var tn=n.jQuery,en=n.$;return kt.noConflict=function(t){return n.$===kt&&(n.$=en),t&&n.jQuery===kt&&(n.jQuery=tn),kt},o||(n.jQuery=n.$=kt),kt})},function(t,e,n){t.exports={default:n(72),__esModule:!0}},function(t,e,n){t.exports=!n(15)&&!n(23)(function(){return 7!=Object.defineProperty(n(49)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(19),i=n(12).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(16),i=n(27),o=n(34)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(14),i=n(10),o=n(23);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){"use strict";var r=n(80)(!0);n(53)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(38),i=n(14),o=n(54),a=n(17),s=n(16),u=n(25),l=n(81),c=n(42),h=n(50),f=n(11)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,v,y,g,m){l(n,e,v);var x,b,w,_=function(t){if(!d&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},M=e+" Iterator",P="values"==y,k=!1,T=t.prototype,S=T[f]||T["@@iterator"]||y&&T[y],A=!d&&S||_(y),L=y?P?_("entries"):A:void 0,E="Array"==e?T.entries||S:S;if(E&&(w=h(E.call(new t)))!==Object.prototype&&w.next&&(c(w,M,!0),r||s(w,f)||a(w,f,p)),P&&S&&"values"!==S.name&&(k=!0,A=function(){return S.call(this)}),r&&!m||!d&&!k&&T[f]||a(T,f,A),u[e]=A,u[M]=p,y)if(x={values:P?A:_("values"),keys:g?A:_("keys"),entries:L},m)for(b in x)b in T||o(T,b,x[b]);else i(i.P+i.F*(d||k),e,x);return x}},function(t,e,n){t.exports=n(17)},function(t,e,n){var r=n(16),i=n(20),o=n(84)(!1),a=n(34)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(37),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(55),i=n(41).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(45),i=n(24),o=n(20),a=n(32),s=n(16),u=n(48),l=Object.getOwnPropertyDescriptor;e.f=n(15)?l:function(t,e){if(t=o(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(1),i=n.n(r),o=n(3),a=n.n(o),s=(n(61),function(){function t(e){i()(this,t),t._id=t._id+1,this.id=t._id,this.typename=e}return a()(t,[{key:"init",value:function(){console.log("shape init")}},{key:"select",value:function(){console.log("selected")}}]),t}());s._id=0},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var r=n(108),i=n.n(r),o=n(1),a=n.n(o),s=n(3),u=n.n(s),l=n(2),c=(n.n(l),n(0)),h=n(7),f=(n(8),n(9)),d=n(21),p=n.n(d),v=n(63),y={resize:6},g=function(){function t(){a()(this,t),this.SELECT_DISTANCE=10,this._isSelected=!1,this._rotateLine=null,this._resizePos=[],this._rectangles=[],this.clickCount=0,this._selectedLine=null,this._selectedObj=null,this._previewLines=[],this.isRotating=!1,this.isMoving=!1,this._preMousePos=null,this._recLines=[],this._grpSelection=null,this.isResizing=!1,this._markerPointLine=null,this._rect=null,this._pointRects=[]}return u()(t,[{key:"init",value:function(){this._selectedLine=null,this._selectedObj=null,this._isSelected=!1,this.isRotating=!1,this.isMoving=!1,this._rectangles.forEach(function(t){t.remove()}),this._rotateLine&&this._rotateLine.remove(),this._rotateLine=null,this._previewLines.forEach(function(t){return t.remove()}),this._previewLines=[],this._preMousePos=null,this._grpSelection&&this._grpSelection.remove(),this._resizePos=[],this._recLines.forEach(function(t){return t.remove()}),this._recLines=[],this._markerPointLine&&this._markerPointLine.remove(),this._markerPointLine=null,this._rect&&this._rect.remove(),this._rect=null,this._pointRects.forEach(function(t){return t.remove()}),this._pointRects=[]}},{key:"assign",value:function(){if(0!=this._previewLines.length){for(var t=this._getLines(this._selectedObj),e=0;e<t.length;e++){var n=this._previewLines[e].array().value[0],r=this._previewLines[e].array().value[1];t[e].plot(new l.PointArray([n,r]))}this._previewLines.forEach(function(t){return t.remove()}),this._previewLines=[],this._rectangles.forEach(function(t){return t.remove()}),this._rectangles=[],this._drawOuterFrame(this._selectedObj),this._drawRectToLine(this._selectedObj)}}},{key:"move",value:function(t){var e=this;switch(this._selectedObj.drawType){case c.p.line:case c.p.polygon:case c.p.triangle:case c.p.rightTriangle:case c.p.isoscelestriangle:case c.p.equilateraltriangle:case c.p.angeledRectangle:case c.p.rectangle:case c.p.regularPolygon:case c.p.regularSecondPolygon:case c.p.penTool:this._getLines(this._selectedObj).forEach(function(n){return e._moveLine(t,n)}),this._moveLine(t,this._rotateLine),this._rectangles.forEach(function(n){e._moveLine(t,n)}),this._pointRects.forEach(function(t){return t.remove()}),this._pointRects=[],this._preMousePos=t,this._drawRectToLine(this._selectedObj);break;case c.p.angleMeter:this._selectedObj.text.center(t.x,t.y),this._rect.center(t.x,t.y);break;case c.p.markedPoint:var n=this._selectedObj.circle,r=this._selectedObj.letter,i=h.a.distanceTwoPoint({x:n.cx(),y:n.cy()},t),o=h.a.distanceTwoPoint({x:r.cx(),y:r.cy()},t);if(this._pointRects.forEach(function(t){return t.remove()}),this._pointRects=[],o<i)r.center(t.x,t.y),this._drawRectToLine(this._selectedObj),this._markerPointLine&&this._markerPointLine.remove(),this._markerPointLine=c.d.doc.line(r.cx(),r.cy(),n.cx(),n.cy()).stroke({color:"#ccc",width:.5});else{var a=this._movePosition(t,[n.cx(),n.cy()],"c");n.cx(a[0]).cy(a[1]);var s=this._movePosition(t,[r.cx(),r.cy()],"l");r.cx(s[0]).cy(s[1]),this._drawRectToLine(this._selectedObj)}this._preMousePos=t}}},{key:"_movePolyLine",value:function(t,e){for(var n=e.array().value,r=[],i=0;i<n.length;i++){var o=n[i],a=this._movePosition(t,o);r.push(a)}e.plot(new l.PointArray(r))}},{key:"_movePosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=t.x-this._preMousePos.x,i=t.y-this._preMousePos.y,o=[e[0]+r,e[1]+i];return console.log(n+" x:"+r+" y:"+i),o}},{key:"_moveLine",value:function(t,e){var n=e.array().value[0],r=e.array().value[1],i=t.x-this._preMousePos.x,o=t.y-this._preMousePos.y,a=[n[0]+i,n[1]+o],s=t.x-this._preMousePos.x,u=t.y-this._preMousePos.y,c=[r[0]+s,r[1]+u];e.plot(new l.PointArray([a,c]))}},{key:"rotate",value:function(t){if(this._isSelected)switch(this._selectedObj.drawType){case c.p.penTool:case c.p.regularPolygon:case c.p.polygon:case c.p.angeledRectangle:case c.p.rectangle:case c.p.rightTriangle:case c.p.equilateraltriangle:case c.p.isoscelestriangle:case c.p.triangle:case c.p.line:this._rotateObj(this._selectedObj,t)}}},{key:"_rotateObj",value:function(t,e){var n=h.a.findMiddlePointFrom(t),r=[e.x-n.x,e.y-n.y],i=f.a.findRealAngle(r)-90,o=h.a.toRadian(-i);this._previewLines.forEach(function(t){return t.remove()}),this._previewLines=[];for(var a=this._getLines(t),s=0;s<a.length;s++){var u=a[s].array().value[0],d=a[s].array().value[1],p=f.a.rotate(o,f.a.toArrayToPosition(u),n),v=f.a.rotate(o,f.a.toArrayToPosition(d),n),y=new l.PointArray([[p.x,p.y],[v.x,v.y]]);this._previewLines.push(c.d.doc.line(y).stroke(c.d.getSelectedPreviewStroke()))}this.isRotating=!0,this._clearSelectionDraw()}},{key:"_isRotateLineSelected",value:function(t){if(!this._rotateLine)return!1;var e=this._rotateLine.array().value[0],n=this._rotateLine.array().value[1];return h.a.pointDistanceToLine(t.x,t.y,e[0],e[1],n[0],n[1])<=this.SELECT_DISTANCE/2}},{key:"isRotete",value:function(t){return this.isRotating=!1,!(!this._isSelected||!this._isRotateLineSelected(t))&&(this.isRotating=!0,!0)}},{key:"isMove",value:function(t){if(this.isMoving=!1,this._isSelected&&null!=this._selectedObj){var e=this._isIntoSelectDistance(this._selectedObj,t);return e&&(this.isMoving=!0,this._preMousePos=t),e}return!1}},{key:"isResize",value:function(t){if(0==this._isSelected)return!1;switch(this.isResizing=!1,this._selectedObj.drawType){case c.p.line:case c.p.rectangle:case c.p.isoscelestriangle:case c.p.triangle:for(var e=0;e<this._pointRects.length;e++){var n=this._pointRects[e];if(h.a.distanceTwoPoint({x:n.cx(),y:n.cy()},t)<=y.resize)return this.isResizing=!0,console.log("isresize"),!0}}return!1}},{key:"resize",value:function(t){switch(this._selectedObj.drawType){case c.p.line:var e=this._selectedObj.line,n=e.array().value[0],r=e.array().value[1],i=void 0;i=h.a.distanceTwoPoint(t,f.a.toArrayToPosition(n))<=h.a.distanceTwoPoint(t,f.a.toArrayToPosition(r))?r:n;var o=new l.PointArray([i,[t.x,t.y]]);e.plot(o);f.a.fromPosToArray(t);this._clearSelectionDraw(),this._drawOuterFrame(this._selectedObj),this._drawRectToLine(this._selectedObj);break;case c.p.triangle:this._resizeTriangle(t);break;case c.p.isoscelestriangle:this._resizeIsoscelestriangle(t);break;case c.p.rectangle:this._resizeRectangle(t)}}},{key:"_resizeRectangle",value:function(t){var e=this,n=this._selectedObj.lines[0].array().value[0],r=this._selectedObj.lines[0].array().value[1],i=f.a.getThirdPoint(this._selectedObj.lines[0].array().value,this._selectedObj.lines[1].array().value),o=f.a.getThirdPoint(this._selectedObj.lines[1].array().value,this._selectedObj.lines[2].array().value),a=[],s=[n,r,i,o];s.forEach(function(e){var n=h.a.distanceTwoPoint(f.a.toArrayToPosition(e),t);a.push(n)});var u=Math.min.apply(Math,a),c=a.findIndex(function(t){return t<=u});if(!(c<0)){s[c][0]=t.x,s[c][1]=t.y;var d=c+2>=4?(c+2)%4:c+2;v.m.getRecPositions({x:s[c][0],y:s[c][1]},{x:s[d][0],y:s[d][1]}).forEach(function(t,n){e._selectedObj.lines[n].plot(new l.PointArray([[t[0],t[1]],[t[2],t[3]]]))}),this._clearSelectionDraw(),this._drawOuterFrame(this._selectedObj),this._drawRectToLine(this._selectedObj)}}},{key:"_resizeIsoscelestriangle",value:function(t){var e=this._selectedObj.firstLine.array().value[0],n=this._selectedObj.firstLine.array().value[1],r=f.a.getThirdPoint(this._selectedObj.firstLine.array().value,this._selectedObj.secondLine.array().value),i=[];[e,n,r].forEach(function(e){var n=h.a.distanceTwoPoint(f.a.toArrayToPosition(e),t);i.push(n)});var o=Math.min.apply(Math,i);if(i[2]==o){var a=v.q.__findIsoscelesThirdPos(f.a.toArrayToPosition(e),f.a.toArrayToPosition(n),t,c.p.isoscelestriangle);this._selectedObj.secondLine.plot(new l.PointArray([e,f.a.fromPosToArray(a)])),this._selectedObj.thirdLine.plot(new l.PointArray([n,f.a.fromPosToArray(a)]))}else{var s={x:0,y:0};i[0]==o?(e=f.a.fromPosToArray(t),s=v.q.__findIsoscelesThirdPos(f.a.toArrayToPosition(e),f.a.toArrayToPosition(n),f.a.toArrayToPosition(r),c.p.isoscelestriangle)):(n=f.a.fromPosToArray(t),s=v.q.__findIsoscelesThirdPos(f.a.toArrayToPosition(e),f.a.toArrayToPosition(n),f.a.toArrayToPosition(r),c.p.isoscelestriangle)),this._selectedObj.firstLine.plot(new l.PointArray([e,n])),this._selectedObj.secondLine.plot(new l.PointArray([e,f.a.fromPosToArray(s)])),this._selectedObj.thirdLine.plot(new l.PointArray([n,f.a.fromPosToArray(s)]))}this._clearSelectionDraw(),this._drawOuterFrame(this._selectedObj),this._drawRectToLine(this._selectedObj)}},{key:"_resizeTriangle",value:function(t){for(var e=this._getAllLinesFromObj(this._selectedObj),n=this._selectedObj.lines[0],r=(n.attr("stroke"),n.attr("stroke-dasharray"),n.attr("stroke-width"),e.slice(0,2)),i=2;i<e.length;i+=2){var o=e.slice(i,i+2);this._isExist(r,o)||(r=r.concat(o))}for(var a=[],s=0;s<r.length;s+=2){var u=r.slice(s,s+2),c=h.a.distanceTwoPoint(f.a.toArrayToPosition(u),t);a.push(c)}var d=Math.min.apply(Math,a),p=a.findIndex(function(t){return t<=d}),v=2*p;r[v]=t.x,r[v+1]=t.y;for(var y=0,g=0;g<r.length;g+=2){var m=r.slice(g,g+2),x=g+2;g==r.length-2&&(x=0);var b=r.slice(x,x+2);this._selectedObj.lines[y++].plot(new l.PointArray([m,b]))}this._clearSelectionDraw(),this._drawOuterFrame(this._selectedObj),this._drawRectToLine(this._selectedObj)}},{key:"_clearSelectionDraw",value:function(){this._rectangles.forEach(function(t){t.remove()}),this._rectangles=[],this._pointRects.forEach(function(t){return t.remove()}),this._pointRects=[],this._rotateLine&&this._rotateLine.remove(),this._rect&&this._rect.remove(),this._grpSelection&&this._grpSelection.remove()}},{key:"_isExist",value:function(t,e){for(var n=0;n<t.length;n+=2){var r=t.slice(n,n+2);if(r[0]==e[0]&&r[1]==e[1])return!0}return!1}},{key:"select",value:function(t,e){this.isRotating=!1;var n=this._getDrawable(t),r=!1;if(this._isSelected){if(this._isRotateLineSelected(e))return;this._isSelected=!1}this._clearSelectionDraw();var i=this._getNearestObjectByDistance(n,e);if(i&&i.distance<=this.SELECT_DISTANCE){var o=i.shape;r=!0,this._drawOuterFrame(o),this._drawRectToLine(o),this._isSelected=!0,this._selectedObj=o,this._selectedLine=o.line}r||(this.init(),console.log("remove rectangle"))}},{key:"_getNearestObjectByDistance",value:function(t,e){for(var n=[],r=0;r<t.length;++r)n.push({shape:t[r],distance:this._getDistance(t[r],e)});var i=p.a.sortBy(n,"distance");return i.length>0?i[0]:void 0}},{key:"_getDistance",value:function(t,e){if(t.drawType==c.p.markedPoint){var n=t.circle,r=t.letter,i=h.a.distanceTwoPoint({x:n.cx(),y:n.cy()},e),o=h.a.distanceTwoPoint({x:r.cx(),y:r.cy()},e);return Math.min(i,o)}if(t.drawType==c.p.angleMeter){var a=t.text;return h.a.distanceTwoPoint({x:a.cx(),y:a.cy()},e)}for(var s=this._getLines(t),u=[],l=0;l<s.length;l++){var f=s[l],d=f.array().value[0],p=f.array().value[1],v=h.a.pointDistanceToLine(e.x,e.y,d[0],d[1],p[0],p[1]);u.push(v)}return Math.min.apply(Math,u)}},{key:"_isIntoSelectDistance",value:function(t,e){if(t.drawType==c.p.markedPoint){var n=t.circle,r=t.letter,i=h.a.distanceTwoPoint({x:n.cx(),y:n.cy()},e),o=h.a.distanceTwoPoint({x:r.cx(),y:r.cy()},e);if(i<=this.SELECT_DISTANCE||o<=this.SELECT_DISTANCE)return!0}else if(t.drawType==c.p.angleMeter){var a=t.text,s=h.a.distanceTwoPoint({x:a.cx(),y:a.cy()},e);if(s<=this.SELECT_DISTANCE)return!0}else for(var u=this._getLines(t),l=0;l<u.length;l++){var f=u[l],d=f.array().value[0],p=f.array().value[1],v=h.a.pointDistanceToLine(e.x,e.y,d[0],d[1],p[0],p[1]);if(v<=this.SELECT_DISTANCE)return!0}return!1}},{key:"_drawRectToLine",value:function(t){var e=this;if(t.drawType==c.p.markedPoint){var n=t.circle,r=t.letter;f.a.normalise([r.cx()+9-r.cx(),0]),f.a.normalise([n.cx()+9-n.cx(),0]);this._pointRects.push(this._drawRectByVector2({x:r.cx(),y:r.cy()},9)),this._pointRects.push(this._drawRectByVector2({x:n.cx(),y:n.cy()},5)),this._markerPointLine&&this._markerPointLine.remove(),this._markerPointLine=c.d.doc.line(r.cx(),r.cy(),n.cx(),n.cy()).stroke({color:"#ccc",width:.5})}else if(t.drawType==c.p.angleMeter){var i=t.text;this._rect=c.d.doc.rect(15,15).center(i.cx(),i.cy()).fill({color:"#3cb3f8",opacity:.5})}else if(t.drawType==c.p.parabol);else if(t.drawType==c.p.isoscelestriangle){var o=t.firstLine.array().value[0],a=t.firstLine.array().value[1],s=f.a.getThirdPoint(t.firstLine.array().value,t.secondLine.array().value);[o,a].forEach(function(t){return e._pointRects.push(e._drawRectByVector2({x:t[0],y:t[1]},7))}),this._pointRects.push(c.d.doc.rect(7,7).center(s[0],s[1]).fill({color:"#1580d9",opacity:.6}).stroke({color:"#05598b",width:.5}))}else{switch(t.drawType){case c.p.regularSecondPolygon:case c.p.regularPolygon:return}for(var u=[],l=this._getLines(t),h=0;h<l.length;h++)!function(t){var n=l[t],r=n.array().value[0],i=n.array().value[1];void 0==u.find(function(t){return t[0]==r[0]&&t[1]==r[1]})&&(e._pointRects.push(e._drawRectByVector2({x:r[0],y:r[1]})),u.push(r)),void 0==u.find(function(t){return t[0]==i[0]&&t[1]==i[1]})&&(e._pointRects.push(e._drawRectByVector2({x:i[0],y:i[1]})),u.push(i))}(h)}}},{key:"_drawRectByVector2",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{color:"#1ecb1d",opacity:.6},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{color:"#000",width:.5},i=n||{color:"#1ecb1d",opacity:.6},o=r||{color:"#000",width:.5};return c.d.doc.rect(e,e).center(t.x,t.y).fill(i).stroke(o)}},{key:"_drawRectByVector",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i={x:e[0]+t[0]*n,y:e[1]+t[1]*n},o=f.a.rotate(h.a.toRadian(45),i,f.a.toArrayToPosition(e)),a=f.a.rotate(h.a.toRadian(135),i,f.a.toArrayToPosition(e)),s=f.a.rotate(h.a.toRadian(225),i,f.a.toArrayToPosition(e)),u=f.a.rotate(h.a.toRadian(315),i,f.a.toArrayToPosition(e)),l=c.d.doc.polyline([o.x,o.y,a.x,a.y,s.x,s.y,u.x,u.y]).fill({color:"red",opacity:.4});return r&&l.attr("name","letter"),l}},{key:"_getDrawable",value:function(t){var e=[];return t.forEach(function(t,n){switch(t.drawType){case c.p.markedPoint:case c.p.line:case c.p.angleMeter:e.push(t);break;case c.p.parabol:case c.p.polygon:case c.p.penTool:case c.p.triangle:case c.p.isoscelestriangle:case c.p.rightTriangle:case c.p.equilateraltriangle:case c.p.rectangle:case c.p.polygon:case c.p.regularPolygon:e.push(t)}}),e}},{key:"_getLines",value:function(t){var e=[];switch(t.drawType){case c.p.line:e.push(t.line);break;case c.p.penTool:case c.p.regularPolygon:case c.p.parabol:case c.p.polygon:case c.p.penTool:case c.p.triangle:case c.p.isoscelestriangle:case c.p.rightTriangle:case c.p.equilateraltriangle:case c.p.rectangle:e=e.concat(t.lines)}return e}},{key:"_getAllLinesFromObj",value:function(t){var e=this._getLines(t),n=[];return e.forEach(function(t){n=n.concat(t.array().value[0]),n=n.concat(t.array().value[1])}),n}},{key:"_drawOuterFrame",value:function(t){var e=this;if(t.drawType==c.p.markedPoint);else{var n=this._getAllLinesFromObj(t),r=n.filter(function(t,e){if(e%2==0)return t}),o=n.filter(function(t,e){if(e%2==1)return t}),a=Math.min.apply(Math,i()(r))-10,s=Math.min.apply(Math,i()(o))-10,u=Math.max.apply(Math,i()(r))+10,d=Math.max.apply(Math,i()(o))+10,p=[a,s],v=[u,s],y=[a,d],g=[u,d];this._rectangles.push(c.d.doc.line(p[0],p[1],v[0],v[1]).stroke({color:"#bdbdbd",width:.9})),this._rectangles.push(c.d.doc.line(p[0],p[1],y[0],y[1]).stroke({color:"#bdbdbd",width:.9})),this._rectangles.push(c.d.doc.line(v[0],v[1],g[0],g[1]).stroke({color:"#bdbdbd",width:.9})),this._rectangles.push(c.d.doc.line(y[0],y[1],g[0],g[1]).stroke({color:"#bdbdbd",width:.9}));var m=h.a.findMiddlePoint(f.a.toArrayToPosition(p),f.a.toArrayToPosition(v));this._rotateLine=c.d.doc.line(new l.PointArray([m.x,m.y-10,m.x,m.y+10])).stroke({color:"#a7a2a2"}).marker("start",12,12,function(t){t.circle(10).center(6,6).stroke({color:"black"}).fill("#66FF66")}),this._grpSelection=c.d.doc.group(),this._grpSelection.attr("name","selection"),this._rectangles.forEach(function(t){return e._grpSelection.add(t)}),this._grpSelection.add(this._rotateLine)}}}]),t}()},function(t,e,n){t.exports={default:n(120),__esModule:!0}},function(t,e,n){"use strict";var r=n(122);n.d(e,"m",function(){return r.a});var i=n(123);n.d(e,"q",function(){return i.a});var o=n(124);n.d(e,"c",function(){return o.a});var a=n(125);n.d(e,"h",function(){return a.a});var s=n(126);n.d(e,"l",function(){return s.a});var u=n(127);n.d(e,"n",function(){return u.a});var l=n(128);n.d(e,"a",function(){return l.a});var c=n(129);n.d(e,"j",function(){return c.a});var h=n(130);n.d(e,"k",function(){return h.a});var f=n(131);n.d(e,"e",function(){return f.a});var d=n(30);n.d(e,"i",function(){return d.a});var p=n(61);n.d(e,"o",function(){return p.a});var v=n(132);n.d(e,"r",function(){return v.a});var y=n(133);n.d(e,"b",function(){return y.a});var g=n(134);n.d(e,"f",function(){return g.a});var m=n(138);n.d(e,"s",function(){return m.a});var x=n(139);n.d(e,"d",function(){return x.a});var b=n(140);n.d(e,"g",function(){return b.a});var w=n(141);n.d(e,"p",function(){return w.a})},,,,,,function(t,e,n){"use strict";function r(t){var e=(new m.Matrix(t,0,0,t,0,0),299.773+299.773*(t-100)/100),n=document.querySelector("#drawing");parseInt(n.getAttribute("width").replace("mm",""));n.setAttribute("width",e+"mm"),n.setAttribute("height",e+"mm")}function i(){_.q.init(),_.m.init(),_.c.init(),_.l.init(),_.n.init(),_.a.init(),_.j.init(),P.init(),k.init(),_.i.init(),T.init(),S.init(),A.init(),L.init(),E.init(),q=!1,F=!1,B=null,C.init(),N.init(),O.init()}function o(){B=null,F=!1,D=null,j=!1}function a(){var t=!1;switch(w.d.selectedDrawType.id){case w.p.arcDefinedTreePoint:case w.p.line:t=!0}return t}function s(t){if(w.d.selectedDrawType.id==w.p.line)c(t);else if(w.d.selectedDrawType.id==w.p.circle)d(t);else if(w.d.selectedDrawType.id==w.p.diameterCircle){var e=v(t);C.draw(e)}else if(w.d.selectedDrawType.id==w.p.rectangle||w.d.selectedDrawType.id==w.p.angeledRectangle)f(t);else if(g(w.d.selectedDrawType.id))l(t);else if(w.d.selectedDrawType.id==w.p.polygon)u(t);else if(w.d.selectedDrawType.id==w.p.regularPolygon||w.d.selectedDrawType.id==w.p.regularSecondPolygon)_.n.draw(v(t),M);else if(w.d.selectedDrawType.id==w.p.parabol)_.j.draw(v(t));else if(w.d.selectedDrawType.id==w.p.penTool)P.move(v(t));else if(w.d.selectedDrawType.id==w.p.ellipse)k.draw(v(t));else if(w.d.selectedDrawType.id==w.p.markedPoint)_.i.move(v(t));else if(w.d.selectedDrawType.id==w.p.arcDefinedTreePoint){var n=v(t);R==w.r.useGeometricall&&S.findParalel(D,n,I),B=n,F=!0,A.move(n)}else w.d.selectedDrawType.id==w.p.smoothedLine&&O.move(v(t))}function u(t){_.l.draw(D,v(t),M)}function l(t){_.q.draw(D,v(t),M)}function c(t){var e=v(t);R==w.r.useGeometricall&&S.findParalel(D,e,I),_.h.draw(D,e,M)}function h(){console.log(M.viewbox().height);for(var t=M.viewbox().height,e=t/60,n=0,r=0;r<61;r++){n=r*e;var i=M.line(0,n,t,n);i.stroke({color:"#74a5e4",width:.7,opacity:.7});var o=M.line(n,0,n,t);o.stroke({color:"#74a5e4",width:.7,opacity:.7});var a=w.d.group;a.attr("name","grid"),a.attr(),a.add(i).add(o)}}function f(t){var e=v(t);_.m.draw(D,e,M)}function d(t){var e=v(t);_.c.draw(D,e,M)}function p(){return M.viewbox().height/60}function v(t){var e=p(),n=document.getElementById("drawing"),r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),R==w.r.useGeometricall&&q?(console.log("first pos"),D):R==w.r.noGrid||R==w.r.useGeometricall?{x:r.x,y:r.y}:y()?(console.log("round"),{x:Math.round(r.x/e)*e,y:Math.round(r.y/e)*e}):(console.log("not round"),{x:r.x,y:r.y})}function y(){var t=!0;switch(w.d.selectedDrawType.id){case w.p.smoothedLine:case w.p.selection:case w.p.angleMeter:case w.p.parabol:t=!1;break;case w.p.ellipse:1==k.lineCount&&(t=!1);break;case w.p.markedPoint:_.i.isDrawLetter()&&(t=!1);break;default:t=!0}return t}function g(t){return w.p.triangle==t||w.p.isoscelestriangle==t||w.p.equilateraltriangle==t||w.p.rightTriangle==t}Object.defineProperty(e,"__esModule",{value:!0});var m=n(2),x=(n.n(m),n(46)),b=n.n(x),w=n(0),_=(n(8),n(7),n(63)),M=void 0,P=void 0,k=void 0,T=void 0,S=void 0,A=void 0,L=void 0,E=void 0,C=void 0,N=void 0,O=void 0,j=!1,D=null,R=w.r.useGeometricall,q=!1,I=[],F=!1,B=null,H="#00c0ef";b()(function(){b()(".sidebar-menu li a.drawable").click(function(t){t.preventDefault(),i(),w.d.determineDrawType(b()(this).attr("draw-type")),w.d.selectedDrawType.id==w.p.selection?b()("#drawing").css("cursor","default"):b()("#drawing").css("cursor","crosshair")}),b()(".fa-th").click(function(){showGrid=!showGrid,drawAll()}),b()("#lineColor").change(function(t){w.d.color=t.target.value}),b()("#selectWidth").change(function(t){w.d.width=this.value}),b()("#selectLine").change(function(t){w.d.dashArray=this.value}),b()("#rotate").click(function(t){}),b()(".point-type").click(function(t){R=b()(this).attr("point-type"),b()(".point-type").removeClass("point-selected"),b()(this).addClass("point-selected"),S.init()}),b()("#auto-point").click(function(t){b()(this).hasClass("point-selected")?(w.d.isSelectedAupoint=!1,b()(this).removeClass("point-selected")):(w.d.isSelectedAupoint=!0,b()(this).addClass("point-selected"))})}),document.addEventListener("DOMContentLoaded",function(){document.querySelector("#selectZoom").addEventListener("change",function(t){r(parseFloat(t.target.value))}),document.querySelector("#brushColor").addEventListener("change",function(t){H=t.target.value}),document.querySelectorAll(".layer-type").forEach(function(t){return t.addEventListener("click",function(t){console.log(t.target.getAttribute("layer-type")),T._isSelected&&(console.log(T._selectedLine.id()),N.draw(T._selectedLine,t.target.getAttribute("layer-type")))})})}),window.onload=function(t){},m.on(document,"DOMContentLoaded",function(){M=m("drawing"),r(200),P=new _.k,k=new _.e,A=new _.b,T=new _.o,S=new _.r,L=new _.f,E=new _.s,C=new _.d,N=new _.g,O=new _.p,w.d.doc=M,w.d.group=M.group(),h(),M.mousedown(function(t){if(t.preventDefault(),2==t.button&&w.d.selectedDrawType.id==w.p.polygon){if(_.l.lineCount>0){j=!1,D=!1;var e=_.l.create();e&&I.push(e)}_.l.init()}if(0==t.button)if(g(w.d.selectedDrawType.id))j=!0,0==_.q.lineCount?(D=v(t),_.q.lineCount++):1==_.q.lineCount?_.q.lineCount++:2==_.q.lineCount&&(_.q.lineCount=0);else if(w.d.selectedDrawType.id==w.p.polygon){j=!0;var n=v(t);_.l.lineCount>0&&_.l.addPoint(n),D=n,_.l.lineCount++}else if(w.d.selectedDrawType.id==w.p.regularPolygon||w.d.selectedDrawType.id==w.p.regularSecondPolygon)j=!0,D=v(t),_.n.setCenterPoint(D);else if(w.d.selectedDrawType.id==w.p.angeledRectangle)j=!0,0==_.m.lineCount?(D=v(t),_.m.lineCount++):1==_.m.lineCount?_.m.lineCount++:2==_.m.lineCount&&(_.m.lineCount=0);else if(w.d.selectedDrawType.id==w.p.angleMeter){var r=_.a.create();r&&I.push(r),_.a.init()}else if(w.d.selectedDrawType.id==w.p.parabol)j=!0,D=v(t),_.j.setCenterPoint(D);else if(w.d.selectedDrawType.id==w.p.penTool){var i=v(t),o=P.isFinish(i);P.addPoint(i),o?(j=!1,I.push(P.create()),P.init()):j=!0}else if(w.d.selectedDrawType.id==w.p.ellipse)if(0==k.lineCount){k.lineCount++;var a=v(t);k.addPoint(a),j=!0}else 1==k.lineCount?(k.lineCount++,j=!0):(j=!1,I.push(k.create()),k.init());else if(w.d.selectedDrawType.id==w.p.markedPoint)j=!0,_.i.draw(v(t));else if(w.d.selectedDrawType.id==w.p.arcDefinedTreePoint)F?A.setPosition(B):(j=!0,D=v(t),A.setPosition(D));else if(w.d.selectedDrawType.id==w.p.floodFill)L.draw(v(t),t,I,H);else if(w.d.selectedDrawType.id==w.p.diameterCircle)j=!0,console.log("set first"),D=v(t),C.setFirstPos(D);else if(w.d.selectedDrawType.id==w.p.smoothedLine)j=!0,D=v(t),O.setFirstPos(D);else if(w.d.selectedDrawType.id!=w.p.selection)j=!0,D=v(t);else if(w.d.selectedDrawType.id==w.p.selection){var s=v(t);T.isRotete(s)?j=!0:T.isResize(s)?j=!0:T.isMove(s)?j=!0:(T.select(I,s),j=!1)}}),M.mouseup(function(t){if(j)if(g(w.d.selectedDrawType.id))_.q.isFinishDraw()&&(j=!1,I.push(_.q.createTriangle()));else if(w.d.selectedDrawType.id==w.p.rectangle)j=!1,D=null,I.push(_.m.createRectangle());else if(w.d.selectedDrawType.id==w.p.circle)j=!1,D=null,I.push(_.c.createCircle());else if(w.d.selectedDrawType.id==w.p.diameterCircle)j=!1,D=null,I.push(C.create());else if(w.d.selectedDrawType.id==w.p.line){j=!1,D=null;var e=_.h.createLine();e&&e.length>0&&(I=I.concat(e)),R==w.r.useGeometricall&&S.init()}else if(w.d.selectedDrawType.id==w.p.regularPolygon||w.d.selectedDrawType.id==w.p.regularSecondPolygon)j=!1,D=null,I.push(_.n.create());else if(w.d.selectedDrawType.id==w.p.angeledRectangle)_.m.isFinishAngledRectangle()&&(j=!1,D=null,I.push(_.m.createRectangle()));else if(w.d.selectedDrawType.id==w.p.parabol)j=!1,D=null,I.push(_.j.create());else if(w.d.selectedDrawType.id==w.p.markedPoint)j=!1,D=null,I.push(_.i.create()),_.i.init();else if(w.d.selectedDrawType.id==w.p.selection)j=!1,D=null,T.isRotating&&T.assign();else if(w.d.selectedDrawType.id==w.p.arcDefinedTreePoint){if(A.isFinishDraw()){var n=A.create();n&&I.push(n),A.init(),j=!1,D=null,o()}}else if(w.d.selectedDrawType.id==w.p.smoothedLine){var r=O.create();r&&I.push(r),j=!1,D=null,O.init()}}),M.mousemove(function(t){if(q=!1,t.preventDefault(),w.d.selectedDrawType.id==w.p.angleMeter)_.a.draw(I,v(t));else if(j&&w.d.selectedDrawType.id!=w.p.selection)s(t);else if(w.d.selectedDrawType.id==w.p.selection&&j){var e=v(t);T.isRotating?T.rotate(e):T.isResizing?T.resize(e):T.isMoving&&T.move(e)}else a()&&R==w.r.useGeometricall&&0==j&&(D=v(t),q=S.move(D,I))})})},function(t,e,n){"use strict"},function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return f}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return h});var r=n(1),i=n.n(r),o=n(3),a=n.n(o),s=n(2),u=(n.n(s),[{id:1,name:"line"},{id:2,name:"triangle"},{id:3,name:"circle"},{id:4,name:"point"},{id:5,name:"rectangle"},{id:6,name:"isoscelestriangle"},{id:7,name:"equilateraltriangle"},{id:8,name:"rightTriangle"},{id:9,name:"polygon"},{id:10,name:"regularPolygon"},{id:11,name:"regularSecondPolygon"},{id:12,name:"angeledRectangle"},{id:13,name:"angleMeter"},{id:14,name:"parabol"},{id:15,name:"penTool"},{id:16,name:"ellipse"},{id:17,name:"markedPoint"},{id:18,name:"selection"},{id:19,name:"arcDefinedTreePoint"},{id:20,name:"floodFill"},{id:21,name:"diameterCircle"},{id:22,name:"smoothedLine"}]),l={line:1,triangle:2,circle:3,point:4,rectangle:5,isoscelestriangle:6,equilateraltriangle:7,rightTriangle:8,polygon:9,regularPolygon:10,regularSecondPolygon:11,angeledRectangle:12,angleMeter:13,parabol:14,penTool:15,ellipse:16,markedPoint:17,selection:18,arcDefinedTreePoint:19,floodFill:20,diameterCircle:21,smoothedLine:22},c={noGrid:1,useGrid:2,useGeometricall:3},h={bringFront:1,sendBack:2,bringForward:3,sendBackward:4},f=function(){function t(){i()(this,t)}return a()(t,null,[{key:"determineDrawType",value:function(e){var n=u.filter(function(t){return t.id==e});n.length>0&&(t.selectedDrawType=n[0])}},{key:"getSelectedStroke",value:function(){return{color:""+t.color,dasharray:""+t.dashArray,width:t.width}}},{key:"getSelectedPreviewStroke",value:function(){return{color:""+t.color,dasharray:"1,1",width:t.width}}}]),t}();f.width=1,f.dashArray="none",f.color="#000000",f.doc=null,f.isSelectedAupoint=!1,f.selectedDrawType=u[0]},function(t,e,n){n(73);var r=n(10).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(14);r(r.S+r.F*!n(15),"Object",{defineProperty:n(13).f})},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(4),i=n.n(r),o=n(1),a=n.n(o),s=n(3),u=n.n(s),l=n(5),c=n.n(l),h=n(6),f=n.n(h),d=n(2),p=(n.n(d),n(60)),v=n(0),y=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v.p.triangle;a()(this,e);var s=c()(this,(e.__proto__||i()(e)).call(this,"triangle"));return s.lines=[],s.drawType=o,s.firstLine=t.clone(),s.secondLine=n.clone(),s.thirdLine=r.clone(),t.remove(),n.remove(),r.remove(),s.lines.push(s.firstLine),s.lines.push(s.secondLine),s.lines.push(s.thirdLine),s}return f()(e,t),u()(e,[{key:"initProperty",value:function(){var t=this;this.firstLine.mouseover(function(e){t.firstLine.stroke({color:"green"})}),this.firstLine.mouseout(function(){t.firstLine.stroke({color:"red"})})}}]),e}(p.a)},function(t,e,n){n(77),t.exports=n(10).Object.getPrototypeOf},function(t,e,n){var r=n(27),i=n(50);n(51)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){t.exports={default:n(79),__esModule:!0}},function(t,e,n){n(52),n(87),t.exports=n(43).f("iterator")},function(t,e,n){var r=n(37),i=n(33);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),l=s.length;return u<0||u>=l?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,n){"use strict";var r=n(39),i=n(24),o=n(42),a={};n(17)(a,n(11)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(13),i=n(18),o=n(29);t.exports=n(15)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(40);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(20),i=n(56),o=n(85);t.exports=function(t){return function(e,n,a){var s,u=r(e),l=i(u.length),c=o(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(37),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(12).document;t.exports=r&&r.documentElement},function(t,e,n){n(88);for(var r=n(12),i=n(17),o=n(25),a=n(11)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=r[l],h=c&&c.prototype;h&&!h[a]&&i(h,a,l),o[l]=o.Array}},function(t,e,n){"use strict";var r=n(89),i=n(90),o=n(25),a=n(20);t.exports=n(53)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){t.exports={default:n(92),__esModule:!0}},function(t,e,n){n(93),n(98),n(99),n(100),t.exports=n(10).Symbol},function(t,e,n){"use strict";var r=n(12),i=n(16),o=n(15),a=n(14),s=n(54),u=n(94).KEY,l=n(23),c=n(35),h=n(42),f=n(28),d=n(11),p=n(43),v=n(44),y=n(95),g=n(96),m=n(18),x=n(19),b=n(20),w=n(32),_=n(24),M=n(39),P=n(97),k=n(59),T=n(13),S=n(29),A=k.f,L=T.f,E=P.f,C=r.Symbol,N=r.JSON,O=N&&N.stringify,j=d("_hidden"),D=d("toPrimitive"),R={}.propertyIsEnumerable,q=c("symbol-registry"),I=c("symbols"),F=c("op-symbols"),B=Object.prototype,H="function"==typeof C,z=r.QObject,Y=!z||!z.prototype||!z.prototype.findChild,V=o&&l(function(){return 7!=M(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=A(B,e);r&&delete B[e],L(t,e,n),r&&t!==B&&L(B,e,r)}:L,X=function(t){var e=I[t]=M(C.prototype);return e._k=t,e},W=H&&"symbol"==typeof C.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof C},$=function(t,e,n){return t===B&&$(F,e,n),m(t),e=w(e,!0),m(n),i(I,e)?(n.enumerable?(i(t,j)&&t[j][e]&&(t[j][e]=!1),n=M(n,{enumerable:_(0,!1)})):(i(t,j)||L(t,j,_(1,{})),t[j][e]=!0),V(t,e,n)):L(t,e,n)},G=function(t,e){m(t);for(var n,r=y(e=b(e)),i=0,o=r.length;o>i;)$(t,n=r[i++],e[n]);return t},U=function(t,e){return void 0===e?M(t):G(M(t),e)},J=function(t){var e=R.call(this,t=w(t,!0));return!(this===B&&i(I,t)&&!i(F,t))&&(!(e||!i(this,t)||!i(I,t)||i(this,j)&&this[j][t])||e)},Q=function(t,e){if(t=b(t),e=w(e,!0),t!==B||!i(I,e)||i(F,e)){var n=A(t,e);return!n||!i(I,e)||i(t,j)&&t[j][e]||(n.enumerable=!0),n}},K=function(t){for(var e,n=E(b(t)),r=[],o=0;n.length>o;)i(I,e=n[o++])||e==j||e==u||r.push(e);return r},Z=function(t){for(var e,n=t===B,r=E(n?F:b(t)),o=[],a=0;r.length>a;)!i(I,e=r[a++])||n&&!i(B,e)||o.push(I[e]);return o};H||(C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call(F,n),i(this,j)&&i(this[j],t)&&(this[j][t]=!1),V(this,t,_(1,n))};return o&&Y&&V(B,t,{configurable:!0,set:e}),X(t)},s(C.prototype,"toString",function(){return this._k}),k.f=Q,T.f=$,n(58).f=P.f=K,n(45).f=J,n(57).f=Z,o&&!n(38)&&s(B,"propertyIsEnumerable",J,!0),p.f=function(t){return X(d(t))}),a(a.G+a.W+a.F*!H,{Symbol:C});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)d(tt[et++]);for(var nt=S(d.store),rt=0;nt.length>rt;)v(nt[rt++]);a(a.S+a.F*!H,"Symbol",{for:function(t){return i(q,t+="")?q[t]:q[t]=C(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in q)if(q[e]===t)return e},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!H,"Object",{create:U,defineProperty:$,defineProperties:G,getOwnPropertyDescriptor:Q,getOwnPropertyNames:K,getOwnPropertySymbols:Z}),N&&a(a.S+a.F*(!H||l(function(){var t=C();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(x(e)||void 0!==t)&&!W(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,O.apply(N,r)}}),C.prototype[D]||n(17)(C.prototype,D,C.prototype.valueOf),h(C,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,n){var r=n(28)("meta"),i=n(19),o=n(16),a=n(13).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(23)(function(){return u(Object.preventExtensions({}))}),c=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[r].i},f=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[r].w},d=function(t){return l&&p.NEED&&u(t)&&!o(t,r)&&c(t),t},p=t.exports={KEY:r,NEED:!1,fastKey:h,getWeak:f,onFreeze:d}},function(t,e,n){var r=n(29),i=n(57),o=n(45);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,n){var r=n(40);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(20),i=n(58).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(t,e){},function(t,e,n){n(44)("asyncIterator")},function(t,e,n){n(44)("observable")},function(t,e,n){t.exports={default:n(102),__esModule:!0}},function(t,e,n){n(103),t.exports=n(10).Object.setPrototypeOf},function(t,e,n){var r=n(14);r(r.S,"Object",{setPrototypeOf:n(104).set})},function(t,e,n){var r=n(19),i=n(18),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(31)(Function.call,n(59).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){t.exports={default:n(106),__esModule:!0}},function(t,e,n){n(107);var r=n(10).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(14);r(r.S,"Object",{create:n(39)})},function(t,e,n){"use strict";e.__esModule=!0;var r=n(109),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,i.default)(t)}},function(t,e,n){t.exports={default:n(110),__esModule:!0}},function(t,e,n){n(52),n(111),t.exports=n(10).Array.from},function(t,e,n){"use strict";var r=n(31),i=n(14),o=n(27),a=n(112),s=n(113),u=n(56),l=n(114),c=n(115);i(i.S+i.F*!n(117)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,h,f=o(t),d="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,y=void 0!==v,g=0,m=c(f);if(y&&(v=r(v,p>2?arguments[2]:void 0,2)),void 0==m||d==Array&&s(m))for(e=u(f.length),n=new d(e);e>g;g++)l(n,g,y?v(f[g],g):f[g]);else for(h=m.call(f),n=new d;!(i=h.next()).done;g++)l(n,g,y?a(h,v,[i.value,g],!0):i.value);return n.length=g,n}})},function(t,e,n){var r=n(18);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(25),i=n(11)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(13),i=n(24);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(116),i=n(11)("iterator"),o=n(25);t.exports=n(10).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(40),i=n(11)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(11)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){var r=n(10),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(1),i=n.n(r),o=n(3),a=n.n(o),s=n(2),u=(n.n(s),n(0)),l=n(7),c=n(8),h=function(){function t(){i()(this,t)}return a()(t,null,[{key:"init",value:function(){t._lines=[],t.firstLine=null}},{key:"draw",value:function(e,n,r){if(t._lines&&(t._lines.forEach(function(t){t.remove()}),t._lines=[]),u.d.selectedDrawType.id==u.p.rectangle){t.getRecPositions(e,n).forEach(function(e){var n=u.d.doc.line(e[0],e[1],e[2],e[3]);n.stroke(u.d.getSelectedPreviewStroke()),t._lines.push(n)})}else u.d.selectedDrawType.id==u.p.angeledRectangle&&(1==t.lineCount?t._drawFirstLine(e,n,r):2==t.lineCount&&t._drawOtherLines(n,r))}},{key:"getRecPositions",value:function(t,e){var n=[];return n.push([t.x,t.y,e.x,t.y]),n.push([e.x,t.y,e.x,e.y]),n.push([e.x,e.y,t.x,e.y]),n.push([t.x,e.y,t.x,t.y]),n}},{key:"_drawFirstLine",value:function(e,n,r){t.firstLine&&t.firstLine.remove(),t.firstLine=r.line(e.x,e.y,n.x,n.y),t.firstLine.stroke(u.d.getSelectedPreviewStroke())}},{key:"_drawOtherLines",value:function(e,n){var r=t.firstLine.array().value[0],i=t.firstLine.array().value[1],o=(l.a.findMiddlePoint({x:r[0],y:r[1]},{x:i[0],y:i[1]}),i[0]-r[0]),a=i[1]-r[1],s={x:NaN,y:NaN},h={x:NaN,y:NaN};c.vec2.distance(r,i);0==a?(s={x:i[0],y:e.y},h={x:r[0],y:e.y}):0==o?(s={x:e.x,y:i[1]},h={x:e.x,y:r[1]}):(s=l.a.findPerpendicularPointBySlopeAndPoints(e,{x:i[0],y:i[1]},{x:r[0],y:r[1]},{x:i[0],y:i[1]}),h=l.a.findPerpendicularPointBySlopeAndPoints(e,{x:r[0],y:r[1]},{x:r[0],y:r[1]},{x:i[0],y:i[1]})),t._lines.push(n.line(i[0],i[1],s.x,s.y).stroke(u.d.getSelectedPreviewStroke())),t._lines.push(n.line(r[0],r[1],h.x,h.y).stroke(u.d.getSelectedPreviewStroke())),t._lines.push(n.line(s.x,s.y,h.x,h.y).stroke(u.d.getSelectedPreviewStroke()))}},{key:"isFinishAngledRectangle",value:function(){return null!=t.firstLine&&0==t.lineCount}},{key:"createRectangle",value:function(){t.firstLine&&t._lines.push(t.firstLine);var e=u.d.doc.group();return e.attr("name","rectangle"),t._lines.forEach(function(t){t.stroke(u.d.getSelectedStroke()),e.add(t)}),new u.k(t._lines)}}]),t}();h._lines=[],h.lineCount=0,h.firstLine=null},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(1),i=n.n(r),o=n(3),a=n.n(o),s=n(2),u=(n.n(s),n(0)),l=n(7),c=n(8),h=n(9),f=function(){function t(){i()(this,t)}return a()(t,null,[{key:"init",value:function(){t.firstLine=null,t.secondLine=null,t.thirdLine=null,t.lineCount=0}},{key:"draw",value:function(e,n,r){1==t.lineCount?t._drawFirstLine(e,n,r):2==t.lineCount&&t._drawOtherLines(n,r)}},{key:"_drawFirstLine",value:function(e,n,r){t.firstLine&&t.firstLine.remove(),t.firstLine=r.line(e.x,e.y,n.x,n.y),t.firstLine.stroke(u.d.getSelectedPreviewStroke())}},{key:"_combineLines",value:function(e,n){var r=t.firstLine.array().value[0],i=t.firstLine.array().value[1];if(!isNaN(e.x)||!isNaN(e.y)){c.vec2.length([r[0]-e.x,r[1]-e.y]),c.vec2.length([i[0]-e.x,i[1]-e.y]);t.secondLine=n.line(r[0],r[1],e.x,e.y).stroke(u.d.getSelectedPreviewStroke()),t.thirdLine=n.line(i[0],i[1],e.x,e.y).stroke(u.d.getSelectedPreviewStroke())}}},{key:"_drawOtherLines",value:function(e,n){t.secondLine&&t.secondLine.remove(),t.thirdLine&&t.thirdLine.remove();t.firstLine.array().value[0],t.firstLine.array().value[1];u.d.selectedDrawType.id==u.p.triangle?t._combineLines(e,n):u.d.selectedDrawType.id==u.p.isoscelestriangle||u.d.selectedDrawType.id==u.p.equilateraltriangle?t._findIsoscelesTriangle(e,n):u.d.selectedDrawType.id==u.p.rightTriangle&&t._drawRightTriangle(e,n)}},{key:"createTriangle",value:function(){var e=u.d.doc.group();e.add(t.firstLine),e.add(t.secondLine),e.add(t.thirdLine),e.attr("name","triangle");var n=new u.o(t.firstLine,t.secondLine,t.thirdLine,u.d.selectedDrawType.id);return n.firstLine.stroke(u.d.getSelectedStroke()),n.secondLine.stroke(u.d.getSelectedStroke()),n.thirdLine.stroke(u.d.getSelectedStroke()),n}},{key:"isFinishDraw",value:function(){return null!=t.firstLine&&0==t.lineCount}},{key:"_drawRightTriangle",value:function(e,n){var r=t.firstLine.array().value[0],i=t.firstLine.array().value[1],o=(l.a.findMiddlePoint({x:r[0],y:r[1]},{x:i[0],y:i[1]}),i[0]-r[0]),a=i[1]-r[1],s={x:NaN,y:NaN};c.vec2.distance(r,i);s=0==a?{x:i[0],y:e.y}:0==o?{x:e.x,y:i[1]}:l.a.findPerpendicularPointBySlopeAndPoints(e,{x:i[0],y:i[1]},{x:r[0],y:r[1]},{x:i[0],y:i[1]}),t._combineLines(s,n)}},{key:"__findIsoscelesThirdPos",value:function(e,n,r,i){var o=l.a.findMiddlePoint(e,n),a=n.x-e.x,s=n.y-e.y,c={x:0,y:0},h=l.a.distanceTwoPoint(e,n);if(0==a||0==s)c=0==s?{x:o.x,y:r.y}:{x:r.x,y:o.y},i==u.p.equilateraltriangle&&(c=t._findEquilateralTriangle(o,c,h));else{var f=l.a.findPerpendicularPointBySlopeAndPoints(r,o,e,n);c=f,i==u.p.equilateraltriangle&&(c=t._findEquilateralTriangle(o,f,h))}return c}},{key:"_findIsoscelesTriangle",value:function(e,n){var r=t.firstLine.array().value[0],i=t.firstLine.array().value[1],o={x:0,y:0};if(o=t.__findIsoscelesThirdPos(h.a.toArrayToPosition(r),h.a.toArrayToPosition(i),e,u.d.selectedDrawType.id),!isNaN(o.x)||!isNaN(o.y)){c.vec2.length([r[0]-o.x,r[1]-o.y]),c.vec2.length([i[0]-o.x,i[1]-o.y]);t.secondLine=n.line(r[0],r[1],o.x,o.y).stroke(u.d.getSelectedPreviewStroke()),t.thirdLine=n.line(i[0],i[1],o.x,o.y).stroke(u.d.getSelectedPreviewStroke())}}},{key:"_findEquilateralTriangle",value:function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},i=c.vec2.length([r.x,r.y]),o=Math.sqrt(Math.pow(n,2)-Math.pow(n/2,2)),a={x:0,y:0};return a.x=t.x+o*r.x/i,a.y=t.y+o*r.y/i,a}}]),t}();f.firstLine=null,f.secondLine=null,f.thirdLine=null},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(1),i=n.n(r),o=n(3),a=n.n(o),s=n(0),u=n(2),l=(n.n(u),n(8)),c=n(7),h=function(){function t(){i()(this,t)}return a()(t,null,[{key:"init",value:function(){t._lines=[]}},{key:"draw",value:function(e,n,r){t._lines&&t._lines.forEach(function(t){t.remove()}),t._circle&&t._circle.remove(),t.init();var i=l.vec2.distance([e.x,e.y],[n.x,n.y]);t._circle=r.circle(2).fill("#000").center(e.x,e.y);for(var o=[],a=0;a>-361;a-=1){var u=i*Math.cos(c.a.toRadian(a))+e.x,h=i*Math.sin(c.a.toRadian(a))+e.y,f={x:u,y:h};o.push(f)}for(var d=0;d<o.length-1;d++){var p=r.line(o[d].x,o[d].y,o[d+1].x,o[d+1].y).stroke(s.d.getSelectedStroke());t._lines.push(p)}}},{key:"createCircle",value:function(){return new s.c(t._lines.slice(0),t._circle)}}]),t}();h._lines=[],h._circle=null},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(1),i=n.n(r),o=n(3),a=n.n(o),s=n(0),u=n(30),l=n(2),c=(n.n(l),n(8)),h=function(){function t(){i()(this,t)}return a()(t,null,[{key:"init",value:function(){t._line=null}},{key:"draw",value:function(e,n,r){t._line&&t._line.remove(),t.init();var i=r.line(e.x,e.y,n.x,n.y).stroke({color:""+s.d.color,dasharray:""+s.d.dashArray,width:s.d.width});t._line=i,s.d.isSelectedAupoint&&t._drawMarkerPoint()}},{key:"createLine",value:function(){if(t._line){var e=[],n=new s.f(t._line);return e.push(n),s.d.isSelectedAupoint&&(e=e.concat(t._getPoints())),t.init(),e}}},{key:"_getPoints",value:function(){var e=[],n=new s.g(t._circle,t._alph1);u.a.incrementNextLetter(),e.push(n);var r=new s.g(t._circle2,t._alph2);return u.a.incrementNextLetter(),e.push(r),e}},{key:"_drawMarkerPoint",value:function(){var e=t._line.array().value[0],n=t._line.array().value[1],r=[e[0]-n[0],e[1]-n[1]],i=c.vec2.length(r),o={x:0,y:0},a={x:0,y:0},l=10;o.x=e[0]+l*r[0]/i,o.y=e[1]+l*r[1]/i,l*=-1,a.x=n[0]+l*r[0]/i,a.y=n[1]+l*r[1]/i,t._alph1&&(t._alph1.remove(),t._alph2.remove(),t._circle.remove(),t._circle2.remove()),t._circle=s.d.doc.circle(4).center(e[0],e[1]),t._circle2=s.d.doc.circle(4).center(n[0],n[1]),t._alph1=s.d.doc.text(u.a._LETTERS[u.a._nextLetter]).center(o.x,o.y),t._alph2=s.d.doc.text(u.a._LETTERS[u.a._nextLetter+1]).center(a.x,a.y)}}]),t}();h._line=null,h._circle=null,h._circle2=null,h._alph1=null,h._alph2=null},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(1),i=n.n(r),o=n(3),a=n.n(o),s=n(0),u=n(2),l=(n.n(u),function(){function t(){i()(this,t)}return a()(t,null,[{key:"init",value:function(){t._lines.forEach(function(t){return t.remove()}),t._lines=[],t.lineCount=0,t._combineLine&&t._combineLine.remove(),t._lastLine&&t._lastLine.remove(),t._lastLine=null,t._combineLine=null}},{key:"draw",value:function(e,n,r){t._lastLine&&t._lastLine.remove(),t._combineLine&&t._combineLine.remove();var i=r.line(e.x,e.y,n.x,n.y);if(i.stroke(s.d.getSelectedPreviewStroke()),t._lastLine=i,t.lineCount>=2){var o=t._lines[0].array().value[0],a=r.line(o[0],o[1],n.x,n.y);a.stroke(s.d.getSelectedPreviewStroke()),t._combineLine=a}}},{key:"addPoint",value:function(e){t._lines.push(t._lastLine.clone()),t._lastLine.remove(),t._lastLine=null}},{key:"create",value:function(){t._combineLine&&t._lines.push(t._combineLine);var e=null;if(t._lines.length>0){var n=s.d.doc.group();n.attr("name","polygon"),t._lines.forEach(function(t){t.stroke(s.d.getSelectedStroke()),n.add(t)}),e=new s.j(t._lines)}return e}}]),t}());l._lines=[],l.lineCount=0,l._lastLine=null,l._combineLine=null},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(62),i=n.n(r),o=n(1),a=n.n(o),s=n(3),u=n.n(s),l=n(2),c=(n.n(l),n(0)),h=n(7),f=function(){function t(){a()(this,t)}return u()(t,null,[{key:"init",value:function(){t.centerPoint=null,t._lines=[]}},{key:"draw",value:function(e,n){t._lines&&t._lines.forEach(function(t){t.remove()}),t._lines=[];var r=t.centerPoint,o=180*(t.edgeCount-2),a=o/t.edgeCount,s=180-a,u=[];if(c.d.selectedDrawType.id==c.p.regularSecondPolygon){u.push(r),u.push(e);var l=i()(r);console.log(l);for(var f=JSON.parse(i()(r)),d=JSON.parse(i()(e)),p=0;p<t.edgeCount-1;p++){var v=h.a.findPointByAngle(f,d,-a);u.push(v),f=JSON.parse(i()(d)),d=JSON.parse(i()(v))}}else if(c.d.selectedDrawType.id==c.p.regularPolygon)for(var y=0;y<361;y+=s){var g=h.a.findPointByAngle(e,r,y);u.push(g)}for(var m=0;m<u.length-1;m++){var x=n.line(u[m].x,u[m].y,u[m+1].x,u[m+1].y);x.stroke(c.d.getSelectedPreviewStroke()),t._lines.push(x)}}},{key:"setCenterPoint",value:function(e){t.centerPoint=e}},{key:"create",value:function(){var e=null;if(t._lines.length>0){var n=c.d.doc.group();n.attr("name","regular-polygon"),t._lines.forEach(function(t){t.stroke(c.d.getSelectedStroke()),n.add(t)}),e=new c.l(t._lines)}return e}}]),t}();f.edgeCount=5,f.centerPoint=null,f._lines=[]},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(1),i=n.n(r),o=n(3),a=n.n(o),s=n(2),u=(n.n(s),n(0)),l=n(7),c=(n(8),n(21)),h=n.n(c),f=n(9),d=function(){function t(){i()(this,t)}return a()(t,null,[{key:"init",value:function(){t._clearLines(),t.angle=0}},{key:"_isDrawable",value:function(t){return"line"==t.typename}},{key:"_getDrawable",value:function(t){var e=[];return t.forEach(function(t,n){switch(t.typename){case"line":e.push(t.line);break;case"polygon":case"penTool":case"triangle":case"rectangle":e=e.concat(t.lines)}}),e}},{key:"draw",value:function(e,n){var r=t._getDrawable(e),i=r.length;t._clearLines();for(var o=[],a=0;a<i;a++)for(var u=a+1;u<i;u++){var c=l.a.findIntersectionPointByLine(r[a],r[u]);if(c.x>0&c.y>0){var h=l.a.distanceTwoPoint(n,c);if(h<=80){var d=r[a],p=r[u],v=l.a.hasBetweenTwoLine(c,d),y=l.a.hasBetweenTwoLine(c,p);if(v&&y){var g=d.array().value[0],m=d.array().value[1],x=p.array().value[0],b=p.array().value[1],w=f.a.whichArrayNotSame(g,m,c),_=f.a.whichArrayNotSame(x,b,c),M=[n.x-c.x,n.y-c.y];if(null==w){!1;for(var P=t._getInstersectionPositions(new s.PointArray([g,m]),new s.PointArray([x,b]),c),k=0;k<P.length;k++)for(var T=k;T<P.length;T++)if(P[k].marker!=P[T].marker){var S=P[k].pos2,A=P[T].pos2,L=[S.x-c.x,S.y-c.y],E=[A.x-c.x,A.y-c.y],C=l.a.toDegree(l.a.findAngleTwoVector(L,E));if(f.a.isInnerAngle(L,E,M,C)){var N=f.a.findStartAngle(!0,L,E);o.push({pos:c,distance:h,angle:C,startAngle:N})}}}else{!0;var O=[w[0]-c.x,w[1]-c.y],j=[_[0]-c.x,_[1]-c.y],D=l.a.toDegree(l.a.findAngleTwoVector(O,j)),R=f.a.isInnerAngle(O,j,M,D),q=f.a.findStartAngle(R,O,j);R||(D=360-D),o.push({pos:c,distance:h,angle:D,startAngle:q})}}}}}var I=t._filters(o);I.length>0&&t._drawCircle(I[0].pos,I[0].distance,I[0].angle,I[0].startAngle)}},{key:"_filters",value:function(t){if(t.length>0){for(var e=h.a.sortBy(t,"distance"),n=e[0].distance,r=0;r<e.length;r++)e[r].distance!=n&&e.splice(r,1);return e=h.a.sortBy(e,"angle")}return t}},{key:"_getInstersectionVectors",value:function(t,e,n){return[[t.value[0][0]-n.x,t.value[0][1]-n.y],[t.value[1][0]-n.x,t.value[1][1]-n.y],[e.value[1][0]-n.x,e.value[1][1]-n.y],[e.value[1][0]-n.x,e.value[1][1]-n.y]]}},{key:"_getInstersectionPositions",value:function(t,e,n){return[{pos1:n,pos2:f.a.toArrayToPosition(t.value[0]),marker:1},{pos1:n,pos2:f.a.toArrayToPosition(t.value[1]),marker:1},{pos1:n,pos2:f.a.toArrayToPosition(e.value[0]),marker:2},{pos1:n,pos2:f.a.toArrayToPosition(e.value[1]),marker:2}]}},{key:"_getInstersectionVectors",value:function(t,e,n){return[[t.value[0][0]-n.x,t.value[0][1]-n.y],[t.value[1][0]-n.x,t.value[1][1]-n.y],[e.value[1][0]-n.x,e.value[1][1]-n.y],[e.value[1][0]-n.x,e.value[1][1]-n.y]]}},{key:"_drawCircle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=arguments[2],i=arguments[3],o=n,a=[],s=i+r;t.angle=r;for(var c=-i;c>=-s;c-=2){var h=o*Math.cos(l.a.toRadian(c))+e.x,f=o*Math.sin(l.a.toRadian(c))+e.y,d={x:h,y:f};a.push(d)}t._lines&&t._lines.forEach(function(t){t.remove()}),t._lines=[];for(var p=0;p<a.length-1;p++){var v=u.d.doc.line(a[p].x,a[p].y,a[p+1].x,a[p+1].y);v.stroke({color:"#4861d3",width:1,linecap:"round"}),t._lines.push(v)}}},{key:"_clearLines",value:function(){t._lines.forEach(function(t){t.remove()}),t._lines=[]}},{key:"setText",value:function(){if(t._lines.length>0){var e=Math.round(t._lines.length/2),n=t._lines[e].array().value[0];return u.d.doc.text(Math.round(t.angle).toString()).move(n[0],n[1]).font({family:"Arial",size:11,anchor:"right",leading:"0.7em"})}}},{key:"create",value:function(){var e=null;if(t._lines.length>0){var n=u.d.doc.group();n.attr("name","angle-meter");var r=this.setText();n.add(r),t._lines.forEach(function(t){t.stroke(u.d.getSelectedStroke()),n.add(t)}),e=new u.a(t._lines,t.angle,r)}return e}}]),t}();d._lines=[],d.angle=0},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(1),i=n.n(r),o=n(3),a=n.n(o),s=n(0),u=n(2),l=(n.n(u),n(8)),c=n(7),h=n(9),f=n(21),d=(n.n(f),function(){function t(){i()(this,t)}return a()(t,null,[{key:"init",value:function(){t._lines&&t._lines.forEach(function(t){t.remove()}),t._circle&&t._circle.remove(),t._circle=null,t._lines=[],t.centerPoint=null}},{key:"draw",value:function(e){t._lines&&t._lines.forEach(function(t){t.remove()}),t._lines=[];var n=[e.x-t.centerPoint.x,e.y-t.centerPoint.y],r=h.a.findRealAngle(n);t._angle=r,console.log("real angle:"+r),n=l.vec2.negate(n,n);for(var i=1,o=[],a=[];;){var u=.05*Math.pow(i,2),f=.05*-Math.pow(i,2),d=c.a.toRadian(-r),p=u*Math.cos(d)-i*Math.sin(d),v=u*Math.sin(d)+i*Math.cos(d),y={x:t.centerPoint.x+p,y:t.centerPoint.y+v},g=[y.x-e.x,y.y-e.y],m=c.a.toDegree(c.a.findAngleTwoVector(n,g));if(!isNaN(m)&&Math.floor(m)>=85)break;o.push(y);var x=f*Math.cos(d)-i*Math.sin(d),b=f*Math.sin(d)+i*Math.cos(d),w={x:t.centerPoint.x-x,y:t.centerPoint.y-b};if(a.push(w),(i+=1)>600)break}for(var _=0;_<o.length-1;_++){var M=s.d.doc.line(o[_].x,o[_].y,o[_+1].x,o[_+1].y);M.stroke(s.d.getSelectedPreviewStroke()),t._lines.push(M)}if(t._lines.length>0){t._lines[t._lines.length-1].marker("end",10,10,function(t){t.viewbox(0,0,10,10),t.ref(0,3),t.attr("orient","auto"),t.path("M0,0 L0,6 L9,3 z").fill(s.d.color)})}for(var P=0;P<a.length-1;P++){var k=s.d.doc.line(a[P].x,a[P].y,a[P+1].x,a[P+1].y);k.stroke(s.d.getSelectedPreviewStroke()),t._lines.push(k)}if(t._lines.length>0){t._lines[t._lines.length-1].marker("end",10,10,function(t){t.viewbox(0,0,10,10),t.ref(0,3),t.attr("orient","auto"),t.path("M0,0 L0,6 L9,3 z").fill(s.d.color)})}}},{key:"setCenterPoint",value:function(e){t._circle=s.d.doc.circle(4).fill("#f06").center(e.x,e.y),t.centerPoint=e}},{key:"create",value:function(){var e=void 0;if(t._lines.length>0){var n=s.d.doc.group();n.attr("name","parabol");var r=s.d.doc.group();r.attr("name","lines"),t._lines.forEach(function(t){t.stroke(s.d.getSelectedStroke()),r.add(t)}),n.add(t._circle),n.add(r),e=new s.h(t._lines,t._circle,t._angle)}return e}},{key:"rotate",value:function(){console.log("rotated");var e=(c.a.toRadian(90),c.a.toRadian(t.aa)),n=t.line1.array().value[0],r=t.line1.array().value[1],i=l.vec2.distance(n,r),o=i*Math.cos(e)+n[0],a=i*Math.sin(e)+n[1];new u.PointArray([n,[o,a]])}}]),t}());d._lines=[],d.centerPoint=null,d._circle=null,d.aa=10},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(1),i=n.n(r),o=n(3),a=n.n(o),s=n(2),u=(n.n(s),n(0)),l=n(7),c=(n(8),n(9)),h=function(){function t(){i()(this,t),this.lines=[],this.circles=[],this.startPoint=null,this._lastLine=null,this._lastMousePos=null}return a()(t,[{key:"init",value:function(){this.lines.forEach(function(t){t.remove()}),this.lines=[],this.circles.forEach(function(t){t.remove()}),this.circles=[],this.lines=[],this.startPoint=null,this._lastLine&&this._lastLine.remove(),this._lastLine=null}},{key:"draw",value:function(t){this.lines.forEach(function(t){t.remove()}),this.lines=[]}},{key:"addPoint",value:function(t){this._lastMousePos=t,this._lastLine&&(this.lines.push(this._lastLine.clone()),this._lastLine.remove()),this._lastLine=null}},{key:"move",value:function(t){this._lastLine&&this._lastLine.remove();var e="#2777aa",n="white";if(this._isInstersectFirstLine(t)){e="#00d155",n="#c2c4c7";var r=this.lines[0].array().value[0],i=this.lines[0].array().value[1];l.a.distanceTwoPoint(c.a.toArrayToPosition(r),t)<l.a.distanceTwoPoint(c.a.toArrayToPosition(i),t)?(t.x=r[0],t.y=r[1]):(t.x=i[0],t.y=i[1])}this._lastLine=u.d.doc.line(this._lastMousePos.x,this._lastMousePos.y,t.x,t.y).stroke({color:"red",width:1}).marker("end",8,8,function(t){t.ref(5,5),t.attr("orient","auto"),t.circle(6).center(5,5).fill(e),t.circle(4).center(5,5).fill(n)}).marker("start",8,8,function(t){t.ref(5,5),t.attr("orient","auto"),t.circle(6).center(5,5).fill("#2777aa"),t.circle(4).center(5,5).fill("white")})}},{key:"_isInstersectFirstLine",value:function(t){return this.lines.length>0&&this.isFinish(t)}},{key:"isFinish",value:function(t){if(0==this.lines.length)return!1;var e=this.lines[0].array().value[0],n=this.lines[0].array().value[1],r=l.a.pointDistanceToLine(t.x,t.y,e[0],e[1],n[0],n[1]);return r<=5}},{key:"create",value:function(){var t=null;return this.lines.length>0&&(this.lines.forEach(function(t){t.attr("marker-end",""),t.attr("marker-start","")}),t=new u.i(this.lines)),t}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(1),i=n.n(r),o=n(3),a=n.n(o),s=n(2),u=(n.n(s),n(0)),l=n(7),c=(n(8),n(9)),h=function(){function t(){i()(this,t),this.a=0,this.b=0,this.lines=[],this.circles=[],this._startPoint=null,this.lineCount=0,this._lastAngle=0,this._middlePoint={x:0,y:0},this._lineSil=null,this.aa=10}return a()(t,[{key:"init",value:function(){this.lines.forEach(function(t){t.remove()}),this.lines=[],this.lines=[],this._startPoint=null,this.lineCount=0}},{key:"draw",value:function(t){this.lines.forEach(function(t){t.remove()}),this.lines=[];var e=[t.x-this._startPoint.x,t.y-this._startPoint.y],n=0,r=0,i=[],o=(c.a.projectionOfX(e),{x:0,y:0});if(1==this.lineCount)n=c.a.findRealAngle(e),r=l.a.toRadian(-n),this.a=l.a.distanceTwoPoint(this._startPoint,t)/2,this.b=15,o=l.a.findMiddlePoint(this._startPoint,{x:this._startPoint.x+2*this.a,y:this._startPoint.y});else{r=l.a.toRadian(-this._lastAngle);var a={x:this._startPoint.x+2*this.a,y:this._startPoint.y};a=c.a.rotate(r,a,this._startPoint);var s=this._findPerpendicularPos(t,a);this.b=l.a.distanceTwoPoint(a,s),o=l.a.findMiddlePoint(this._startPoint,{x:this._startPoint.x+2*this.a,y:this._startPoint.y})}for(var h=0;h>-361;h-=10){var f=this.a*Math.cos(l.a.toRadian(h))+o.x,d=this.b*Math.sin(l.a.toRadian(h))+o.y,p=f-this._startPoint.x,v=d-this._startPoint.y,y=p*Math.cos(r)-v*Math.sin(r)+this._startPoint.x,g=p*Math.sin(r)+v*Math.cos(r)+this._startPoint.y,m={x:y,y:g};i.push(m)}for(var x=0;x<i.length-1;x++){var b=u.d.doc.line(i[x].x,i[x].y,i[x+1].x,i[x+1].y).stroke(u.d.getSelectedPreviewStroke());this.lines.push(b)}1==this.lineCount&&(this._lastAngle=n,this._middlePoint=o)}},{key:"_findPerpendicularPos",value:function(t,e){var n=e.x-this._startPoint.x,r=e.y-this._startPoint.y;return 0==n||0==r?0==r?{x:e.x,y:t.y}:{x:t.x,y:e.y}:l.a.findPerpendicularPointBySlopeAndPoints(t,e,this._startPoint,e)}},{key:"addPoint",value:function(t){this._startPoint=t,u.d.doc.circle(5).center(t.x,t.y).stroke({color:"red"}).fill("red"),console.log("add point")}},{key:"create",value:function(){var t=null;return this.lines.length>0&&(this.lines.forEach(function(t){t.stroke(u.d.getSelectedStroke())}),t=new u.e(this.lines)),t}},{key:"rotate",value:function(){console.log("rotated");var t=l.a.toRadian(-45),e={x:40,y:40},n=this._lineSil.array().value[0],r=this._lineSil.array().value[1],i=n[0]-e.x,o=n[1]-e.y,a=r[0]-e.x,c=r[1]-e.y,h=i*Math.cos(t)-o*Math.sin(t)+e.x,f=i*Math.sin(t)+o*Math.cos(t)+e.y,d=a*Math.cos(t)-c*Math.sin(t)+e.x,p=a*Math.sin(t)+c*Math.cos(t)+e.y;u.d.doc.circle(5).center(h,f).stroke({color:"blue"}).fill("blue"),u.d.doc.circle(5).center(d,p).stroke({color:"blue"}).fill("blue");var v=new s.PointArray([[h,f],[d,p]]);this._lineSil.plot(v),this.aa+=10}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n(4),i=n.n(r),o=n(1),a=n.n(o),s=n(3),u=n.n(s),l=n(5),c=n.n(l),h=n(6),f=n.n(h),d=n(0),p=(n(30),n(2)),v=(n.n(p),n(7)),y=n(8),g=n(9),m=n(22),x={paralel:1.5,instersection:3,point:4,startEndpoint:5,middlePoint:3,rightAngle:3},b=function(t){function e(){var t,n,r,o;a()(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=c()(this,(t=e.__proto__||i()(e)).call.apply(t,[this].concat(u))),r.LIMIT=4,r._helperLines=[],r._foundLines=null,r._foundLinesStroke=[],r._circle1=null,r._rightAngleLines=[],o=n,c()(r,o)}return f()(e,t),u()(e,[{key:"init",value:function(){var t=this;this._foundLines&&this._foundLinesStroke.forEach(function(e,n){t._foundLines[n].stroke(e)}),this._helperLines.forEach(function(t){return t.remove()}),this._helperLines=[],this._rightAngleLines.forEach(function(t){return t.remove()}),this._rightAngleLines=[],this._circle1&&this._circle1.remove(),this._foundLines=[],this._foundLinesStroke=[]}},{key:"_pushLineStroke",value:function(t){this._foundLinesStroke.push({color:""+t.attr("stroke"),dasharray:""+t.attr("stroke-dasharray"),width:t.attr("stroke-width")})}},{key:"findParalel",value:function(t,e,n){this.init();var r=this.getDrawable(n),i=!0,o=!1;this._helperLines.forEach(function(t){return t.remove()});for(var a=!1,s=!1,u=0;u<r.length;u++){var l=[e.x-t.x,e.y-t.y],c=r[u],h=this._findIntectionStartOrEndPoint(c,e);h.isIntersection&&(i=!1,this._changePos(e,h.position),this._drawCircle({color:"green",opacity:.5},e),a=!0);var f=c.array().value[0],d=c.array().value[1],p=[d[0]-f[0],d[1]-f[1]],m=v.a.toDegree(v.a.findAngleTwoVector(l,p)),b=this._isParalel(m);if(b.isParalel){this._foundLines.push(c),this._pushLineStroke(c);var w=y.vec2.distance([t.x,t.y],[e.x,e.y])*b.sign,_=y.vec2.length(p);e.x=t.x+w*p[0]/_,e.y=t.y+w*p[1]/_,l=[e.x-t.x,e.y-t.y];v.a.toDegree(v.a.findAngleTwoVector(l,p));c.stroke({color:"red"}),this._drawHelperLine(g.a.fromPosToArray(t),g.a.fromPosToArray(e)),this._drawHelperLine(f,d),i=!1,o=!0}var M=this._findMiddlePoint(c,e,l,p);if(M.hasMiddle&&(i=!1,this._changePos(e,M.position),this._drawCircle({color:"green",opacity:.5},e),i=!1,s=!0),0==o){var P=this._findRightAngle(c,t,e);P.has&&0==o&&(console.log("burafa:"+o),this._foundLines.push(c),this._pushLineStroke(c),this._changePos(e,P.pos),c.stroke({color:"red"}),this._drawHelperLine(g.a.fromPosToArray(t),g.a.fromPosToArray(e)),this._drawHelperLine(f,d),i=!1)}var k=this._instersectionPoint(c,t,e);k.distance<=x.instersection&&0==a&&0==s&&(this._drawCircle({color:"red"},k.instersectionPoint),0==o&&(e.x=k.instersectionPoint.x,e.y=k.instersectionPoint.y),i=!1)}i&&(e.x=20*Math.round(e.x/20),e.y=20*Math.round(e.y/20))}},{key:"_findRightAngle",value:function(t,e,n){var r=t.array().value[0],i=t.array().value[1],o=[n.x-e.x,n.y-e.y],a=[i[0]-r[0],i[1]-r[1]],s=v.a.toDegree(v.a.findAngleTwoVector(o,a));if(isNaN(s))return{has:!1};var u=g.a.toPositif(90-s),l=i[0]-r[0],c=i[1]-r[1],h={x:0,y:0};g.a.clone(e);if(u<=x.rightAngle){var f=!1;if(f=v.a.hasBetweenTwoLine(e,t),0==l||0==c)h=0==c?f?{x:e.x,y:n.y}:{x:e.x,y:r[1]}:f?{x:n.x,y:e.y}:{x:r[0],y:e.y};else{var d=this._instersectionPoint(t,e,n);h=f?v.a.findPerpendicularPointBySlopeAndPoints(n,d.instersectionPoint,g.a.toArrayToPosition(r),g.a.toArrayToPosition(i)):v.a.findPerpendicularPointBySlopeAndPoints(d.instersectionPoint,e,g.a.toArrayToPosition(r),g.a.toArrayToPosition(i)),this._drawCircle({color:"red"},h)}var p={x:0,y:0};return f?(p.x=h.x,p.y=h.y):(p=0==l||0==c?0==c?{x:e.x,y:n.y}:{x:n.x,y:e.y}:v.a.findPerpendicularPointBySlopeAndPoints(n,e,g.a.toArrayToPosition(r),g.a.toArrayToPosition(i)),console.log(p)),f?this._drawRightAngle(e,h,t):this._drawRightAngle(h,e,t),{has:!0,pos:p}}return{has:!1}}},{key:"_drawRightAngle",value:function(t,e,n){var r=n.array().value[0],i=n.array().value[1],o={x:t.x-e.x,y:t.y-e.y},a=y.vec2.length([o.x,o.y]);this._rightAngleLines.forEach(function(t){return t.remove()}),this._rightAngleLines=[];var s={x:0,y:0};s.x=t.x+10*o.x/a,s.y=t.y+10*o.y/a;var u=[i[0]-r[0],i[1]-r[1]],l=y.vec2.length([u[0],u[1]]),c={x:0,y:0};c.x=s.x+10*u[0]/l,c.y=s.y+10*u[1]/l;var h={x:0,y:0};h.x=c.x+-10*o.x/a,h.y=c.y+-10*o.y/a;var f=d.d.doc.line(t.x,t.y,s.x,s.y).stroke({color:"#ccc"}),p=d.d.doc.line(s.x,s.y,c.x,c.y).stroke({color:"#ccc"}),v=d.d.doc.line(c.x,c.y,h.x,h.y).stroke({color:"#ccc"}),g=d.d.doc.line(h.x,h.y,t.x,t.y).stroke({color:"#ccc"});this._rightAngleLines.push(f),this._rightAngleLines.push(p),this._rightAngleLines.push(v),this._rightAngleLines.push(g)}},{key:"move",value:function(t,e){this.init();for(var n=this.getDrawable(e),r=!0,i=0;i<n.length;i++){var o=n[i],a=this._findIntectionStartOrEndPoint(o,t);if(a.isIntersection){r=!1,this._changePos(t,a.position),this._drawCircle({color:"green",opacity:.5},t);break}var s=this._findMiddlePoint(o,t);if(s.hasMiddle){r=!1,this._changePos(t,s.position),this._drawCircle({color:"green",opacity:.5},t);break}var u=this._findInstectionPoint(o,t);if(u.isIntersection&&0==s.hasMiddle){r=!1,this._changePos(t,u.pos),this._drawCircle({color:"red",opacity:.5},t);break}}return r&&(t.x=20*Math.round(t.x/20),t.y=20*Math.round(t.y/20)),!0}},{key:"_changePos",value:function(t,e,n){t.x=e.x,t.y=e.y}},{key:"_drawCircle",value:function(t,e){this._circle1&&this._circle1.remove(),this._circle1=d.d.doc.circle(7).center(e.x,e.y).stroke({color:"black"}).fill(t)}},{key:"_findMiddlePoint",value:function(t,e){var n=t.array().value[0],r=t.array().value[1],i=v.a.findMiddlePoint(g.a.toArrayToPosition(n),g.a.toArrayToPosition(r));return v.a.distanceTwoPoint(i,e)<=x.middlePoint?{hasMiddle:!0,position:i}:{hasMiddle:!1}}},{key:"_findIntectionStartOrEndPoint",value:function(t,e){var n=t.array().value[0],r=t.array().value[1],i=v.a.distanceTwoPoint(e,g.a.toArrayToPosition(n));return i<=x.startEndpoint?{isIntersection:!0,position:g.a.toArrayToPosition(n)}:(i=v.a.distanceTwoPoint(e,g.a.toArrayToPosition(r)),i<=x.startEndpoint?{isIntersection:!0,position:g.a.toArrayToPosition(r)}:{isIntersection:!1})}},{key:"_findInstectionPoint",value:function(t,e){var n=t.array().value[0],r=t.array().value[1],i=r[0]-n[0],o=r[1]-n[1],a=v.a.pointDistanceToLine(e.x,e.y,n[0],n[1],r[0],r[1]);if(x.point<=a)return{isIntersection:!1};var s=Math.max(n[0],r[0]),u=Math.min(n[0],r[0]),l=Math.max(n[1],r[1]),c=Math.min(n[1],r[1]),h=0,f=0;return 0==o?(h=r[1],e.x>=u&&e.x<=s?f=e.x:e.x<u?f=u:e.x<s&&(f=s)):0==i?(f=r[0],e.y>=c&&e.y<=l?h=e.y:e.y<c?h=c:e.y<l&&(h=l)):(f=e.x,h=v.a.findEquationY(t,e)),{isIntersection:!0,pos:{x:f,y:h}}}},{key:"_drawHelperLine",value:function(t,e){var n=[e[0]-t[0],e[1]-t[1]],r=y.vec2.length(n),i=600,o={x:e[0]+i*n[0]/r,y:e[1]+i*n[1]/r};this._helperLines.push(d.d.doc.line(e[0],e[1],o.x,o.y).stroke({color:"#ccc"})),i*=-1;var a={x:t[0]+i*n[0]/r,y:t[1]+i*n[1]/r};this._helperLines.push(d.d.doc.line(t[0],t[1],a.x,a.y).stroke({color:"#ccc"}))}},{key:"_isParalel",value:function(t){return 180-x.paralel<=t&&180+x.paralel>=t?{isParalel:!0,sign:-1}:0+x.paralel>=t?{isParalel:!0,sign:1}:{isParalel:!1,sign:1}}},{key:"_instersectionPoint",value:function(t,e,n){var r=t.array();return{instersectionPoint:v.a.findIntersectionPoint(g.a.toArrayToPosition(r.value[0]),g.a.toArrayToPosition(r.value[1]),e,n),distance:v.a.pointDistanceToLine(n.x,n.y,r.value[0][0],r.value[0][1],r.value[1][0],r.value[1][1])}}}]),e}(m.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return x});var r=n(4),i=n.n(r),o=n(1),a=n.n(o),s=n(3),u=n.n(s),l=n(5),c=n.n(l),h=n(6),f=n.n(h),d=n(2),p=(n.n(d),n(0)),v=n(7),y=n(8),g=n(22),m=n(9),x=function(t){function e(){var t,n,r,o;a()(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=c()(this,(t=e.__proto__||i()(e)).call.apply(t,[this].concat(u))),r._lines=[],r._clickCount=0,o=n,c()(r,o)}return f()(e,t),u()(e,[{key:"init",value:function(){this._lines.forEach(function(t){return t.remove()}),this._lines=[],this._clickCount=0}},{key:"isFinishDraw",value:function(){return 3==this._clickCount}},{key:"setPosition",value:function(t){this._clickCount++,1==this._clickCount?this._firstPos=t:2==this._clickCount?this._secondPos=t:this._thirdPos=t}},{key:"setSecondPosition",value:function(t){this._secondPos=t}},{key:"move",value:function(t){this._lines.forEach(function(t){return t.remove()}),this._lines=[];var e=this._findCenterPos(t);this._clickCount<2?this._drawCircleByFirstAndMouse(e,t):this._drawCircleByFirstAndSecond(e,t)}},{key:"_drawCircleByFirstAndSecond",value:function(t,e){for(var n=[],r=v.a.distanceTwoPoint(t,this._firstPos),i=[this._firstPos.x-t.x,this._firstPos.y-t.y],o=[this._secondPos.x-t.x,this._secondPos.y-t.y],a=[e.x-t.x,e.y-t.y],s=this._findStartAngle(i,o,a),u=this._findAngle(i,o,a),l=s+u,c=-s;c>=-l;c-=1){var h=r*Math.cos(v.a.toRadian(c))+t.x,f=r*Math.sin(v.a.toRadian(c))+t.y,d={x:h,y:f};n.push(d)}for(var y=0;y<n.length-1;y++){var g=p.d.doc.line(n[y].x,n[y].y,n[y+1].x,n[y+1].y).stroke(p.d.getSelectedPreviewStroke());this._lines.push(g)}}},{key:"_findAngle",value:function(t,e,n){var r=v.a.toDegree(v.a.findAngleTwoVector(t,e));return m.a.isInnerAngle(t,e,n,r)?r:360-r}},{key:"_findStartAngle",value:function(t,e,n){var r=m.a.findRealAngle(t),i=m.a.findRealAngle(e),o=m.a.findRealAngle(n),a=Math.min(r,i),s=Math.max(r,i);return o>s?s:o<a?s:a}},{key:"_drawCircleByFirstAndMouse",value:function(t,e){for(var n=[],r=v.a.distanceTwoPoint(t,e),i=[e.x-t.x,e.y-t.y],o=[this._firstPos.x-t.x,this._firstPos.y-t.y],a=v.a.toDegree(v.a.findAngleTwoVector(i,o)),s=m.a.findRealAngle(i),u=s+a,l=-s;l>=-u;l-=1){var c=r*Math.cos(v.a.toRadian(l))+t.x,h=r*Math.sin(v.a.toRadian(l))+t.y,f={x:c,y:h};n.push(f)}for(var d=0;d<n.length-1;d++){var y=p.d.doc.line(n[d].x,n[d].y,n[d+1].x,n[d+1].y).stroke(p.d.getSelectedPreviewStroke());this._lines.push(y)}}},{key:"_findCenterPos",value:function(t){if(this._clickCount>=2){var e=this._secondPos.y/this._firstPos.y,n=Math.pow(this._secondPos.x,2)+Math.pow(this._secondPos.y,2),r=Math.pow(this._firstPos.x,2)+Math.pow(this._firstPos.y,2),i=Math.pow(t.x,2)+Math.pow(t.y,2),o=1-e,a=(this._firstPos.x,this._secondPos.x,0),s=0;if(0==o){a=-(r*-e+n)/(this._firstPos.x*-e+this._secondPos.x);var u=i+t.x*a,l=-u,c=-t.y;s=-(r+this._firstPos.x*a+l)/(this._firstPos.y+c);return{x:-a/2,y:-s/2}}var h=r*-e+n,f=this._firstPos.x*-e+this._secondPos.x,d=t.y/this._firstPos.y;a=-(r*-d+i+h/-o*-d+h/-o)/(this._firstPos.x*-d+t.x+f/-o*-d+f/-o);s=-(r+this._firstPos.x*a+f/-o*a+h/-o)/this._firstPos.y;return{x:-a/2,y:-s/2}}var p=v.a.distanceTwoPoint(this._firstPos,t)/2,g=p/2,x=[t.x-this._firstPos.x,t.y-this._firstPos.y],b=y.vec2.length(x),w=v.a.findMiddlePoint(t,this._firstPos),_={x:w.x+g*x[0]/b,y:w.y+g*x[1]/b};return _=m.a.rotate(v.a.toRadian(90),_,w)}},{key:"create",value:function(){if(this._lines){this._lines.forEach(function(t){return t.stroke(p.d.getSelectedStroke())});return new p.b(this._lines)}}}]),e}(g.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return M});var r=n(135),i=n.n(r),o=n(4),a=n.n(o),s=n(3),u=n.n(s),l=n(5),c=n.n(l),h=n(6),f=n.n(h),d=n(1),p=n.n(d),v=n(0),y=(n(30),n(2)),g=(n.n(y),n(7)),m=(n(8),n(9)),x=n(22),b=n(21),w=n.n(b),_=function t(e,n,r){p()(this,t),this.nodes=[],this.line=e,this.insPos=n,this.parent=r},M=function(t){function e(){var t,n,r,i;p()(this,e);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=r=c()(this,(t=e.__proto__||a()(e)).call.apply(t,[this].concat(s))),r.canvOffset={},r._width=3e3,r._height=3e3,r.colorArr=[25,172,220,100],r.fillTolerance=50,r._paintedIndexs=[],r._beforePaintedIndexs=[],r._beforePaintedColors=[],r._jdatas=[],r._rootNode=null,r.visited={},r._drawableObjs=[],r.count=0,i=n,c()(r,i)}return f()(e,t),u()(e,[{key:"init",value:function(){var t=this;this._paintedIndexs=[];var e=new Headers;e.append("pragma","no-cache"),e.append("cache-control","no-cache");var n={method:"GET",headers:e},r=new Request("src/draw/test.json");fetch(r,n).then(function(t){return t.json()}).then(function(e){t._jdatas=e.datas});for(var o=i()(this.visited),a=0;a<o.length;a++)delete this.visited[o[a]]}},{key:"_findNextLines",value:function(t,e){var n=this._jdatas.filter(function(e){return e.line==t});if(n.length>0){for(var r=m.a.clone(n[0].nodes),i=0;i<r.length;i++)r[i].insP.x==e.x&&r[i].insP.y==e.y?(r.splice(i,1),i--):this.visited.hasOwnProperty(r[i].line)?(r.splice(i,1),i--):this.visited.hasOwnProperty(r[i].line)&&this.visited[r[i].line]==t?(r.splice(i,1),i--):this.visited.hasOwnProperty(t)&&this.visited[t]==r[i].line&&(r.splice(i,1),i--);return r}return[]}},{key:"_findParabols",value:function(t,e,n,r,i){if(t!=e)for(var o=this._findNextLines(e,n),a=0;a<o.length;a++){var s=o[a];if(this.visited[e]=s.line,s.line!=t||r.x==s.insP.x&&r.y==s.insP.y){var u=this._addNode(i,s.line,s.insP);s.line;console.log(s.line),this._findParabols(t,s.line,s.insP,r,u)}else delete this.visited[e],this._addNode(i,s.line,s.insP)}}},{key:"_getInsObj",value:function(t,e){for(var n=y.get(t),r=[],i=0;i<this._drawableObjs.length;i++){var o=this._drawableObjs[i];if(o.id()!=t){var a=g.a.findIntersectionPointByLine(n,o);if(a.x==e.x&&a.y==e.y)continue;if(a.x>0&&a.y>0){var s=g.a.hasBetweenTwoLine(a,n),u=g.a.hasBetweenTwoLine(a,o);s&&u&&r.push({line:o.id(),insP:a})}}}return r}},{key:"_findNextLines2",value:function(t,e){var n=this._getInsObj(t,e);if(n.length>0){for(var r=0;r<n.length;r++)n[r].insP.x==e.x&&n[r].insP.y==e.y?(n.splice(r,1),r--):this.visited.hasOwnProperty(n[r].line)?(n.splice(r,1),r--):this.visited.hasOwnProperty(n[r].line)&&this.visited[n[r].line]==t?(n.splice(r,1),r--):this.visited.hasOwnProperty(t)&&this.visited[t]==n[r].line&&(n.splice(r,1),r--);return n}return[]}},{key:"_findParabols2",value:function(t,e,n,r,i){if(t!=e)for(var o=this._findNextLines2(e,n),a=0;a<o.length;a++){var s=o[a];if(this.visited[e]=s.line,s.line!=t||r.x==s.insP.x&&r.y==s.insP.y){var u=this._addNode(i,s.line,s.insP);s.line;this.count++,console.log("count:"+this.count),this._findParabols2(t,s.line,s.insP,r,u)}else delete this.visited[e],this._addNode(i,s.line,s.insP)}}},{key:"_findChild",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];0==t.nodes.length&&t.line==e&&n.push(t);for(var r=0;r<t.nodes.length;r++)this._findChild(t.nodes[r],e,n);return n}},{key:"_traverse",value:function(t){var e=this._findChild(t,t.line);if(console.log(e),0==e.length)return[];for(var n=[],r=0;r<e.length;r++){for(var i=e[r],o=[];null!=i;)o.push(i),i=i.parent;n.push(o.reverse().map(function(t){return t.insPos}))}return console.log(n),n}},{key:"_pointIsInPoly",value:function(t,e){for(var n=!1,r=e[0].x,i=e[0].x,o=e[0].y,a=e[0].y,s=1;s<e.length;s++){var u=e[s];r=Math.min(u.x,r),i=Math.max(u.x,i),o=Math.min(u.y,o),a=Math.max(u.y,a)}if(t.x<r||t.x>i||t.y<o||t.y>a)return!1;var l=0,c=e.length-1;for(c;l<e.length;c=l++)e[l].y>t.y!=e[c].y>t.y&&t.x<(e[c].x-e[l].x)*(t.y-e[l].y)/(e[c].y-e[l].y)+e[l].x&&(n=!n);return n}},{key:"_addNode",value:function(t,e,n){if(null==t)return t=new _(e,n,null),this._rootNode=t,t;var r=new _(e,n,t);return t.nodes.push(r),r}},{key:"draw",value:function(t,e,n,r){var i=this.hexToRgb(r);this.colorArr=[i.r,i.g,i.b,100],this._paintedIndexs=[],t={x:Math.round(t.x),y:Math.round(t.y)};var o=this.getDrawable(n);this._drawableObjs=o;o.length;this._fillColor(t,e,n)}},{key:"_fillColor",value:function(t,e,n){var r=document.querySelector(".content"),i=document.querySelector("#CursorLayer2");i&&r.removeChild(i);var o=document.querySelector("#CursorLayer");o&&r.removeChild(o);var a=document.createElement("canvas");a.id="CursorLayer",a.width=this._width,a.height=this._height,a.style.zIndex=8,a.style.border="1px solid #ccc",r.appendChild(a);var s=this._drawCanvas(a,n,t,e);if(r.appendChild(s),this.testCanvas(s.getContext("2d"))){var u=document.querySelector("svg#drawing image");u&&u.remove();var l=s.getContext("2d");l.clearRect(0,0,s.width,s.height),this._beforePaintedIndexs.push(this._paintedIndexs),this._beforePaintedColors.push(this.colorArr);for(var c=new ImageData(this._width,this._height),h=0;h<this._beforePaintedIndexs.length;h++)this.rePaint2(c.data,this._beforePaintedIndexs[h],this._beforePaintedColors[h]);l.putImageData(c,0,0),v.d.doc.image(s.toDataURL(),this._width,this._height)}s.remove(),document.querySelector("#CursorLayer").remove()}},{key:"_drawCanvas",value:function(t,e,n,r){for(var i=this._drawableObjs,o=t.getContext("2d"),a=0;a<i.length;a++){var s=i[a],u=s.array().value[0],l=s.array().value[1];o.beginPath(),o.moveTo(u[0],u[1]),o.lineTo(l[0],l[1]),o.stroke()}this.fill(o,r,n);var c=document.createElement("canvas");c.id="CursorLayer2",c.width=this._width,c.height=this._height,c.style.zIndex=8;var h=c.getContext("2d"),f=new ImageData(this._width,this._height);return this.rePaint(f.data),h.putImageData(f,0,0),c}},{key:"testCanvas",value:function(t){console.log("test start");for(var e=[{x:1,y:1},{x:this._width/2,y:1},{x:1,y:this._height/2},{x:1,y:this._height-1},{x:this._width/2,y:this._height-1},{x:this._width-1,y:this._height/2},{x:this._width-1,y:this._height/2},{x:this._width-1,y:1},{x:this._width/2,y:1},{x:this._width/2,y:this._height/2}],n=!1,r=0;r<e.length;r++){for(var i=e[r],o=t.getImageData(i.x,i.y,1,1).data,a=0;a<o.length;a++){var s=[this.colorArr[a],this.colorArr[a]+1,this.colorArr[a]-1];if(!w.a.contains(s,o[a])){console.log(i),console.log(o),n=!0;break}}if(n)break}return console.log(n),n}},{key:"rgbToHex",value:function(t,e,n){if(t>255||e>255||n>255)throw"Invalid color component";return(t<<16|e<<8|n).toString(16)}},{key:"hexToRgb",value:function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}},{key:"fill",value:function(t,e,n){var r=n.x,i=n.y,o=t.getImageData(0,0,this._width,this._height);this.imgData=o.data,this.replaceCol=t.getImageData(r,i,1,1).data,this.testFillable(r,i)||(this.floodFillScanline(r,i,this._width,this._height),t.clearRect(0,0,this._width,this._height),t.putImageData(o,0,0))}},{key:"floodFillScanline",value:function(t,e,n,r){var i=[[t,t,e,null,!0,!0]];for(this.paint(t,e);i.length;){var o=i.pop(),a=!0===o[3],s=!1===o[3],u=o[0],l=o[2];if(o[4])for(;u>0&&this.test(u-1,l);)u--,this.paint(u,l);var c=o[1];if(o[5])for(;c<n-1&&this.test(c+1,l);)c++,this.paint(c,l);o[0]--,o[1]++,l<r&&this.addNextLine(l+1,!s,!0,i,u,c,o),l>0&&this.addNextLine(l-1,!a,!1,i,u,c,o)}}},{key:"addNextLine",value:function(t,e,n,r,i,o,a){for(var s=i,u=!1,l=i;l<=o;l++){var c=(e||l<a[0]||l>a[1])&&this.test(l,t);!u&&c?(s=l,u=!0):u&&!c&&(r.push([s,l-1,t,n,s==i,!1]),u=!1),u&&this.paint(l,t),e||l!=a[0]||(l=a[1])}u&&r.push([s,l-1,t,n,s==i,!0])}},{key:"testFillable",value:function(t,e){for(var n=4*(e*this._width+t),r=0;r<4;r++)if(this.imgData[n+r]!=this.colorArr[r])return!1;return!0}},{key:"paint",value:function(t,e){var n=4*(e*this._width+t);this._paintedIndexs.push(n);for(var r=0;r<4;r++)this.imgData[n+r]=this.colorArr[r]}},{key:"rePaint2",value:function(t,e,n){for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<4;o++)t[i+o]=n[o]}},{key:"rePaint",value:function(t){for(var e=0;e<this._paintedIndexs.length;e++)for(var n=this._paintedIndexs[e],r=0;r<4;r++)t[n+r]=this.colorArr[r]}},{key:"test",value:function(t,e){for(var n=4*(e*this._width+t),r=!0,i=0;i<4;i++)r&=Math.abs(this.imgData[n+i]-this.replaceCol[i])<=this.fillTolerance;return r}}]),e}(x.a)},function(t,e,n){t.exports={default:n(136),__esModule:!0}},function(t,e,n){n(137),t.exports=n(10).Object.keys},function(t,e,n){var r=n(27),i=n(29);n(51)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n(4),i=n.n(r),o=n(1),a=n.n(o),s=n(3),u=n.n(s),l=n(5),c=n.n(l),h=n(6),f=n.n(h),d=(n(0),n(2)),p=(n.n(d),n(7),n(8),n(9),n(22)),v=function(t){function e(){return a()(this,e),c()(this,(e.__proto__||i()(e)).apply(this,arguments))}return f()(e,t),u()(e,[{key:"init",value:function(){}},{key:"draw",value:function(t,e){this.getDrawable(e)}}]),e}(p.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var r=n(4),i=n.n(r),o=n(1),a=n.n(o),s=n(3),u=n.n(s),l=n(5),c=n.n(l),h=n(6),f=n.n(h),d=n(0),p=n(2),v=(n.n(p),n(22)),y=n(7),g=(n(9),function(t){function e(){var t,n,r,o;a()(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=c()(this,(t=e.__proto__||i()(e)).call.apply(t,[this].concat(u))),r._lines=[],r._circle=null,r._firstPos=null,o=n,c()(r,o)}return f()(e,t),u()(e,[{key:"init",value:function(){this._lines=[],this._circle&&this._circle.remove(),this._circle=null}},{key:"draw",value:function(t){this._lines.forEach(function(t){return t.remove()}),this._lines=[];var e=y.a.distanceTwoPoint(this._firstPos,t)/2,n=[t.x-this._firstPos.x,t.y-this._firstPos.y];if(0!=n[0]||0!=n[1]){var r=y.a.length(n),i=[n[0]/r,n[1]/r],o={x:this._firstPos.x+e*i[0],y:this._firstPos.y+e*i[1]};this._circle&&this._circle.remove(),this._circle=d.d.doc.circle(5).center(o.x,o.y).fill("black");for(var a=[],s=0;s>-361;s-=1){var u=e*Math.cos(y.a.toRadian(s))+o.x,l=e*Math.sin(y.a.toRadian(s))+o.y,c={x:u,y:l};a.push(c)}for(var h=0;h<a.length-1;h++){var f=d.d.doc.line(a[h].x,a[h].y,a[h+1].x,a[h+1].y).stroke(d.d.getSelectedStroke());this._lines.push(f)}}}},{key:"setFirstPos",value:function(t){this._firstPos=t}},{key:"create",value:function(){if(this._lines){this._lines.forEach(function(t){return t.stroke(d.d.getSelectedStroke())});return new d.c(this._lines,this._circle)}}}]),e}(v.a))},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(1),i=n.n(r),o=n(3),a=n.n(o),s=n(2),u=(n.n(s),n(0)),l=n(46),c=n.n(l),h=function(){function t(){i()(this,t)}return a()(t,[{key:"init",value:function(){}},{key:"draw",value:function(t,e){var n=t.id();if(e==u.q.bringFront)c()("#"+n).insertBefore(c()("#drawing g:last"));else if(e==u.q.bringForward){var r=c()("#"+n).next();if(r.length>0){var i=r[0];0==this._isGrp(i)&&c()(r).insertBefore(c()("#"+n))}}else if(e==u.q.sendBack){var o=c()("#drawing g:first");o.length>0&&c()("#"+n).insertAfter(c()(o[0]))}else if(e==u.q.sendBackward){var a=c()("#"+n).prev();if(a.length>0){var s=a[0];0==this._isGrp(s)&&c()(a[0]).insertAfter(c()("#"+n))}}}},{key:"_isGrp",value:function(t){var e=t.getAttribute("name");return"g"==t.tagName&&("grid"==e||"selection"==e)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(4),i=n.n(r),o=n(1),a=n.n(o),s=n(3),u=n.n(s),l=n(5),c=n.n(l),h=n(6),f=n.n(h),d=n(0),p=n(2),v=(n.n(p),n(22)),y=function(t){function e(){var t,n,r,o;a()(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=c()(this,(t=e.__proto__||i()(e)).call.apply(t,[this].concat(u))),r._bufferSize=120,r._path=null,r._buffer=[],r._strPath="",o=n,c()(r,o)}return f()(e,t),u()(e,[{key:"init",value:function(){this._buffer=[],this._path=null,this._strPath=""}},{key:"move",value:function(t){this._appendToBuffer(t),this._updateSvgPath()}},{key:"setFirstPos",value:function(t){this._path=d.d.doc.path(),this._path.attr("fill","none");var e=d.d.getSelectedStroke();this._path.attr("stroke",e.color),this._path.attr("stroke-width",e.width),this._strPath="M "+t.x+" "+t.y,this._path.attr("d",this._strPath)}},{key:"create",value:function(){if(this._path){return new d.n(this._path)}}},{key:"_appendToBuffer",value:function(t){for(this._buffer.push(t);this._buffer.length>this._bufferSize;)this._buffer.shift()}},{key:"_getAveragePoint",value:function(t){var e=this._buffer.length;if(e%2==1||e>=this._bufferSize){var n=0,r=0,i=void 0,o=void 0,a=0;for(o=t;o<e;o++)a++,i=this._buffer[o],n+=i.x,r+=i.y;return{x:n/a,y:r/a}}return null}},{key:"_updateSvgPath",value:function(){var t=this._getAveragePoint(0);if(t){this._strPath+=" L"+t.x+" "+t.y;for(var e="",n=2;n<this._buffer.length;n+=2)t=this._getAveragePoint(n),e+=" L"+t.x+" "+t.y;this._path.attr("d",this._strPath+e)}}}]),e}(v.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(4),i=n.n(r),o=n(1),a=n.n(o),s=n(5),u=n.n(s),l=n(6),c=n.n(l),h=n(2),f=(n.n(h),n(0)),d=function(t){function e(t){a()(this,e);var n=u()(this,(e.__proto__||i()(e)).call(this,"rectangle"));return n.lines=[],n.drawType=f.p.rectangle,t.forEach(function(t){n.lines.push(t.clone())}),t.forEach(function(t){return t.remove()}),n}return c()(e,t),e}(f.m)},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(4),i=n.n(r),o=n(1),a=n.n(o),s=n(5),u=n.n(s),l=n(6),c=n.n(l),h=n(2),f=(n.n(h),n(0)),d=function(t){function e(t,n){a()(this,e);var r=u()(this,(e.__proto__||i()(e)).call(this,"circle"));return r.lines=[],r.circle=n.clone(),n.remove(),t.forEach(function(t){r.lines.push(t.clone())}),t.forEach(function(t){return t.remove()}),r}return c()(e,t),e}(f.m)},function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n(4),i=n.n(r),o=n(1),a=n.n(o),s=n(3),u=n.n(s),l=n(5),c=n.n(l),h=n(6),f=n.n(h),d=n(2),p=(n.n(d),n(0)),v=function(t){function e(t){a()(this,e);var n=c()(this,(e.__proto__||i()(e)).call(this,"line"));return n.drawType=p.p.line,n.line=t.clone(),t.remove(),n}return f()(e,t),u()(e,[{key:"initPropery",value:function(){var t=this;this.line.click(function(){console.log("burada"),t.line.stroke({color:"red"}),t.select()})}}]),e}(p.m)},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(4),i=n.n(r),o=n(1),a=n.n(o),s=n(5),u=n.n(s),l=n(6),c=n.n(l),h=n(2),f=(n.n(h),n(0)),d=function(t){function e(t){a()(this,e);var n=u()(this,(e.__proto__||i()(e)).call(this,"polygon"));return n.lines=[],n.drawType=f.p.polygon,t.forEach(function(t){n.lines.push(t.clone())}),t.forEach(function(t){return t.remove()}),n}return c()(e,t),e}(f.m)},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(4),i=n.n(r),o=n(1),a=n.n(o),s=n(5),u=n.n(s),l=n(6),c=n.n(l),h=n(2),f=(n.n(h),n(0)),d=function(t){function e(t){a()(this,e);var n=u()(this,(e.__proto__||i()(e)).call(this,"regular-polygon"));return n.lines=[],n.drawType=f.p.regularPolygon,t.forEach(function(t){n.lines.push(t.clone())}),t.forEach(function(t){return t.remove()}),n}return c()(e,t),e}(f.m)},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(4),i=n.n(r),o=n(1),a=n.n(o),s=n(5),u=n.n(s),l=n(6),c=n.n(l),h=n(2),f=(n.n(h),n(0)),d=function(t){function e(t,n,r){a()(this,e);var o=u()(this,(e.__proto__||i()(e)).call(this,"anglemeter"));return o.lines=[],o.drawType=f.p.angleMeter,o.angle=n,o.text=r.clone(),r.remove(),t.forEach(function(t){o.lines.push(t.clone())}),t.forEach(function(t){return t.remove()}),o}return c()(e,t),e}(f.m)},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(4),i=n.n(r),o=n(1),a=n.n(o),s=n(5),u=n.n(s),l=n(6),c=n.n(l),h=n(2),f=(n.n(h),n(0)),d=function(t){function e(t,n,r){a()(this,e);var o=u()(this,(e.__proto__||i()(e)).call(this,"parabol"));return o.lines=[],o.angle=r,o.drawType=f.p.parabol,t.forEach(function(t){o.lines.push(t.clone())}),o.centerCircle=n.clone(),n.remove(),t.forEach(function(t){return t.remove()}),o}return c()(e,t),e}(f.m)},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(4),i=n.n(r),o=n(1),a=n.n(o),s=n(5),u=n.n(s),l=n(6),c=n.n(l),h=n(2),f=(n.n(h),n(0)),d=function(t){function e(t){a()(this,e);var n=u()(this,(e.__proto__||i()(e)).call(this,"penTool"));return n.lines=[],n.drawType=f.p.penTool,t.forEach(function(t){n.lines.push(t.clone())}),t.forEach(function(t){return t.remove()}),n}return c()(e,t),e}(f.m)},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(4),i=n.n(r),o=n(1),a=n.n(o),s=n(5),u=n.n(s),l=n(6),c=n.n(l),h=n(2),f=(n.n(h),n(0)),d=function(t){function e(t){a()(this,e);var n=u()(this,(e.__proto__||i()(e)).call(this,"ellipse"));return n.lines=[],n.drawType=f.p.ellipse,t.forEach(function(t){n.lines.push(t.clone())}),t.forEach(function(t){return t.remove()}),n}return c()(e,t),e}(f.m)},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(4),i=n.n(r),o=n(1),a=n.n(o),s=n(5),u=n.n(s),l=n(6),c=n.n(l),h=n(2),f=(n.n(h),n(0)),d=function(t){function e(t,n){a()(this,e);var r=u()(this,(e.__proto__||i()(e)).call(this,"markedPoint"));return r.letter=null,r.drawType=f.p.markedPoint,r.circle=t.clone(),t.remove(),n&&(r.letter=n.clone(),n.remove()),r}return c()(e,t),e}(f.m)},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(4),i=n.n(r),o=n(1),a=n.n(o),s=n(5),u=n.n(s),l=n(6),c=n.n(l),h=n(2),f=(n.n(h),n(0)),d=function(t){function e(t){a()(this,e);var n=u()(this,(e.__proto__||i()(e)).call(this,"arc-defined-by-tree"));return n.lines=[],n.drawType=f.p.arcDefinedTreePoint,t.forEach(function(t){n.lines.push(t.clone())}),t.forEach(function(t){return t.remove()}),n}return c()(e,t),e}(f.m)},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(4),i=n.n(r),o=n(1),a=n.n(o),s=n(5),u=n.n(s),l=n(6),c=n.n(l),h=n(2),f=(n.n(h),n(0)),d=function(t){function e(t){a()(this,e);var n=u()(this,(e.__proto__||i()(e)).call(this,"smoothed-line"));return n.path=t.clone(),t.remove(),n}return c()(e,t),e}(f.m)}]);